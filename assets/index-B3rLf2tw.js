var lg=Object.defineProperty;var ag=(n,t,e)=>t in n?lg(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var cg=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var w=(n,t,e)=>ag(n,typeof t!="symbol"?t+"":t,e);var CT=cg((Ee,Te)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function e(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=e(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function hc(n){const t=Object.create(null);for(const e of n.split(","))t[e]=1;return e=>e in t}const qt={},tr=[],an=()=>{},ug=()=>!1,Po=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),dc=n=>n.startsWith("onUpdate:"),ie=Object.assign,fc=(n,t)=>{const e=n.indexOf(t);e>-1&&n.splice(e,1)},hg=Object.prototype.hasOwnProperty,_t=(n,t)=>hg.call(n,t),wt=Array.isArray,Vr=n=>Do(n)==="[object Map]",dg=n=>Do(n)==="[object Set]",yt=n=>typeof n=="function",Vt=n=>typeof n=="string",Cr=n=>typeof n=="symbol",$t=n=>n!==null&&typeof n=="object",bd=n=>($t(n)||yt(n))&&yt(n.then)&&yt(n.catch),fg=Object.prototype.toString,Do=n=>fg.call(n),pg=n=>Do(n).slice(8,-1),gg=n=>Do(n)==="[object Object]",pc=n=>Vt(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Kr=hc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),jo=n=>{const t=Object.create(null);return e=>t[e]||(t[e]=n(e))},mg=/-(\w)/g,qe=jo(n=>n.replace(mg,(t,e)=>e?e.toUpperCase():"")),bg=/\B([A-Z])/g,Is=jo(n=>n.replace(bg,"-$1").toLowerCase()),Ho=jo(n=>n.charAt(0).toUpperCase()+n.slice(1)),Wl=jo(n=>n?`on${Ho(n)}`:""),ss=(n,t)=>!Object.is(n,t),Vl=(n,...t)=>{for(let e=0;e<n.length;e++)n[e](...t)},vd=(n,t,e,s=!1)=>{Object.defineProperty(n,t,{configurable:!0,enumerable:!1,writable:s,value:e})},vg=n=>{const t=parseFloat(n);return isNaN(t)?n:t};let su;const Fo=()=>su||(su=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function gc(n){if(wt(n)){const t={};for(let e=0;e<n.length;e++){const s=n[e],r=Vt(s)?Cg(s):gc(s);if(r)for(const i in r)t[i]=r[i]}return t}else if(Vt(n)||$t(n))return n}const yg=/;(?![^(]*\))/g,wg=/:([^]+)/,xg=/\/\*[^]*?\*\//g;function Cg(n){const t={};return n.replace(xg,"").split(yg).forEach(e=>{if(e){const s=e.split(wg);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function mc(n){let t="";if(Vt(n))t=n;else if(wt(n))for(let e=0;e<n.length;e++){const s=mc(n[e]);s&&(t+=s+" ")}else if($t(n))for(const e in n)n[e]&&(t+=e+" ");return t.trim()}const Eg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Tg=hc(Eg);function yd(n){return!!n||n===""}/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let we;class Ng{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=we,!t&&we&&(this.index=(we.scopes||(we.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].pause();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,e;if(this.scopes)for(t=0,e=this.scopes.length;t<e;t++)this.scopes[t].resume();for(t=0,e=this.effects.length;t<e;t++)this.effects[t].resume()}}run(t){if(this._active){const e=we;try{return we=this,t()}finally{we=e}}}on(){we=this}off(){we=this.parent}stop(t){if(this._active){this._active=!1;let e,s;for(e=0,s=this.effects.length;e<s;e++)this.effects[e].stop();for(this.effects.length=0,e=0,s=this.cleanups.length;e<s;e++)this.cleanups[e]();if(this.cleanups.length=0,this.scopes){for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Ag(){return we}let Rt;const Kl=new WeakSet;class wd{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,we&&we.active&&we.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Kl.has(this)&&(Kl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Cd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ru(this),Ed(this);const t=Rt,e=Ue;Rt=this,Ue=!0;try{return this.fn()}finally{Td(this),Rt=t,Ue=e,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)yc(t);this.deps=this.depsTail=void 0,ru(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Kl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ta(this)&&this.run()}get dirty(){return Ta(this)}}let xd=0,Gr,Xr;function Cd(n,t=!1){if(n.flags|=8,t){n.next=Xr,Xr=n;return}n.next=Gr,Gr=n}function bc(){xd++}function vc(){if(--xd>0)return;if(Xr){let t=Xr;for(Xr=void 0;t;){const e=t.next;t.next=void 0,t.flags&=-9,t=e}}let n;for(;Gr;){let t=Gr;for(Gr=void 0;t;){const e=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){n||(n=s)}t=e}}if(n)throw n}function Ed(n){for(let t=n.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Td(n){let t,e=n.depsTail,s=e;for(;s;){const r=s.prevDep;s.version===-1?(s===e&&(e=r),yc(s),Sg(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=r}n.deps=t,n.depsTail=e}function Ta(n){for(let t=n.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Nd(t.dep.computed)||t.dep.version!==t.version))return!0;return!!n._dirty}function Nd(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===ai))return;n.globalVersion=ai;const t=n.dep;if(n.flags|=2,t.version>0&&!n.isSSR&&n.deps&&!Ta(n)){n.flags&=-3;return}const e=Rt,s=Ue;Rt=n,Ue=!0;try{Ed(n);const r=n.fn(n._value);(t.version===0||ss(r,n._value))&&(n._value=r,t.version++)}catch(r){throw t.version++,r}finally{Rt=e,Ue=s,Td(n),n.flags&=-3}}function yc(n,t=!1){const{dep:e,prevSub:s,nextSub:r}=n;if(s&&(s.nextSub=r,n.prevSub=void 0),r&&(r.prevSub=s,n.nextSub=void 0),e.subs===n&&(e.subs=s,!s&&e.computed)){e.computed.flags&=-5;for(let i=e.computed.deps;i;i=i.nextDep)yc(i,!0)}!t&&!--e.sc&&e.map&&e.map.delete(e.key)}function Sg(n){const{prevDep:t,nextDep:e}=n;t&&(t.nextDep=e,n.prevDep=void 0),e&&(e.prevDep=t,n.nextDep=void 0)}let Ue=!0;const Ad=[];function ls(){Ad.push(Ue),Ue=!1}function as(){const n=Ad.pop();Ue=n===void 0?!0:n}function ru(n){const{cleanup:t}=n;if(n.cleanup=void 0,t){const e=Rt;Rt=void 0;try{t()}finally{Rt=e}}}let ai=0,Lg=class{constructor(t,e){this.sub=t,this.dep=e,this.version=e.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class wc{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Rt||!Ue||Rt===this.computed)return;let e=this.activeLink;if(e===void 0||e.sub!==Rt)e=this.activeLink=new Lg(Rt,this),Rt.deps?(e.prevDep=Rt.depsTail,Rt.depsTail.nextDep=e,Rt.depsTail=e):Rt.deps=Rt.depsTail=e,Sd(e);else if(e.version===-1&&(e.version=this.version,e.nextDep)){const s=e.nextDep;s.prevDep=e.prevDep,e.prevDep&&(e.prevDep.nextDep=s),e.prevDep=Rt.depsTail,e.nextDep=void 0,Rt.depsTail.nextDep=e,Rt.depsTail=e,Rt.deps===e&&(Rt.deps=s)}return e}trigger(t){this.version++,ai++,this.notify(t)}notify(t){bc();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{vc()}}}function Sd(n){if(n.dep.sc++,n.sub.flags&4){const t=n.dep.computed;if(t&&!n.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)Sd(s)}const e=n.dep.subs;e!==n&&(n.prevSub=e,e&&(e.nextSub=n)),n.dep.subs=n}}const Na=new WeakMap,xs=Symbol(""),Aa=Symbol(""),ci=Symbol("");function te(n,t,e){if(Ue&&Rt){let s=Na.get(n);s||Na.set(n,s=new Map);let r=s.get(e);r||(s.set(e,r=new wc),r.map=s,r.key=e),r.track()}}function Mn(n,t,e,s,r,i){const o=Na.get(n);if(!o){ai++;return}const l=a=>{a&&a.trigger()};if(bc(),t==="clear")o.forEach(l);else{const a=wt(n),c=a&&pc(e);if(a&&e==="length"){const u=Number(s);o.forEach((f,d)=>{(d==="length"||d===ci||!Cr(d)&&d>=u)&&l(f)})}else switch((e!==void 0||o.has(void 0))&&l(o.get(e)),c&&l(o.get(ci)),t){case"add":a?c&&l(o.get("length")):(l(o.get(xs)),Vr(n)&&l(o.get(Aa)));break;case"delete":a||(l(o.get(xs)),Vr(n)&&l(o.get(Aa)));break;case"set":Vr(n)&&l(o.get(xs));break}}vc()}function Fs(n){const t=It(n);return t===n?t:(te(t,"iterate",ci),ze(n)?t:t.map(de))}function xc(n){return te(n=It(n),"iterate",ci),n}const Ig={__proto__:null,[Symbol.iterator](){return Gl(this,Symbol.iterator,de)},concat(...n){return Fs(this).concat(...n.map(t=>wt(t)?Fs(t):t))},entries(){return Gl(this,"entries",n=>(n[1]=de(n[1]),n))},every(n,t){return Nn(this,"every",n,t,void 0,arguments)},filter(n,t){return Nn(this,"filter",n,t,e=>e.map(de),arguments)},find(n,t){return Nn(this,"find",n,t,de,arguments)},findIndex(n,t){return Nn(this,"findIndex",n,t,void 0,arguments)},findLast(n,t){return Nn(this,"findLast",n,t,de,arguments)},findLastIndex(n,t){return Nn(this,"findLastIndex",n,t,void 0,arguments)},forEach(n,t){return Nn(this,"forEach",n,t,void 0,arguments)},includes(...n){return Xl(this,"includes",n)},indexOf(...n){return Xl(this,"indexOf",n)},join(n){return Fs(this).join(n)},lastIndexOf(...n){return Xl(this,"lastIndexOf",n)},map(n,t){return Nn(this,"map",n,t,void 0,arguments)},pop(){return Br(this,"pop")},push(...n){return Br(this,"push",n)},reduce(n,...t){return iu(this,"reduce",n,t)},reduceRight(n,...t){return iu(this,"reduceRight",n,t)},shift(){return Br(this,"shift")},some(n,t){return Nn(this,"some",n,t,void 0,arguments)},splice(...n){return Br(this,"splice",n)},toReversed(){return Fs(this).toReversed()},toSorted(n){return Fs(this).toSorted(n)},toSpliced(...n){return Fs(this).toSpliced(...n)},unshift(...n){return Br(this,"unshift",n)},values(){return Gl(this,"values",de)}};function Gl(n,t,e){const s=xc(n),r=s[t]();return s!==n&&!ze(n)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=e(i.value)),i}),r}const _g=Array.prototype;function Nn(n,t,e,s,r,i){const o=xc(n),l=o!==n&&!ze(n),a=o[t];if(a!==_g[t]){const f=a.apply(n,i);return l?de(f):f}let c=e;o!==n&&(l?c=function(f,d){return e.call(this,de(f),d,n)}:e.length>2&&(c=function(f,d){return e.call(this,f,d,n)}));const u=a.call(o,c,s);return l&&r?r(u):u}function iu(n,t,e,s){const r=xc(n);let i=e;return r!==n&&(ze(n)?e.length>3&&(i=function(o,l,a){return e.call(this,o,l,a,n)}):i=function(o,l,a){return e.call(this,o,de(l),a,n)}),r[t](i,...s)}function Xl(n,t,e){const s=It(n);te(s,"iterate",ci);const r=s[t](...e);return(r===-1||r===!1)&&Tc(e[0])?(e[0]=It(e[0]),s[t](...e)):r}function Br(n,t,e=[]){ls(),bc();const s=It(n)[t].apply(n,e);return vc(),as(),s}const Og=hc("__proto__,__v_isRef,__isVue"),Ld=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Cr));function Mg(n){Cr(n)||(n=String(n));const t=It(this);return te(t,"has",n),t.hasOwnProperty(n)}class Id{constructor(t=!1,e=!1){this._isReadonly=t,this._isShallow=e}get(t,e,s){if(e==="__v_skip")return t.__v_skip;const r=this._isReadonly,i=this._isShallow;if(e==="__v_isReactive")return!r;if(e==="__v_isReadonly")return r;if(e==="__v_isShallow")return i;if(e==="__v_raw")return s===(r?i?Fg:Rd:i?Md:Od).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=wt(t);if(!r){let a;if(o&&(a=Ig[e]))return a;if(e==="hasOwnProperty")return Mg}const l=Reflect.get(t,e,se(t)?t:s);return(Cr(e)?Ld.has(e):Og(e))||(r||te(t,"get",e),i)?l:se(l)?o&&pc(e)?l:l.value:$t(l)?r?kd(l):Uo(l):l}}class _d extends Id{constructor(t=!1){super(!1,t)}set(t,e,s,r){let i=t[e];if(!this._isShallow){const a=Es(i);if(!ze(s)&&!Es(s)&&(i=It(i),s=It(s)),!wt(t)&&se(i)&&!se(s))return a?!1:(i.value=s,!0)}const o=wt(t)&&pc(e)?Number(e)<t.length:_t(t,e),l=Reflect.set(t,e,s,se(t)?t:r);return t===It(r)&&(o?ss(s,i)&&Mn(t,"set",e,s):Mn(t,"add",e,s)),l}deleteProperty(t,e){const s=_t(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&s&&Mn(t,"delete",e,void 0),r}has(t,e){const s=Reflect.has(t,e);return(!Cr(e)||!Ld.has(e))&&te(t,"has",e),s}ownKeys(t){return te(t,"iterate",wt(t)?"length":xs),Reflect.ownKeys(t)}}class Rg extends Id{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const qg=new _d,kg=new Rg,Bg=new _d(!0),Sa=n=>n,Ki=n=>Reflect.getPrototypeOf(n);function $g(n,t,e){return function(...s){const r=this.__v_raw,i=It(r),o=Vr(i),l=n==="entries"||n===Symbol.iterator&&o,a=n==="keys"&&o,c=r[n](...s),u=e?Sa:t?La:de;return!t&&te(i,"iterate",a?Aa:xs),{next(){const{value:f,done:d}=c.next();return d?{value:f,done:d}:{value:l?[u(f[0]),u(f[1])]:u(f),done:d}},[Symbol.iterator](){return this}}}}function Gi(n){return function(...t){return n==="delete"?!1:n==="clear"?void 0:this}}function Pg(n,t){const e={get(r){const i=this.__v_raw,o=It(i),l=It(r);n||(ss(r,l)&&te(o,"get",r),te(o,"get",l));const{has:a}=Ki(o),c=t?Sa:n?La:de;if(a.call(o,r))return c(i.get(r));if(a.call(o,l))return c(i.get(l));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!n&&te(It(r),"iterate",xs),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=It(i),l=It(r);return n||(ss(r,l)&&te(o,"has",r),te(o,"has",l)),r===l?i.has(r):i.has(r)||i.has(l)},forEach(r,i){const o=this,l=o.__v_raw,a=It(l),c=t?Sa:n?La:de;return!n&&te(a,"iterate",xs),l.forEach((u,f)=>r.call(i,c(u),c(f),o))}};return ie(e,n?{add:Gi("add"),set:Gi("set"),delete:Gi("delete"),clear:Gi("clear")}:{add(r){!t&&!ze(r)&&!Es(r)&&(r=It(r));const i=It(this);return Ki(i).has.call(i,r)||(i.add(r),Mn(i,"add",r,r)),this},set(r,i){!t&&!ze(i)&&!Es(i)&&(i=It(i));const o=It(this),{has:l,get:a}=Ki(o);let c=l.call(o,r);c||(r=It(r),c=l.call(o,r));const u=a.call(o,r);return o.set(r,i),c?ss(i,u)&&Mn(o,"set",r,i):Mn(o,"add",r,i),this},delete(r){const i=It(this),{has:o,get:l}=Ki(i);let a=o.call(i,r);a||(r=It(r),a=o.call(i,r)),l&&l.call(i,r);const c=i.delete(r);return a&&Mn(i,"delete",r,void 0),c},clear(){const r=It(this),i=r.size!==0,o=r.clear();return i&&Mn(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=$g(r,n,t)}),e}function Cc(n,t){const e=Pg(n,t);return(s,r,i)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?s:Reflect.get(_t(e,r)&&r in s?e:s,r,i)}const Dg={get:Cc(!1,!1)},jg={get:Cc(!1,!0)},Hg={get:Cc(!0,!1)},Od=new WeakMap,Md=new WeakMap,Rd=new WeakMap,Fg=new WeakMap;function Ug(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function zg(n){return n.__v_skip||!Object.isExtensible(n)?0:Ug(pg(n))}function Uo(n){return Es(n)?n:Ec(n,!1,qg,Dg,Od)}function qd(n){return Ec(n,!1,Bg,jg,Md)}function kd(n){return Ec(n,!0,kg,Hg,Rd)}function Ec(n,t,e,s,r){if(!$t(n)||n.__v_raw&&!(t&&n.__v_isReactive))return n;const i=r.get(n);if(i)return i;const o=zg(n);if(o===0)return n;const l=new Proxy(n,o===2?s:e);return r.set(n,l),l}function Yr(n){return Es(n)?Yr(n.__v_raw):!!(n&&n.__v_isReactive)}function Es(n){return!!(n&&n.__v_isReadonly)}function ze(n){return!!(n&&n.__v_isShallow)}function Tc(n){return n?!!n.__v_raw:!1}function It(n){const t=n&&n.__v_raw;return t?It(t):n}function Wg(n){return!_t(n,"__v_skip")&&Object.isExtensible(n)&&vd(n,"__v_skip",!0),n}const de=n=>$t(n)?Uo(n):n,La=n=>$t(n)?kd(n):n;function se(n){return n?n.__v_isRef===!0:!1}function Vg(n){return Bd(n,!1)}function Kg(n){return Bd(n,!0)}function Bd(n,t){return se(n)?n:new Gg(n,t)}class Gg{constructor(t,e){this.dep=new wc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=e?t:It(t),this._value=e?t:de(t),this.__v_isShallow=e}get value(){return this.dep.track(),this._value}set value(t){const e=this._rawValue,s=this.__v_isShallow||ze(t)||Es(t);t=s?t:It(t),ss(t,e)&&(this._rawValue=t,this._value=s?t:de(t),this.dep.trigger())}}function er(n){return se(n)?n.value:n}const Xg={get:(n,t,e)=>t==="__v_raw"?n:er(Reflect.get(n,t,e)),set:(n,t,e,s)=>{const r=n[t];return se(r)&&!se(e)?(r.value=e,!0):Reflect.set(n,t,e,s)}};function $d(n){return Yr(n)?n:new Proxy(n,Xg)}class Yg{constructor(t,e,s){this.fn=t,this.setter=e,this._value=void 0,this.dep=new wc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ai-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!e,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Rt!==this)return Cd(this,!0),!0}get value(){const t=this.dep.track();return Nd(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Zg(n,t,e=!1){let s,r;return yt(n)?s=n:(s=n.get,r=n.set),new Yg(s,r,e)}const Xi={},yo=new WeakMap;let ys;function Qg(n,t=!1,e=ys){if(e){let s=yo.get(e);s||yo.set(e,s=[]),s.push(n)}}function Jg(n,t,e=qt){const{immediate:s,deep:r,once:i,scheduler:o,augmentJob:l,call:a}=e,c=_=>r?_:ze(_)||r===!1||r===0?Yn(_,1):Yn(_);let u,f,d,p,g=!1,b=!1;if(se(n)?(f=()=>n.value,g=ze(n)):Yr(n)?(f=()=>c(n),g=!0):wt(n)?(b=!0,g=n.some(_=>Yr(_)||ze(_)),f=()=>n.map(_=>{if(se(_))return _.value;if(Yr(_))return c(_);if(yt(_))return a?a(_,2):_()})):yt(n)?t?f=a?()=>a(n,2):n:f=()=>{if(d){ls();try{d()}finally{as()}}const _=ys;ys=u;try{return a?a(n,3,[p]):n(p)}finally{ys=_}}:f=an,t&&r){const _=f,D=r===!0?1/0:r;f=()=>Yn(_(),D)}const v=Ag(),E=()=>{u.stop(),v&&v.active&&fc(v.effects,u)};if(i&&t){const _=t;t=(...D)=>{_(...D),E()}}let N=b?new Array(n.length).fill(Xi):Xi;const S=_=>{if(!(!(u.flags&1)||!u.dirty&&!_))if(t){const D=u.run();if(r||g||(b?D.some((Q,tt)=>ss(Q,N[tt])):ss(D,N))){d&&d();const Q=ys;ys=u;try{const tt=[D,N===Xi?void 0:b&&N[0]===Xi?[]:N,p];a?a(t,3,tt):t(...tt),N=D}finally{ys=Q}}}else u.run()};return l&&l(S),u=new wd(f),u.scheduler=o?()=>o(S,!1):S,p=_=>Qg(_,!1,u),d=u.onStop=()=>{const _=yo.get(u);if(_){if(a)a(_,4);else for(const D of _)D();yo.delete(u)}},t?s?S(!0):N=u.run():o?o(S.bind(null,!0),!0):u.run(),E.pause=u.pause.bind(u),E.resume=u.resume.bind(u),E.stop=E,E}function Yn(n,t=1/0,e){if(t<=0||!$t(n)||n.__v_skip||(e=e||new Set,e.has(n)))return n;if(e.add(n),t--,se(n))Yn(n.value,t,e);else if(wt(n))for(let s=0;s<n.length;s++)Yn(n[s],t,e);else if(dg(n)||Vr(n))n.forEach(s=>{Yn(s,t,e)});else if(gg(n)){for(const s in n)Yn(n[s],t,e);for(const s of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,s)&&Yn(n[s],t,e)}return n}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Si(n,t,e,s){try{return s?n(...s):n()}catch(r){zo(r,t,e)}}function fn(n,t,e,s){if(yt(n)){const r=Si(n,t,e,s);return r&&bd(r)&&r.catch(i=>{zo(i,t,e)}),r}if(wt(n)){const r=[];for(let i=0;i<n.length;i++)r.push(fn(n[i],t,e,s));return r}}function zo(n,t,e,s=!0){const r=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||qt;if(t){let l=t.parent;const a=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${e}`;for(;l;){const u=l.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](n,a,c)===!1)return}l=l.parent}if(i){ls(),Si(i,null,10,[n,a,c]),as();return}}tm(n,e,r,s,o)}function tm(n,t,e,s=!0,r=!1){if(r)throw n;console.error(n)}const fe=[];let sn=-1;const nr=[];let Kn=null,zs=0;const Pd=Promise.resolve();let wo=null;function Dd(n){const t=wo||Pd;return n?t.then(this?n.bind(this):n):t}function em(n){let t=sn+1,e=fe.length;for(;t<e;){const s=t+e>>>1,r=fe[s],i=ui(r);i<n||i===n&&r.flags&2?t=s+1:e=s}return t}function Nc(n){if(!(n.flags&1)){const t=ui(n),e=fe[fe.length-1];!e||!(n.flags&2)&&t>=ui(e)?fe.push(n):fe.splice(em(t),0,n),n.flags|=1,jd()}}function jd(){wo||(wo=Pd.then(Fd))}function nm(n){wt(n)?nr.push(...n):Kn&&n.id===-1?Kn.splice(zs+1,0,n):n.flags&1||(nr.push(n),n.flags|=1),jd()}function ou(n,t,e=sn+1){for(;e<fe.length;e++){const s=fe[e];if(s&&s.flags&2){if(n&&s.id!==n.uid)continue;fe.splice(e,1),e--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function Hd(n){if(nr.length){const t=[...new Set(nr)].sort((e,s)=>ui(e)-ui(s));if(nr.length=0,Kn){Kn.push(...t);return}for(Kn=t,zs=0;zs<Kn.length;zs++){const e=Kn[zs];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}Kn=null,zs=0}}const ui=n=>n.id==null?n.flags&2?-1:1/0:n.id;function Fd(n){try{for(sn=0;sn<fe.length;sn++){const t=fe[sn];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Si(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;sn<fe.length;sn++){const t=fe[sn];t&&(t.flags&=-2)}sn=-1,fe.length=0,Hd(),wo=null,(fe.length||nr.length)&&Fd()}}let Fe=null,Ud=null;function xo(n){const t=Fe;return Fe=n,Ud=n&&n.type.__scopeId||null,t}function co(n,t=Fe,e){if(!t||n._n)return n;const s=(...r)=>{s._d&&bu(-1);const i=xo(t);let o;try{o=n(...r)}finally{xo(i),s._d&&bu(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function bs(n,t,e,s){const r=n.dirs,i=t&&t.dirs;for(let o=0;o<r.length;o++){const l=r[o];i&&(l.oldValue=i[o].value);let a=l.dir[s];a&&(ls(),fn(a,e,8,[n.el,l,n,t]),as())}}const sm=Symbol("_vte"),rm=n=>n.__isTeleport;function Ac(n,t){n.shapeFlag&6&&n.component?(n.transition=t,Ac(n.component.subTree,t)):n.shapeFlag&128?(n.ssContent.transition=t.clone(n.ssContent),n.ssFallback.transition=t.clone(n.ssFallback)):n.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Wo(n,t){return yt(n)?ie({name:n.name},t,{setup:n}):n}function zd(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function Co(n,t,e,s,r=!1){if(wt(n)){n.forEach((g,b)=>Co(g,t&&(wt(t)?t[b]:t),e,s,r));return}if(Zr(s)&&!r){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&Co(n,t,e,s.component.subTree);return}const i=s.shapeFlag&4?_c(s.component):s.el,o=r?null:i,{i:l,r:a}=n,c=t&&t.r,u=l.refs===qt?l.refs={}:l.refs,f=l.setupState,d=It(f),p=f===qt?()=>!1:g=>_t(d,g);if(c!=null&&c!==a&&(Vt(c)?(u[c]=null,p(c)&&(f[c]=null)):se(c)&&(c.value=null)),yt(a))Si(a,l,12,[o,u]);else{const g=Vt(a),b=se(a);if(g||b){const v=()=>{if(n.f){const E=g?p(a)?f[a]:u[a]:a.value;r?wt(E)&&fc(E,i):wt(E)?E.includes(i)||E.push(i):g?(u[a]=[i],p(a)&&(f[a]=u[a])):(a.value=[i],n.k&&(u[n.k]=a.value))}else g?(u[a]=o,p(a)&&(f[a]=o)):b&&(a.value=o,n.k&&(u[n.k]=o))};o?(v.id=-1,ye(v,e)):v()}}}Fo().requestIdleCallback;Fo().cancelIdleCallback;const Zr=n=>!!n.type.__asyncLoader,Wd=n=>n.type.__isKeepAlive;function im(n,t){Vd(n,"a",t)}function om(n,t){Vd(n,"da",t)}function Vd(n,t,e=ee){const s=n.__wdc||(n.__wdc=()=>{let r=e;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(Vo(t,s,e),e){let r=e.parent;for(;r&&r.parent;)Wd(r.parent.vnode)&&lm(s,t,e,r),r=r.parent}}function lm(n,t,e,s){const r=Vo(t,n,s,!0);Kd(()=>{fc(s[t],r)},e)}function Vo(n,t,e=ee,s=!1){if(e){const r=e[n]||(e[n]=[]),i=t.__weh||(t.__weh=(...o)=>{ls();const l=Li(e),a=fn(t,e,n,o);return l(),as(),a});return s?r.unshift(i):r.push(i),i}}const Pn=n=>(t,e=ee)=>{(!fi||n==="sp")&&Vo(n,(...s)=>t(...s),e)},am=Pn("bm"),Sc=Pn("m"),cm=Pn("bu"),um=Pn("u"),hm=Pn("bum"),Kd=Pn("um"),dm=Pn("sp"),fm=Pn("rtg"),pm=Pn("rtc");function gm(n,t=ee){Vo("ec",n,t)}const mm="components";function lu(n,t){return vm(mm,n,!0,t)||n}const bm=Symbol.for("v-ndc");function vm(n,t,e=!0,s=!1){const r=Fe||ee;if(r){const i=r.type;{const l=ib(i,!1);if(l&&(l===t||l===qe(t)||l===Ho(qe(t))))return i}const o=au(r[n]||i[n],t)||au(r.appContext[n],t);return!o&&s?i:o}}function au(n,t){return n&&(n[t]||n[qe(t)]||n[Ho(qe(t))])}const Ia=n=>n?pf(n)?_c(n):Ia(n.parent):null,Qr=ie(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Ia(n.parent),$root:n=>Ia(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>Xd(n),$forceUpdate:n=>n.f||(n.f=()=>{Nc(n.update)}),$nextTick:n=>n.n||(n.n=Dd.bind(n.proxy)),$watch:n=>Dm.bind(n)}),Yl=(n,t)=>n!==qt&&!n.__isScriptSetup&&_t(n,t),ym={get({_:n},t){if(t==="__v_skip")return!0;const{ctx:e,setupState:s,data:r,props:i,accessCache:o,type:l,appContext:a}=n;let c;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return s[t];case 2:return r[t];case 4:return e[t];case 3:return i[t]}else{if(Yl(s,t))return o[t]=1,s[t];if(r!==qt&&_t(r,t))return o[t]=2,r[t];if((c=n.propsOptions[0])&&_t(c,t))return o[t]=3,i[t];if(e!==qt&&_t(e,t))return o[t]=4,e[t];_a&&(o[t]=0)}}const u=Qr[t];let f,d;if(u)return t==="$attrs"&&te(n.attrs,"get",""),u(n);if((f=l.__cssModules)&&(f=f[t]))return f;if(e!==qt&&_t(e,t))return o[t]=4,e[t];if(d=a.config.globalProperties,_t(d,t))return d[t]},set({_:n},t,e){const{data:s,setupState:r,ctx:i}=n;return Yl(r,t)?(r[t]=e,!0):s!==qt&&_t(s,t)?(s[t]=e,!0):_t(n.props,t)||t[0]==="$"&&t.slice(1)in n?!1:(i[t]=e,!0)},has({_:{data:n,setupState:t,accessCache:e,ctx:s,appContext:r,propsOptions:i}},o){let l;return!!e[o]||n!==qt&&_t(n,o)||Yl(t,o)||(l=i[0])&&_t(l,o)||_t(s,o)||_t(Qr,o)||_t(r.config.globalProperties,o)},defineProperty(n,t,e){return e.get!=null?n._.accessCache[t]=0:_t(e,"value")&&this.set(n,t,e.value,null),Reflect.defineProperty(n,t,e)}};function cu(n){return wt(n)?n.reduce((t,e)=>(t[e]=null,t),{}):n}let _a=!0;function wm(n){const t=Xd(n),e=n.proxy,s=n.ctx;_a=!1,t.beforeCreate&&uu(t.beforeCreate,n,"bc");const{data:r,computed:i,methods:o,watch:l,provide:a,inject:c,created:u,beforeMount:f,mounted:d,beforeUpdate:p,updated:g,activated:b,deactivated:v,beforeDestroy:E,beforeUnmount:N,destroyed:S,unmounted:_,render:D,renderTracked:Q,renderTriggered:tt,errorCaptured:lt,serverPrefetch:bt,expose:ft,inheritAttrs:C,components:$,directives:A,filters:F}=t;if(c&&xm(c,s,null),o)for(const q in o){const H=o[q];yt(H)&&(s[q]=H.bind(e))}if(r){const q=r.call(e,e);$t(q)&&(n.data=Uo(q))}if(_a=!0,i)for(const q in i){const H=i[q],j=yt(H)?H.bind(e,e):yt(H.get)?H.get.bind(e,e):an,V=!yt(H)&&yt(H.set)?H.set.bind(e):an,nt=je({get:j,set:V});Object.defineProperty(s,q,{enumerable:!0,configurable:!0,get:()=>nt.value,set:J=>nt.value=J})}if(l)for(const q in l)Gd(l[q],s,e,q);if(a){const q=yt(a)?a.call(e):a;Reflect.ownKeys(q).forEach(H=>{uo(H,q[H])})}u&&uu(u,n,"c");function O(q,H){wt(H)?H.forEach(j=>q(j.bind(e))):H&&q(H.bind(e))}if(O(am,f),O(Sc,d),O(cm,p),O(um,g),O(im,b),O(om,v),O(gm,lt),O(pm,Q),O(fm,tt),O(hm,N),O(Kd,_),O(dm,bt),wt(ft))if(ft.length){const q=n.exposed||(n.exposed={});ft.forEach(H=>{Object.defineProperty(q,H,{get:()=>e[H],set:j=>e[H]=j})})}else n.exposed||(n.exposed={});D&&n.render===an&&(n.render=D),C!=null&&(n.inheritAttrs=C),$&&(n.components=$),A&&(n.directives=A),bt&&zd(n)}function xm(n,t,e=an){wt(n)&&(n=Oa(n));for(const s in n){const r=n[s];let i;$t(r)?"default"in r?i=Rn(r.from||s,r.default,!0):i=Rn(r.from||s):i=Rn(r),se(i)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[s]=i}}function uu(n,t,e){fn(wt(n)?n.map(s=>s.bind(t.proxy)):n.bind(t.proxy),t,e)}function Gd(n,t,e,s){let r=s.includes(".")?uf(e,s):()=>e[s];if(Vt(n)){const i=t[n];yt(i)&&ho(r,i)}else if(yt(n))ho(r,n.bind(e));else if($t(n))if(wt(n))n.forEach(i=>Gd(i,t,e,s));else{const i=yt(n.handler)?n.handler.bind(e):t[n.handler];yt(i)&&ho(r,i,n)}}function Xd(n){const t=n.type,{mixins:e,extends:s}=t,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=n.appContext,l=i.get(t);let a;return l?a=l:!r.length&&!e&&!s?a=t:(a={},r.length&&r.forEach(c=>Eo(a,c,o,!0)),Eo(a,t,o)),$t(t)&&i.set(t,a),a}function Eo(n,t,e,s=!1){const{mixins:r,extends:i}=t;i&&Eo(n,i,e,!0),r&&r.forEach(o=>Eo(n,o,e,!0));for(const o in t)if(!(s&&o==="expose")){const l=Cm[o]||e&&e[o];n[o]=l?l(n[o],t[o]):t[o]}return n}const Cm={data:hu,props:du,emits:du,methods:Fr,computed:Fr,beforeCreate:he,created:he,beforeMount:he,mounted:he,beforeUpdate:he,updated:he,beforeDestroy:he,beforeUnmount:he,destroyed:he,unmounted:he,activated:he,deactivated:he,errorCaptured:he,serverPrefetch:he,components:Fr,directives:Fr,watch:Tm,provide:hu,inject:Em};function hu(n,t){return t?n?function(){return ie(yt(n)?n.call(this,this):n,yt(t)?t.call(this,this):t)}:t:n}function Em(n,t){return Fr(Oa(n),Oa(t))}function Oa(n){if(wt(n)){const t={};for(let e=0;e<n.length;e++)t[n[e]]=n[e];return t}return n}function he(n,t){return n?[...new Set([].concat(n,t))]:t}function Fr(n,t){return n?ie(Object.create(null),n,t):t}function du(n,t){return n?wt(n)&&wt(t)?[...new Set([...n,...t])]:ie(Object.create(null),cu(n),cu(t??{})):t}function Tm(n,t){if(!n)return t;if(!t)return n;const e=ie(Object.create(null),n);for(const s in t)e[s]=he(n[s],t[s]);return e}function Yd(){return{app:null,config:{isNativeTag:ug,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Nm=0;function Am(n,t){return function(s,r=null){yt(s)||(s=ie({},s)),r!=null&&!$t(r)&&(r=null);const i=Yd(),o=new WeakSet,l=[];let a=!1;const c=i.app={_uid:Nm++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:lb,get config(){return i.config},set config(u){},use(u,...f){return o.has(u)||(u&&yt(u.install)?(o.add(u),u.install(c,...f)):yt(u)&&(o.add(u),u(c,...f))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,f){return f?(i.components[u]=f,c):i.components[u]},directive(u,f){return f?(i.directives[u]=f,c):i.directives[u]},mount(u,f,d){if(!a){const p=c._ceVNode||pe(s,r);return p.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),n(p,u,d),a=!0,c._container=u,u.__vue_app__=c,_c(p.component)}},onUnmount(u){l.push(u)},unmount(){a&&(fn(l,c._instance,16),n(null,c._container),delete c._container.__vue_app__)},provide(u,f){return i.provides[u]=f,c},runWithContext(u){const f=sr;sr=c;try{return u()}finally{sr=f}}};return c}}let sr=null;function uo(n,t){if(ee){let e=ee.provides;const s=ee.parent&&ee.parent.provides;s===e&&(e=ee.provides=Object.create(s)),e[n]=t}}function Rn(n,t,e=!1){const s=ee||Fe;if(s||sr){const r=sr?sr._context.provides:s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(r&&n in r)return r[n];if(arguments.length>1)return e&&yt(t)?t.call(s&&s.proxy):t}}const Zd={},Qd=()=>Object.create(Zd),Jd=n=>Object.getPrototypeOf(n)===Zd;function Sm(n,t,e,s=!1){const r={},i=Qd();n.propsDefaults=Object.create(null),tf(n,t,r,i);for(const o in n.propsOptions[0])o in r||(r[o]=void 0);e?n.props=s?r:qd(r):n.type.props?n.props=r:n.props=i,n.attrs=i}function Lm(n,t,e,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=n,l=It(r),[a]=n.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=n.vnode.dynamicProps;for(let f=0;f<u.length;f++){let d=u[f];if(Ko(n.emitsOptions,d))continue;const p=t[d];if(a)if(_t(i,d))p!==i[d]&&(i[d]=p,c=!0);else{const g=qe(d);r[g]=Ma(a,l,g,p,n,!1)}else p!==i[d]&&(i[d]=p,c=!0)}}}else{tf(n,t,r,i)&&(c=!0);let u;for(const f in l)(!t||!_t(t,f)&&((u=Is(f))===f||!_t(t,u)))&&(a?e&&(e[f]!==void 0||e[u]!==void 0)&&(r[f]=Ma(a,l,f,void 0,n,!0)):delete r[f]);if(i!==l)for(const f in i)(!t||!_t(t,f))&&(delete i[f],c=!0)}c&&Mn(n.attrs,"set","")}function tf(n,t,e,s){const[r,i]=n.propsOptions;let o=!1,l;if(t)for(let a in t){if(Kr(a))continue;const c=t[a];let u;r&&_t(r,u=qe(a))?!i||!i.includes(u)?e[u]=c:(l||(l={}))[u]=c:Ko(n.emitsOptions,a)||(!(a in s)||c!==s[a])&&(s[a]=c,o=!0)}if(i){const a=It(e),c=l||qt;for(let u=0;u<i.length;u++){const f=i[u];e[f]=Ma(r,a,f,c[f],n,!_t(c,f))}}return o}function Ma(n,t,e,s,r,i){const o=n[e];if(o!=null){const l=_t(o,"default");if(l&&s===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&yt(a)){const{propsDefaults:c}=r;if(e in c)s=c[e];else{const u=Li(r);s=c[e]=a.call(null,t),u()}}else s=a;r.ce&&r.ce._setProp(e,s)}o[0]&&(i&&!l?s=!1:o[1]&&(s===""||s===Is(e))&&(s=!0))}return s}const Im=new WeakMap;function ef(n,t,e=!1){const s=e?Im:t.propsCache,r=s.get(n);if(r)return r;const i=n.props,o={},l=[];let a=!1;if(!yt(n)){const u=f=>{a=!0;const[d,p]=ef(f,t,!0);ie(o,d),p&&l.push(...p)};!e&&t.mixins.length&&t.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!i&&!a)return $t(n)&&s.set(n,tr),tr;if(wt(i))for(let u=0;u<i.length;u++){const f=qe(i[u]);fu(f)&&(o[f]=qt)}else if(i)for(const u in i){const f=qe(u);if(fu(f)){const d=i[u],p=o[f]=wt(d)||yt(d)?{type:d}:ie({},d),g=p.type;let b=!1,v=!0;if(wt(g))for(let E=0;E<g.length;++E){const N=g[E],S=yt(N)&&N.name;if(S==="Boolean"){b=!0;break}else S==="String"&&(v=!1)}else b=yt(g)&&g.name==="Boolean";p[0]=b,p[1]=v,(b||_t(p,"default"))&&l.push(f)}}const c=[o,l];return $t(n)&&s.set(n,c),c}function fu(n){return n[0]!=="$"&&!Kr(n)}const nf=n=>n[0]==="_"||n==="$stable",Lc=n=>wt(n)?n.map(on):[on(n)],_m=(n,t,e)=>{if(t._n)return t;const s=co((...r)=>Lc(t(...r)),e);return s._c=!1,s},sf=(n,t,e)=>{const s=n._ctx;for(const r in n){if(nf(r))continue;const i=n[r];if(yt(i))t[r]=_m(r,i,s);else if(i!=null){const o=Lc(i);t[r]=()=>o}}},rf=(n,t)=>{const e=Lc(t);n.slots.default=()=>e},of=(n,t,e)=>{for(const s in t)(e||s!=="_")&&(n[s]=t[s])},Om=(n,t,e)=>{const s=n.slots=Qd();if(n.vnode.shapeFlag&32){const r=t._;r?(of(s,t,e),e&&vd(s,"_",r,!0)):sf(t,s)}else t&&rf(n,t)},Mm=(n,t,e)=>{const{vnode:s,slots:r}=n;let i=!0,o=qt;if(s.shapeFlag&32){const l=t._;l?e&&l===1?i=!1:of(r,t,e):(i=!t.$stable,sf(t,r)),o=t}else t&&(rf(n,t),o={default:1});if(i)for(const l in r)!nf(l)&&o[l]==null&&delete r[l]},ye=Vm;function Rm(n){return qm(n)}function qm(n,t){const e=Fo();e.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:l,createComment:a,setText:c,setElementText:u,parentNode:f,nextSibling:d,setScopeId:p=an,insertStaticContent:g}=n,b=(y,x,L,k=null,z=null,U=null,et=void 0,Z=null,Y=!!x.dynamicChildren)=>{if(y===x)return;y&&!$r(y,x)&&(k=R(y),J(y,z,U,!0),y=null),x.patchFlag===-2&&(Y=!1,x.dynamicChildren=null);const{type:G,ref:dt,shapeFlag:st}=x;switch(G){case Go:v(y,x,L,k);break;case hi:E(y,x,L,k);break;case Ql:y==null&&N(x,L,k,et);break;case Se:$(y,x,L,k,z,U,et,Z,Y);break;default:st&1?D(y,x,L,k,z,U,et,Z,Y):st&6?A(y,x,L,k,z,U,et,Z,Y):(st&64||st&128)&&G.process(y,x,L,k,z,U,et,Z,Y,X)}dt!=null&&z&&Co(dt,y&&y.ref,U,x||y,!x)},v=(y,x,L,k)=>{if(y==null)s(x.el=l(x.children),L,k);else{const z=x.el=y.el;x.children!==y.children&&c(z,x.children)}},E=(y,x,L,k)=>{y==null?s(x.el=a(x.children||""),L,k):x.el=y.el},N=(y,x,L,k)=>{[y.el,y.anchor]=g(y.children,x,L,k,y.el,y.anchor)},S=({el:y,anchor:x},L,k)=>{let z;for(;y&&y!==x;)z=d(y),s(y,L,k),y=z;s(x,L,k)},_=({el:y,anchor:x})=>{let L;for(;y&&y!==x;)L=d(y),r(y),y=L;r(x)},D=(y,x,L,k,z,U,et,Z,Y)=>{x.type==="svg"?et="svg":x.type==="math"&&(et="mathml"),y==null?Q(x,L,k,z,U,et,Z,Y):bt(y,x,z,U,et,Z,Y)},Q=(y,x,L,k,z,U,et,Z)=>{let Y,G;const{props:dt,shapeFlag:st,transition:it,dirs:pt}=y;if(Y=y.el=o(y.type,U,dt&&dt.is,dt),st&8?u(Y,y.children):st&16&&lt(y.children,Y,null,k,z,Zl(y,U),et,Z),pt&&bs(y,null,k,"created"),tt(Y,y,y.scopeId,et,k),dt){for(const Tt in dt)Tt!=="value"&&!Kr(Tt)&&i(Y,Tt,null,dt[Tt],U,k);"value"in dt&&i(Y,"value",null,dt.value,U),(G=dt.onVnodeBeforeMount)&&nn(G,k,y)}pt&&bs(y,null,k,"beforeMount");const Ct=km(z,it);Ct&&it.beforeEnter(Y),s(Y,x,L),((G=dt&&dt.onVnodeMounted)||Ct||pt)&&ye(()=>{G&&nn(G,k,y),Ct&&it.enter(Y),pt&&bs(y,null,k,"mounted")},z)},tt=(y,x,L,k,z)=>{if(L&&p(y,L),k)for(let U=0;U<k.length;U++)p(y,k[U]);if(z){let U=z.subTree;if(x===U||df(U.type)&&(U.ssContent===x||U.ssFallback===x)){const et=z.vnode;tt(y,et,et.scopeId,et.slotScopeIds,z.parent)}}},lt=(y,x,L,k,z,U,et,Z,Y=0)=>{for(let G=Y;G<y.length;G++){const dt=y[G]=Z?Gn(y[G]):on(y[G]);b(null,dt,x,L,k,z,U,et,Z)}},bt=(y,x,L,k,z,U,et)=>{const Z=x.el=y.el;let{patchFlag:Y,dynamicChildren:G,dirs:dt}=x;Y|=y.patchFlag&16;const st=y.props||qt,it=x.props||qt;let pt;if(L&&vs(L,!1),(pt=it.onVnodeBeforeUpdate)&&nn(pt,L,x,y),dt&&bs(x,y,L,"beforeUpdate"),L&&vs(L,!0),(st.innerHTML&&it.innerHTML==null||st.textContent&&it.textContent==null)&&u(Z,""),G?ft(y.dynamicChildren,G,Z,L,k,Zl(x,z),U):et||H(y,x,Z,null,L,k,Zl(x,z),U,!1),Y>0){if(Y&16)C(Z,st,it,L,z);else if(Y&2&&st.class!==it.class&&i(Z,"class",null,it.class,z),Y&4&&i(Z,"style",st.style,it.style,z),Y&8){const Ct=x.dynamicProps;for(let Tt=0;Tt<Ct.length;Tt++){const Et=Ct[Tt],Ft=st[Et],Ot=it[Et];(Ot!==Ft||Et==="value")&&i(Z,Et,Ft,Ot,z,L)}}Y&1&&y.children!==x.children&&u(Z,x.children)}else!et&&G==null&&C(Z,st,it,L,z);((pt=it.onVnodeUpdated)||dt)&&ye(()=>{pt&&nn(pt,L,x,y),dt&&bs(x,y,L,"updated")},k)},ft=(y,x,L,k,z,U,et)=>{for(let Z=0;Z<x.length;Z++){const Y=y[Z],G=x[Z],dt=Y.el&&(Y.type===Se||!$r(Y,G)||Y.shapeFlag&70)?f(Y.el):L;b(Y,G,dt,null,k,z,U,et,!0)}},C=(y,x,L,k,z)=>{if(x!==L){if(x!==qt)for(const U in x)!Kr(U)&&!(U in L)&&i(y,U,x[U],null,z,k);for(const U in L){if(Kr(U))continue;const et=L[U],Z=x[U];et!==Z&&U!=="value"&&i(y,U,Z,et,z,k)}"value"in L&&i(y,"value",x.value,L.value,z)}},$=(y,x,L,k,z,U,et,Z,Y)=>{const G=x.el=y?y.el:l(""),dt=x.anchor=y?y.anchor:l("");let{patchFlag:st,dynamicChildren:it,slotScopeIds:pt}=x;pt&&(Z=Z?Z.concat(pt):pt),y==null?(s(G,L,k),s(dt,L,k),lt(x.children||[],L,dt,z,U,et,Z,Y)):st>0&&st&64&&it&&y.dynamicChildren?(ft(y.dynamicChildren,it,L,z,U,et,Z),(x.key!=null||z&&x===z.subTree)&&lf(y,x,!0)):H(y,x,L,dt,z,U,et,Z,Y)},A=(y,x,L,k,z,U,et,Z,Y)=>{x.slotScopeIds=Z,y==null?x.shapeFlag&512?z.ctx.activate(x,L,k,et,Y):F(x,L,k,z,U,et,Y):P(y,x,Y)},F=(y,x,L,k,z,U,et)=>{const Z=y.component=tb(y,k,z);if(Wd(y)&&(Z.ctx.renderer=X),eb(Z,!1,et),Z.asyncDep){if(z&&z.registerDep(Z,O,et),!y.el){const Y=Z.subTree=pe(hi);E(null,Y,x,L)}}else O(Z,y,x,L,z,U,et)},P=(y,x,L)=>{const k=x.component=y.component;if(zm(y,x,L))if(k.asyncDep&&!k.asyncResolved){q(k,x,L);return}else k.next=x,k.update();else x.el=y.el,k.vnode=x},O=(y,x,L,k,z,U,et)=>{const Z=()=>{if(y.isMounted){let{next:st,bu:it,u:pt,parent:Ct,vnode:Tt}=y;{const le=af(y);if(le){st&&(st.el=Tt.el,q(y,st,et)),le.asyncDep.then(()=>{y.isUnmounted||Z()});return}}let Et=st,Ft;vs(y,!1),st?(st.el=Tt.el,q(y,st,et)):st=Tt,it&&Vl(it),(Ft=st.props&&st.props.onVnodeBeforeUpdate)&&nn(Ft,Ct,st,Tt),vs(y,!0);const Ot=gu(y),oe=y.subTree;y.subTree=Ot,b(oe,Ot,f(oe.el),R(oe),y,z,U),st.el=Ot.el,Et===null&&Wm(y,Ot.el),pt&&ye(pt,z),(Ft=st.props&&st.props.onVnodeUpdated)&&ye(()=>nn(Ft,Ct,st,Tt),z)}else{let st;const{el:it,props:pt}=x,{bm:Ct,m:Tt,parent:Et,root:Ft,type:Ot}=y,oe=Zr(x);vs(y,!1),Ct&&Vl(Ct),!oe&&(st=pt&&pt.onVnodeBeforeMount)&&nn(st,Et,x),vs(y,!0);{Ft.ce&&Ft.ce._injectChildStyle(Ot);const le=y.subTree=gu(y);b(null,le,L,k,y,z,U),x.el=le.el}if(Tt&&ye(Tt,z),!oe&&(st=pt&&pt.onVnodeMounted)){const le=x;ye(()=>nn(st,Et,le),z)}(x.shapeFlag&256||Et&&Zr(Et.vnode)&&Et.vnode.shapeFlag&256)&&y.a&&ye(y.a,z),y.isMounted=!0,x=L=k=null}};y.scope.on();const Y=y.effect=new wd(Z);y.scope.off();const G=y.update=Y.run.bind(Y),dt=y.job=Y.runIfDirty.bind(Y);dt.i=y,dt.id=y.uid,Y.scheduler=()=>Nc(dt),vs(y,!0),G()},q=(y,x,L)=>{x.component=y;const k=y.vnode.props;y.vnode=x,y.next=null,Lm(y,x.props,k,L),Mm(y,x.children,L),ls(),ou(y),as()},H=(y,x,L,k,z,U,et,Z,Y=!1)=>{const G=y&&y.children,dt=y?y.shapeFlag:0,st=x.children,{patchFlag:it,shapeFlag:pt}=x;if(it>0){if(it&128){V(G,st,L,k,z,U,et,Z,Y);return}else if(it&256){j(G,st,L,k,z,U,et,Z,Y);return}}pt&8?(dt&16&&xt(G,z,U),st!==G&&u(L,st)):dt&16?pt&16?V(G,st,L,k,z,U,et,Z,Y):xt(G,z,U,!0):(dt&8&&u(L,""),pt&16&&lt(st,L,k,z,U,et,Z,Y))},j=(y,x,L,k,z,U,et,Z,Y)=>{y=y||tr,x=x||tr;const G=y.length,dt=x.length,st=Math.min(G,dt);let it;for(it=0;it<st;it++){const pt=x[it]=Y?Gn(x[it]):on(x[it]);b(y[it],pt,L,null,z,U,et,Z,Y)}G>dt?xt(y,z,U,!0,!1,st):lt(x,L,k,z,U,et,Z,Y,st)},V=(y,x,L,k,z,U,et,Z,Y)=>{let G=0;const dt=x.length;let st=y.length-1,it=dt-1;for(;G<=st&&G<=it;){const pt=y[G],Ct=x[G]=Y?Gn(x[G]):on(x[G]);if($r(pt,Ct))b(pt,Ct,L,null,z,U,et,Z,Y);else break;G++}for(;G<=st&&G<=it;){const pt=y[st],Ct=x[it]=Y?Gn(x[it]):on(x[it]);if($r(pt,Ct))b(pt,Ct,L,null,z,U,et,Z,Y);else break;st--,it--}if(G>st){if(G<=it){const pt=it+1,Ct=pt<dt?x[pt].el:k;for(;G<=it;)b(null,x[G]=Y?Gn(x[G]):on(x[G]),L,Ct,z,U,et,Z,Y),G++}}else if(G>it)for(;G<=st;)J(y[G],z,U,!0),G++;else{const pt=G,Ct=G,Tt=new Map;for(G=Ct;G<=it;G++){const Pt=x[G]=Y?Gn(x[G]):on(x[G]);Pt.key!=null&&Tt.set(Pt.key,G)}let Et,Ft=0;const Ot=it-Ct+1;let oe=!1,le=0;const yn=new Array(Ot);for(G=0;G<Ot;G++)yn[G]=0;for(G=pt;G<=st;G++){const Pt=y[G];if(Ft>=Ot){J(Pt,z,U,!0);continue}let ae;if(Pt.key!=null)ae=Tt.get(Pt.key);else for(Et=Ct;Et<=it;Et++)if(yn[Et-Ct]===0&&$r(Pt,x[Et])){ae=Et;break}ae===void 0?J(Pt,z,U,!0):(yn[ae-Ct]=G+1,ae>=le?le=ae:oe=!0,b(Pt,x[ae],L,null,z,U,et,Z,Y),Ft++)}const Hn=oe?Bm(yn):tr;for(Et=Hn.length-1,G=Ot-1;G>=0;G--){const Pt=Ct+G,ae=x[Pt],wn=Pt+1<dt?x[Pt+1].el:k;yn[G]===0?b(null,ae,L,wn,z,U,et,Z,Y):oe&&(Et<0||G!==Hn[Et]?nt(ae,L,wn,2):Et--)}}},nt=(y,x,L,k,z=null)=>{const{el:U,type:et,transition:Z,children:Y,shapeFlag:G}=y;if(G&6){nt(y.component.subTree,x,L,k);return}if(G&128){y.suspense.move(x,L,k);return}if(G&64){et.move(y,x,L,X);return}if(et===Se){s(U,x,L);for(let st=0;st<Y.length;st++)nt(Y[st],x,L,k);s(y.anchor,x,L);return}if(et===Ql){S(y,x,L);return}if(k!==2&&G&1&&Z)if(k===0)Z.beforeEnter(U),s(U,x,L),ye(()=>Z.enter(U),z);else{const{leave:st,delayLeave:it,afterLeave:pt}=Z,Ct=()=>s(U,x,L),Tt=()=>{st(U,()=>{Ct(),pt&&pt()})};it?it(U,Ct,Tt):Tt()}else s(U,x,L)},J=(y,x,L,k=!1,z=!1)=>{const{type:U,props:et,ref:Z,children:Y,dynamicChildren:G,shapeFlag:dt,patchFlag:st,dirs:it,cacheIndex:pt}=y;if(st===-2&&(z=!1),Z!=null&&Co(Z,null,L,y,!0),pt!=null&&(x.renderCache[pt]=void 0),dt&256){x.ctx.deactivate(y);return}const Ct=dt&1&&it,Tt=!Zr(y);let Et;if(Tt&&(Et=et&&et.onVnodeBeforeUnmount)&&nn(Et,x,y),dt&6)at(y.component,L,k);else{if(dt&128){y.suspense.unmount(L,k);return}Ct&&bs(y,null,x,"beforeUnmount"),dt&64?y.type.remove(y,x,L,X,k):G&&!G.hasOnce&&(U!==Se||st>0&&st&64)?xt(G,x,L,!1,!0):(U===Se&&st&384||!z&&dt&16)&&xt(Y,x,L),k&&gt(y)}(Tt&&(Et=et&&et.onVnodeUnmounted)||Ct)&&ye(()=>{Et&&nn(Et,x,y),Ct&&bs(y,null,x,"unmounted")},L)},gt=y=>{const{type:x,el:L,anchor:k,transition:z}=y;if(x===Se){mt(L,k);return}if(x===Ql){_(y);return}const U=()=>{r(L),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(y.shapeFlag&1&&z&&!z.persisted){const{leave:et,delayLeave:Z}=z,Y=()=>et(L,U);Z?Z(y.el,U,Y):Y()}else U()},mt=(y,x)=>{let L;for(;y!==x;)L=d(y),r(y),y=L;r(x)},at=(y,x,L)=>{const{bum:k,scope:z,job:U,subTree:et,um:Z,m:Y,a:G}=y;pu(Y),pu(G),k&&Vl(k),z.stop(),U&&(U.flags|=8,J(et,y,x,L)),Z&&ye(Z,x),ye(()=>{y.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},xt=(y,x,L,k=!1,z=!1,U=0)=>{for(let et=U;et<y.length;et++)J(y[et],x,L,k,z)},R=y=>{if(y.shapeFlag&6)return R(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const x=d(y.anchor||y.el),L=x&&x[sm];return L?d(L):x};let W=!1;const K=(y,x,L)=>{y==null?x._vnode&&J(x._vnode,null,null,!0):b(x._vnode||null,y,x,null,null,null,L),x._vnode=y,W||(W=!0,ou(),Hd(),W=!1)},X={p:b,um:J,m:nt,r:gt,mt:F,mc:lt,pc:H,pbc:ft,n:R,o:n};return{render:K,hydrate:void 0,createApp:Am(K)}}function Zl({type:n,props:t},e){return e==="svg"&&n==="foreignObject"||e==="mathml"&&n==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:e}function vs({effect:n,job:t},e){e?(n.flags|=32,t.flags|=4):(n.flags&=-33,t.flags&=-5)}function km(n,t){return(!n||n&&!n.pendingBranch)&&t&&!t.persisted}function lf(n,t,e=!1){const s=n.children,r=t.children;if(wt(s)&&wt(r))for(let i=0;i<s.length;i++){const o=s[i];let l=r[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[i]=Gn(r[i]),l.el=o.el),!e&&l.patchFlag!==-2&&lf(o,l)),l.type===Go&&(l.el=o.el)}}function Bm(n){const t=n.slice(),e=[0];let s,r,i,o,l;const a=n.length;for(s=0;s<a;s++){const c=n[s];if(c!==0){if(r=e[e.length-1],n[r]<c){t[s]=r,e.push(s);continue}for(i=0,o=e.length-1;i<o;)l=i+o>>1,n[e[l]]<c?i=l+1:o=l;c<n[e[i]]&&(i>0&&(t[s]=e[i-1]),e[i]=s)}}for(i=e.length,o=e[i-1];i-- >0;)e[i]=o,o=t[o];return e}function af(n){const t=n.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:af(t)}function pu(n){if(n)for(let t=0;t<n.length;t++)n[t].flags|=8}const $m=Symbol.for("v-scx"),Pm=()=>Rn($m);function ho(n,t,e){return cf(n,t,e)}function cf(n,t,e=qt){const{immediate:s,deep:r,flush:i,once:o}=e,l=ie({},e),a=t&&s||!t&&i!=="post";let c;if(fi){if(i==="sync"){const p=Pm();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!a){const p=()=>{};return p.stop=an,p.resume=an,p.pause=an,p}}const u=ee;l.call=(p,g,b)=>fn(p,u,g,b);let f=!1;i==="post"?l.scheduler=p=>{ye(p,u&&u.suspense)}:i!=="sync"&&(f=!0,l.scheduler=(p,g)=>{g?p():Nc(p)}),l.augmentJob=p=>{t&&(p.flags|=4),f&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const d=Jg(n,t,l);return fi&&(c?c.push(d):a&&d()),d}function Dm(n,t,e){const s=this.proxy,r=Vt(n)?n.includes(".")?uf(s,n):()=>s[n]:n.bind(s,s);let i;yt(t)?i=t:(i=t.handler,e=t);const o=Li(this),l=cf(r,i.bind(s),e);return o(),l}function uf(n,t){const e=t.split(".");return()=>{let s=n;for(let r=0;r<e.length&&s;r++)s=s[e[r]];return s}}const jm=(n,t)=>t==="modelValue"||t==="model-value"?n.modelModifiers:n[`${t}Modifiers`]||n[`${qe(t)}Modifiers`]||n[`${Is(t)}Modifiers`];function Hm(n,t,...e){if(n.isUnmounted)return;const s=n.vnode.props||qt;let r=e;const i=t.startsWith("update:"),o=i&&jm(s,t.slice(7));o&&(o.trim&&(r=e.map(u=>Vt(u)?u.trim():u)),o.number&&(r=e.map(vg)));let l,a=s[l=Wl(t)]||s[l=Wl(qe(t))];!a&&i&&(a=s[l=Wl(Is(t))]),a&&fn(a,n,6,r);const c=s[l+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[l])return;n.emitted[l]=!0,fn(c,n,6,r)}}function hf(n,t,e=!1){const s=t.emitsCache,r=s.get(n);if(r!==void 0)return r;const i=n.emits;let o={},l=!1;if(!yt(n)){const a=c=>{const u=hf(c,t,!0);u&&(l=!0,ie(o,u))};!e&&t.mixins.length&&t.mixins.forEach(a),n.extends&&a(n.extends),n.mixins&&n.mixins.forEach(a)}return!i&&!l?($t(n)&&s.set(n,null),null):(wt(i)?i.forEach(a=>o[a]=null):ie(o,i),$t(n)&&s.set(n,o),o)}function Ko(n,t){return!n||!Po(t)?!1:(t=t.slice(2).replace(/Once$/,""),_t(n,t[0].toLowerCase()+t.slice(1))||_t(n,Is(t))||_t(n,t))}function gu(n){const{type:t,vnode:e,proxy:s,withProxy:r,propsOptions:[i],slots:o,attrs:l,emit:a,render:c,renderCache:u,props:f,data:d,setupState:p,ctx:g,inheritAttrs:b}=n,v=xo(n);let E,N;try{if(e.shapeFlag&4){const _=r||s,D=_;E=on(c.call(D,_,u,f,p,d,g)),N=l}else{const _=t;E=on(_.length>1?_(f,{attrs:l,slots:o,emit:a}):_(f,null)),N=t.props?l:Fm(l)}}catch(_){Jr.length=0,zo(_,n,1),E=pe(hi)}let S=E;if(N&&b!==!1){const _=Object.keys(N),{shapeFlag:D}=S;_.length&&D&7&&(i&&_.some(dc)&&(N=Um(N,i)),S=dr(S,N,!1,!0))}return e.dirs&&(S=dr(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(e.dirs):e.dirs),e.transition&&Ac(S,e.transition),E=S,xo(v),E}const Fm=n=>{let t;for(const e in n)(e==="class"||e==="style"||Po(e))&&((t||(t={}))[e]=n[e]);return t},Um=(n,t)=>{const e={};for(const s in n)(!dc(s)||!(s.slice(9)in t))&&(e[s]=n[s]);return e};function zm(n,t,e){const{props:s,children:r,component:i}=n,{props:o,children:l,patchFlag:a}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&a>=0){if(a&1024)return!0;if(a&16)return s?mu(s,o,c):!!o;if(a&8){const u=t.dynamicProps;for(let f=0;f<u.length;f++){const d=u[f];if(o[d]!==s[d]&&!Ko(c,d))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?mu(s,o,c):!0:!!o;return!1}function mu(n,t,e){const s=Object.keys(t);if(s.length!==Object.keys(n).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(t[i]!==n[i]&&!Ko(e,i))return!0}return!1}function Wm({vnode:n,parent:t},e){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===n&&(s.el=n.el),s===n)(n=t.vnode).el=e,t=t.parent;else break}}const df=n=>n.__isSuspense;function Vm(n,t){t&&t.pendingBranch?wt(n)?t.effects.push(...n):t.effects.push(n):nm(n)}const Se=Symbol.for("v-fgt"),Go=Symbol.for("v-txt"),hi=Symbol.for("v-cmt"),Ql=Symbol.for("v-stc"),Jr=[];let xe=null;function Xo(n=!1){Jr.push(xe=n?null:[])}function Km(){Jr.pop(),xe=Jr[Jr.length-1]||null}let di=1;function bu(n,t=!1){di+=n,n<0&&xe&&t&&(xe.hasOnce=!0)}function Gm(n){return n.dynamicChildren=di>0?xe||tr:null,Km(),di>0&&xe&&xe.push(n),n}function Yo(n,t,e,s,r,i){return Gm(hr(n,t,e,s,r,i,!0))}function To(n){return n?n.__v_isVNode===!0:!1}function $r(n,t){return n.type===t.type&&n.key===t.key}const ff=({key:n})=>n??null,fo=({ref:n,ref_key:t,ref_for:e})=>(typeof n=="number"&&(n=""+n),n!=null?Vt(n)||se(n)||yt(n)?{i:Fe,r:n,k:t,f:!!e}:n:null);function hr(n,t=null,e=null,s=0,r=null,i=n===Se?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:n,props:t,key:t&&ff(t),ref:t&&fo(t),scopeId:Ud,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Fe};return l?(Ic(a,e),i&128&&n.normalize(a)):e&&(a.shapeFlag|=Vt(e)?8:16),di>0&&!o&&xe&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&xe.push(a),a}const pe=Xm;function Xm(n,t=null,e=null,s=0,r=null,i=!1){if((!n||n===bm)&&(n=hi),To(n)){const l=dr(n,t,!0);return e&&Ic(l,e),di>0&&!i&&xe&&(l.shapeFlag&6?xe[xe.indexOf(n)]=l:xe.push(l)),l.patchFlag=-2,l}if(ob(n)&&(n=n.__vccOpts),t){t=Ym(t);let{class:l,style:a}=t;l&&!Vt(l)&&(t.class=mc(l)),$t(a)&&(Tc(a)&&!wt(a)&&(a=ie({},a)),t.style=gc(a))}const o=Vt(n)?1:df(n)?128:rm(n)?64:$t(n)?4:yt(n)?2:0;return hr(n,t,e,s,r,o,i,!0)}function Ym(n){return n?Tc(n)||Jd(n)?ie({},n):n:null}function dr(n,t,e=!1,s=!1){const{props:r,ref:i,patchFlag:o,children:l,transition:a}=n,c=t?Zm(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:n.type,props:c,key:c&&ff(c),ref:t&&t.ref?e&&i?wt(i)?i.concat(fo(t)):[i,fo(t)]:fo(t):i,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:l,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:t&&n.type!==Se?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:a,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&dr(n.ssContent),ssFallback:n.ssFallback&&dr(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return a&&s&&Ac(u,a.clone(u)),u}function Ws(n=" ",t=0){return pe(Go,null,n,t)}function on(n){return n==null||typeof n=="boolean"?pe(hi):wt(n)?pe(Se,null,n.slice()):To(n)?Gn(n):pe(Go,null,String(n))}function Gn(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:dr(n)}function Ic(n,t){let e=0;const{shapeFlag:s}=n;if(t==null)t=null;else if(wt(t))e=16;else if(typeof t=="object")if(s&65){const r=t.default;r&&(r._c&&(r._d=!1),Ic(n,r()),r._c&&(r._d=!0));return}else{e=32;const r=t._;!r&&!Jd(t)?t._ctx=Fe:r===3&&Fe&&(Fe.slots._===1?t._=1:(t._=2,n.patchFlag|=1024))}else yt(t)?(t={default:t,_ctx:Fe},e=32):(t=String(t),s&64?(e=16,t=[Ws(t)]):e=8);n.children=t,n.shapeFlag|=e}function Zm(...n){const t={};for(let e=0;e<n.length;e++){const s=n[e];for(const r in s)if(r==="class")t.class!==s.class&&(t.class=mc([t.class,s.class]));else if(r==="style")t.style=gc([t.style,s.style]);else if(Po(r)){const i=t[r],o=s[r];o&&i!==o&&!(wt(i)&&i.includes(o))&&(t[r]=i?[].concat(i,o):o)}else r!==""&&(t[r]=s[r])}return t}function nn(n,t,e,s=null){fn(n,t,7,[e,s])}const Qm=Yd();let Jm=0;function tb(n,t,e){const s=n.type,r=(t?t.appContext:n.appContext)||Qm,i={uid:Jm++,vnode:n,type:s,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ng(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ef(s,r),emitsOptions:hf(s,r),emit:null,emitted:null,propsDefaults:qt,inheritAttrs:s.inheritAttrs,ctx:qt,data:qt,props:qt,attrs:qt,slots:qt,refs:qt,setupState:qt,setupContext:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Hm.bind(null,i),n.ce&&n.ce(i),i}let ee=null,No,Ra;{const n=Fo(),t=(e,s)=>{let r;return(r=n[e])||(r=n[e]=[]),r.push(s),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};No=t("__VUE_INSTANCE_SETTERS__",e=>ee=e),Ra=t("__VUE_SSR_SETTERS__",e=>fi=e)}const Li=n=>{const t=ee;return No(n),n.scope.on(),()=>{n.scope.off(),No(t)}},vu=()=>{ee&&ee.scope.off(),No(null)};function pf(n){return n.vnode.shapeFlag&4}let fi=!1;function eb(n,t=!1,e=!1){t&&Ra(t);const{props:s,children:r}=n.vnode,i=pf(n);Sm(n,s,i,t),Om(n,r,e);const o=i?nb(n,t):void 0;return t&&Ra(!1),o}function nb(n,t){const e=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,ym);const{setup:s}=e;if(s){ls();const r=n.setupContext=s.length>1?rb(n):null,i=Li(n),o=Si(s,n,0,[n.props,r]),l=bd(o);if(as(),i(),(l||n.sp)&&!Zr(n)&&zd(n),l){if(o.then(vu,vu),t)return o.then(a=>{yu(n,a)}).catch(a=>{zo(a,n,0)});n.asyncDep=o}else yu(n,o)}else gf(n)}function yu(n,t,e){yt(t)?n.type.__ssrInlineRender?n.ssrRender=t:n.render=t:$t(t)&&(n.setupState=$d(t)),gf(n)}function gf(n,t,e){const s=n.type;n.render||(n.render=s.render||an);{const r=Li(n);ls();try{wm(n)}finally{as(),r()}}}const sb={get(n,t){return te(n,"get",""),n[t]}};function rb(n){const t=e=>{n.exposed=e||{}};return{attrs:new Proxy(n.attrs,sb),slots:n.slots,emit:n.emit,expose:t}}function _c(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy($d(Wg(n.exposed)),{get(t,e){if(e in t)return t[e];if(e in Qr)return Qr[e](n)},has(t,e){return e in t||e in Qr}})):n.proxy}function ib(n,t=!0){return yt(n)?n.displayName||n.name:n.name||t&&n.__name}function ob(n){return yt(n)&&"__vccOpts"in n}const je=(n,t)=>Zg(n,t,fi);function mf(n,t,e){const s=arguments.length;return s===2?$t(t)&&!wt(t)?To(t)?pe(n,null,[t]):pe(n,t):pe(n,null,t):(s>3?e=Array.prototype.slice.call(arguments,2):s===3&&To(e)&&(e=[e]),pe(n,t,e))}const lb="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let qa;const wu=typeof window<"u"&&window.trustedTypes;if(wu)try{qa=wu.createPolicy("vue",{createHTML:n=>n})}catch{}const bf=qa?n=>qa.createHTML(n):n=>n,ab="http://www.w3.org/2000/svg",cb="http://www.w3.org/1998/Math/MathML",Ln=typeof document<"u"?document:null,xu=Ln&&Ln.createElement("template"),ub={insert:(n,t,e)=>{t.insertBefore(n,e||null)},remove:n=>{const t=n.parentNode;t&&t.removeChild(n)},createElement:(n,t,e,s)=>{const r=t==="svg"?Ln.createElementNS(ab,n):t==="mathml"?Ln.createElementNS(cb,n):e?Ln.createElement(n,{is:e}):Ln.createElement(n);return n==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:n=>Ln.createTextNode(n),createComment:n=>Ln.createComment(n),setText:(n,t)=>{n.nodeValue=t},setElementText:(n,t)=>{n.textContent=t},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>Ln.querySelector(n),setScopeId(n,t){n.setAttribute(t,"")},insertStaticContent(n,t,e,s,r,i){const o=e?e.previousSibling:t.lastChild;if(r&&(r===i||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),e),!(r===i||!(r=r.nextSibling)););else{xu.innerHTML=bf(s==="svg"?`<svg>${n}</svg>`:s==="mathml"?`<math>${n}</math>`:n);const l=xu.content;if(s==="svg"||s==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}t.insertBefore(l,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},hb=Symbol("_vtc");function db(n,t,e){const s=n[hb];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?n.removeAttribute("class"):e?n.setAttribute("class",t):n.className=t}const Cu=Symbol("_vod"),fb=Symbol("_vsh"),pb=Symbol(""),gb=/(^|;)\s*display\s*:/;function mb(n,t,e){const s=n.style,r=Vt(e);let i=!1;if(e&&!r){if(t)if(Vt(t))for(const o of t.split(";")){const l=o.slice(0,o.indexOf(":")).trim();e[l]==null&&po(s,l,"")}else for(const o in t)e[o]==null&&po(s,o,"");for(const o in e)o==="display"&&(i=!0),po(s,o,e[o])}else if(r){if(t!==e){const o=s[pb];o&&(e+=";"+o),s.cssText=e,i=gb.test(e)}}else t&&n.removeAttribute("style");Cu in n&&(n[Cu]=i?s.display:"",n[fb]&&(s.display="none"))}const Eu=/\s*!important$/;function po(n,t,e){if(wt(e))e.forEach(s=>po(n,t,s));else if(e==null&&(e=""),t.startsWith("--"))n.setProperty(t,e);else{const s=bb(n,t);Eu.test(e)?n.setProperty(Is(s),e.replace(Eu,""),"important"):n[s]=e}}const Tu=["Webkit","Moz","ms"],Jl={};function bb(n,t){const e=Jl[t];if(e)return e;let s=qe(t);if(s!=="filter"&&s in n)return Jl[t]=s;s=Ho(s);for(let r=0;r<Tu.length;r++){const i=Tu[r]+s;if(i in n)return Jl[t]=i}return t}const Nu="http://www.w3.org/1999/xlink";function Au(n,t,e,s,r,i=Tg(t)){s&&t.startsWith("xlink:")?e==null?n.removeAttributeNS(Nu,t.slice(6,t.length)):n.setAttributeNS(Nu,t,e):e==null||i&&!yd(e)?n.removeAttribute(t):n.setAttribute(t,i?"":Cr(e)?String(e):e)}function Su(n,t,e,s,r){if(t==="innerHTML"||t==="textContent"){e!=null&&(n[t]=t==="innerHTML"?bf(e):e);return}const i=n.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?n.getAttribute("value")||"":n.value,a=e==null?n.type==="checkbox"?"on":"":String(e);(l!==a||!("_value"in n))&&(n.value=a),e==null&&n.removeAttribute(t),n._value=e;return}let o=!1;if(e===""||e==null){const l=typeof n[t];l==="boolean"?e=yd(e):e==null&&l==="string"?(e="",o=!0):l==="number"&&(e=0,o=!0)}try{n[t]=e}catch{}o&&n.removeAttribute(r||t)}function vb(n,t,e,s){n.addEventListener(t,e,s)}function yb(n,t,e,s){n.removeEventListener(t,e,s)}const Lu=Symbol("_vei");function wb(n,t,e,s,r=null){const i=n[Lu]||(n[Lu]={}),o=i[t];if(s&&o)o.value=s;else{const[l,a]=xb(t);if(s){const c=i[t]=Tb(s,r);vb(n,l,c,a)}else o&&(yb(n,l,o,a),i[t]=void 0)}}const Iu=/(?:Once|Passive|Capture)$/;function xb(n){let t;if(Iu.test(n)){t={};let s;for(;s=n.match(Iu);)n=n.slice(0,n.length-s[0].length),t[s[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Is(n.slice(2)),t]}let ta=0;const Cb=Promise.resolve(),Eb=()=>ta||(Cb.then(()=>ta=0),ta=Date.now());function Tb(n,t){const e=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=e.attached)return;fn(Nb(s,e.value),t,5,[s])};return e.value=n,e.attached=Eb(),e}function Nb(n,t){if(wt(t)){const e=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{e.call(n),n._stopped=!0},t.map(s=>r=>!r._stopped&&s&&s(r))}else return t}const _u=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,Ab=(n,t,e,s,r,i)=>{const o=r==="svg";t==="class"?db(n,s,o):t==="style"?mb(n,e,s):Po(t)?dc(t)||wb(n,t,e,s,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Sb(n,t,s,o))?(Su(n,t,s),!n.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Au(n,t,s,o,i,t!=="value")):n._isVueCE&&(/[A-Z]/.test(t)||!Vt(s))?Su(n,qe(t),s,i,t):(t==="true-value"?n._trueValue=s:t==="false-value"&&(n._falseValue=s),Au(n,t,s,o))};function Sb(n,t,e,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in n&&_u(t)&&yt(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&n.tagName==="INPUT"||t==="type"&&n.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const r=n.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return _u(t)&&Vt(e)?!1:t in n}const Lb=ie({patchProp:Ab},ub);let Ou;function Ib(){return Ou||(Ou=Rm(Lb))}const _b=(...n)=>{const t=Ib().createApp(...n),{mount:e}=t;return t.mount=s=>{const r=Mb(s);if(!r)return;const i=t._component;!yt(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=e(r,!1,Ob(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t};function Ob(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function Mb(n){return Vt(n)?document.querySelector(n):n}const vf=(n,t)=>{const e=n.__vccOpts||n;for(const[s,r]of t)e[s]=r;return e},Rb={};function qb(n,t){const e=lu("router-link"),s=lu("router-view");return Xo(),Yo(Se,null,[pe(e,{to:"/"},{default:co(()=>t[0]||(t[0]=[Ws("TinyMCE")])),_:1}),t[3]||(t[3]=Ws(" | ")),pe(e,{to:"/quill"},{default:co(()=>t[1]||(t[1]=[Ws("Quill")])),_:1}),t[4]||(t[4]=Ws(" | ")),pe(e,{to:"/quill-table"},{default:co(()=>t[2]||(t[2]=[Ws("QuillTable")])),_:1}),pe(s)],64)}const kb=vf(Rb,[["render",qb],["__scopeId","data-v-866f0ed5"]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Vs=typeof document<"u";function yf(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function Bb(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&yf(n.default)}const Lt=Object.assign;function ea(n,t){const e={};for(const s in t){const r=t[s];e[s]=Ge(r)?r.map(n):n(r)}return e}const ti=()=>{},Ge=Array.isArray,wf=/#/g,$b=/&/g,Pb=/\//g,Db=/=/g,jb=/\?/g,xf=/\+/g,Hb=/%5B/g,Fb=/%5D/g,Cf=/%5E/g,Ub=/%60/g,Ef=/%7B/g,zb=/%7C/g,Tf=/%7D/g,Wb=/%20/g;function Oc(n){return encodeURI(""+n).replace(zb,"|").replace(Hb,"[").replace(Fb,"]")}function Vb(n){return Oc(n).replace(Ef,"{").replace(Tf,"}").replace(Cf,"^")}function ka(n){return Oc(n).replace(xf,"%2B").replace(Wb,"+").replace(wf,"%23").replace($b,"%26").replace(Ub,"`").replace(Ef,"{").replace(Tf,"}").replace(Cf,"^")}function Kb(n){return ka(n).replace(Db,"%3D")}function Gb(n){return Oc(n).replace(wf,"%23").replace(jb,"%3F")}function Xb(n){return n==null?"":Gb(n).replace(Pb,"%2F")}function pi(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const Yb=/\/$/,Zb=n=>n.replace(Yb,"");function na(n,t,e="/"){let s,r={},i="",o="";const l=t.indexOf("#");let a=t.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(s=t.slice(0,a),i=t.slice(a+1,l>-1?l:t.length),r=n(i)),l>-1&&(s=s||t.slice(0,l),o=t.slice(l,t.length)),s=e1(s??t,e),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:pi(o)}}function Qb(n,t){const e=t.query?n(t.query):"";return t.path+(e&&"?")+e+(t.hash||"")}function Mu(n,t){return!t||!n.toLowerCase().startsWith(t.toLowerCase())?n:n.slice(t.length)||"/"}function Jb(n,t,e){const s=t.matched.length-1,r=e.matched.length-1;return s>-1&&s===r&&fr(t.matched[s],e.matched[r])&&Nf(t.params,e.params)&&n(t.query)===n(e.query)&&t.hash===e.hash}function fr(n,t){return(n.aliasOf||n)===(t.aliasOf||t)}function Nf(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(!t1(n[e],t[e]))return!1;return!0}function t1(n,t){return Ge(n)?Ru(n,t):Ge(t)?Ru(t,n):n===t}function Ru(n,t){return Ge(t)?n.length===t.length&&n.every((e,s)=>e===t[s]):n.length===1&&n[0]===t}function e1(n,t){if(n.startsWith("/"))return n;if(!n)return t;const e=t.split("/"),s=n.split("/"),r=s[s.length-1];(r===".."||r===".")&&s.push("");let i=e.length-1,o,l;for(o=0;o<s.length;o++)if(l=s[o],l!==".")if(l==="..")i>1&&i--;else break;return e.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const zn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var gi;(function(n){n.pop="pop",n.push="push"})(gi||(gi={}));var ei;(function(n){n.back="back",n.forward="forward",n.unknown=""})(ei||(ei={}));function n1(n){if(!n)if(Vs){const t=document.querySelector("base");n=t&&t.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),Zb(n)}const s1=/^[^#]+#/;function r1(n,t){return n.replace(s1,"#")+t}function i1(n,t){const e=document.documentElement.getBoundingClientRect(),s=n.getBoundingClientRect();return{behavior:t.behavior,left:s.left-e.left-(t.left||0),top:s.top-e.top-(t.top||0)}}const Zo=()=>({left:window.scrollX,top:window.scrollY});function o1(n){let t;if("el"in n){const e=n.el,s=typeof e=="string"&&e.startsWith("#"),r=typeof e=="string"?s?document.getElementById(e.slice(1)):document.querySelector(e):e;if(!r)return;t=i1(r,n)}else t=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function qu(n,t){return(history.state?history.state.position-t:-1)+n}const Ba=new Map;function l1(n,t){Ba.set(n,t)}function a1(n){const t=Ba.get(n);return Ba.delete(n),t}let c1=()=>location.protocol+"//"+location.host;function Af(n,t){const{pathname:e,search:s,hash:r}=t,i=n.indexOf("#");if(i>-1){let l=r.includes(n.slice(i))?n.slice(i).length:1,a=r.slice(l);return a[0]!=="/"&&(a="/"+a),Mu(a,"")}return Mu(e,n)+s+r}function u1(n,t,e,s){let r=[],i=[],o=null;const l=({state:d})=>{const p=Af(n,location),g=e.value,b=t.value;let v=0;if(d){if(e.value=p,t.value=d,o&&o===g){o=null;return}v=b?d.position-b.position:0}else s(p);r.forEach(E=>{E(e.value,g,{delta:v,type:gi.pop,direction:v?v>0?ei.forward:ei.back:ei.unknown})})};function a(){o=e.value}function c(d){r.push(d);const p=()=>{const g=r.indexOf(d);g>-1&&r.splice(g,1)};return i.push(p),p}function u(){const{history:d}=window;d.state&&d.replaceState(Lt({},d.state,{scroll:Zo()}),"")}function f(){for(const d of i)d();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:a,listen:c,destroy:f}}function ku(n,t,e,s=!1,r=!1){return{back:n,current:t,forward:e,replaced:s,position:window.history.length,scroll:r?Zo():null}}function h1(n){const{history:t,location:e}=window,s={value:Af(n,e)},r={value:t.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(a,c,u){const f=n.indexOf("#"),d=f>-1?(e.host&&document.querySelector("base")?n:n.slice(f))+a:c1()+n+a;try{t[u?"replaceState":"pushState"](c,"",d),r.value=c}catch(p){console.error(p),e[u?"replace":"assign"](d)}}function o(a,c){const u=Lt({},t.state,ku(r.value.back,a,r.value.forward,!0),c,{position:r.value.position});i(a,u,!0),s.value=a}function l(a,c){const u=Lt({},r.value,t.state,{forward:a,scroll:Zo()});i(u.current,u,!0);const f=Lt({},ku(s.value,a,null),{position:u.position+1},c);i(a,f,!1),s.value=a}return{location:s,state:r,push:l,replace:o}}function d1(n){n=n1(n);const t=h1(n),e=u1(n,t.state,t.location,t.replace);function s(i,o=!0){o||e.pauseListeners(),history.go(i)}const r=Lt({location:"",base:n,go:s,createHref:r1.bind(null,n)},t,e);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function f1(n){return n=location.host?n||location.pathname+location.search:"",n.includes("#")||(n+="#"),d1(n)}function p1(n){return typeof n=="string"||n&&typeof n=="object"}function Sf(n){return typeof n=="string"||typeof n=="symbol"}const Lf=Symbol("");var Bu;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(Bu||(Bu={}));function pr(n,t){return Lt(new Error,{type:n,[Lf]:!0},t)}function An(n,t){return n instanceof Error&&Lf in n&&(t==null||!!(n.type&t))}const $u="[^/]+?",g1={sensitive:!1,strict:!1,start:!0,end:!0},m1=/[.+*?^${}()[\]/\\]/g;function b1(n,t){const e=Lt({},g1,t),s=[];let r=e.start?"^":"";const i=[];for(const c of n){const u=c.length?[]:[90];e.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const d=c[f];let p=40+(e.sensitive?.25:0);if(d.type===0)f||(r+="/"),r+=d.value.replace(m1,"\\$&"),p+=40;else if(d.type===1){const{value:g,repeatable:b,optional:v,regexp:E}=d;i.push({name:g,repeatable:b,optional:v});const N=E||$u;if(N!==$u){p+=10;try{new RegExp(`(${N})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${g}" (${N}): `+_.message)}}let S=b?`((?:${N})(?:/(?:${N}))*)`:`(${N})`;f||(S=v&&c.length<2?`(?:/${S})`:"/"+S),v&&(S+="?"),r+=S,p+=20,v&&(p+=-8),b&&(p+=-20),N===".*"&&(p+=-50)}u.push(p)}s.push(u)}if(e.strict&&e.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}e.strict||(r+="/?"),e.end?r+="$":e.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,e.sensitive?"":"i");function l(c){const u=c.match(o),f={};if(!u)return null;for(let d=1;d<u.length;d++){const p=u[d]||"",g=i[d-1];f[g.name]=p&&g.repeatable?p.split("/"):p}return f}function a(c){let u="",f=!1;for(const d of n){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const p of d)if(p.type===0)u+=p.value;else if(p.type===1){const{value:g,repeatable:b,optional:v}=p,E=g in c?c[g]:"";if(Ge(E)&&!b)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const N=Ge(E)?E.join("/"):E;if(!N)if(v)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${g}"`);u+=N}}return u||"/"}return{re:o,score:s,keys:i,parse:l,stringify:a}}function v1(n,t){let e=0;for(;e<n.length&&e<t.length;){const s=t[e]-n[e];if(s)return s;e++}return n.length<t.length?n.length===1&&n[0]===80?-1:1:n.length>t.length?t.length===1&&t[0]===80?1:-1:0}function If(n,t){let e=0;const s=n.score,r=t.score;for(;e<s.length&&e<r.length;){const i=v1(s[e],r[e]);if(i)return i;e++}if(Math.abs(r.length-s.length)===1){if(Pu(s))return 1;if(Pu(r))return-1}return r.length-s.length}function Pu(n){const t=n[n.length-1];return n.length>0&&t[t.length-1]<0}const y1={type:0,value:""},w1=/[a-zA-Z0-9_]/;function x1(n){if(!n)return[[]];if(n==="/")return[[y1]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function t(p){throw new Error(`ERR (${e})/"${c}": ${p}`)}let e=0,s=e;const r=[];let i;function o(){i&&r.push(i),i=[]}let l=0,a,c="",u="";function f(){c&&(e===0?i.push({type:0,value:c}):e===1||e===2||e===3?(i.length>1&&(a==="*"||a==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=a}for(;l<n.length;){if(a=n[l++],a==="\\"&&e!==2){s=e,e=4;continue}switch(e){case 0:a==="/"?(c&&f(),o()):a===":"?(f(),e=1):d();break;case 4:d(),e=s;break;case 1:a==="("?e=2:w1.test(a)?d():(f(),e=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:e=3:u+=a;break;case 3:f(),e=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,u="";break;default:t("Unknown state");break}}return e===2&&t(`Unfinished custom RegExp for param "${c}"`),f(),o(),r}function C1(n,t,e){const s=b1(x1(n.path),e),r=Lt(s,{record:n,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function E1(n,t){const e=[],s=new Map;t=Fu({strict:!1,end:!0,sensitive:!1},t);function r(f){return s.get(f)}function i(f,d,p){const g=!p,b=ju(f);b.aliasOf=p&&p.record;const v=Fu(t,f),E=[b];if("alias"in f){const _=typeof f.alias=="string"?[f.alias]:f.alias;for(const D of _)E.push(ju(Lt({},b,{components:p?p.record.components:b.components,path:D,aliasOf:p?p.record:b})))}let N,S;for(const _ of E){const{path:D}=_;if(d&&D[0]!=="/"){const Q=d.record.path,tt=Q[Q.length-1]==="/"?"":"/";_.path=d.record.path+(D&&tt+D)}if(N=C1(_,d,v),p?p.alias.push(N):(S=S||N,S!==N&&S.alias.push(N),g&&f.name&&!Hu(N)&&o(f.name)),_f(N)&&a(N),b.children){const Q=b.children;for(let tt=0;tt<Q.length;tt++)i(Q[tt],N,p&&p.children[tt])}p=p||N}return S?()=>{o(S)}:ti}function o(f){if(Sf(f)){const d=s.get(f);d&&(s.delete(f),e.splice(e.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=e.indexOf(f);d>-1&&(e.splice(d,1),f.record.name&&s.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function l(){return e}function a(f){const d=A1(f,e);e.splice(d,0,f),f.record.name&&!Hu(f)&&s.set(f.record.name,f)}function c(f,d){let p,g={},b,v;if("name"in f&&f.name){if(p=s.get(f.name),!p)throw pr(1,{location:f});v=p.record.name,g=Lt(Du(d.params,p.keys.filter(S=>!S.optional).concat(p.parent?p.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),f.params&&Du(f.params,p.keys.map(S=>S.name))),b=p.stringify(g)}else if(f.path!=null)b=f.path,p=e.find(S=>S.re.test(b)),p&&(g=p.parse(b),v=p.record.name);else{if(p=d.name?s.get(d.name):e.find(S=>S.re.test(d.path)),!p)throw pr(1,{location:f,currentLocation:d});v=p.record.name,g=Lt({},d.params,f.params),b=p.stringify(g)}const E=[];let N=p;for(;N;)E.unshift(N.record),N=N.parent;return{name:v,path:b,params:g,matched:E,meta:N1(E)}}n.forEach(f=>i(f));function u(){e.length=0,s.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:l,getRecordMatcher:r}}function Du(n,t){const e={};for(const s of t)s in n&&(e[s]=n[s]);return e}function ju(n){const t={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:T1(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function T1(n){const t={},e=n.props||!1;if("component"in n)t.default=e;else for(const s in n.components)t[s]=typeof e=="object"?e[s]:e;return t}function Hu(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function N1(n){return n.reduce((t,e)=>Lt(t,e.meta),{})}function Fu(n,t){const e={};for(const s in n)e[s]=s in t?t[s]:n[s];return e}function A1(n,t){let e=0,s=t.length;for(;e!==s;){const i=e+s>>1;If(n,t[i])<0?s=i:e=i+1}const r=S1(n);return r&&(s=t.lastIndexOf(r,s-1)),s}function S1(n){let t=n;for(;t=t.parent;)if(_f(t)&&If(n,t)===0)return t}function _f({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function L1(n){const t={};if(n===""||n==="?")return t;const s=(n[0]==="?"?n.slice(1):n).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(xf," "),o=i.indexOf("="),l=pi(o<0?i:i.slice(0,o)),a=o<0?null:pi(i.slice(o+1));if(l in t){let c=t[l];Ge(c)||(c=t[l]=[c]),c.push(a)}else t[l]=a}return t}function Uu(n){let t="";for(let e in n){const s=n[e];if(e=Kb(e),s==null){s!==void 0&&(t+=(t.length?"&":"")+e);continue}(Ge(s)?s.map(i=>i&&ka(i)):[s&&ka(s)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+e,i!=null&&(t+="="+i))})}return t}function I1(n){const t={};for(const e in n){const s=n[e];s!==void 0&&(t[e]=Ge(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return t}const _1=Symbol(""),zu=Symbol(""),Mc=Symbol(""),Of=Symbol(""),$a=Symbol("");function Pr(){let n=[];function t(s){return n.push(s),()=>{const r=n.indexOf(s);r>-1&&n.splice(r,1)}}function e(){n=[]}return{add:t,list:()=>n.slice(),reset:e}}function Xn(n,t,e,s,r,i=o=>o()){const o=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((l,a)=>{const c=d=>{d===!1?a(pr(4,{from:e,to:t})):d instanceof Error?a(d):p1(d)?a(pr(2,{from:t,to:d})):(o&&s.enterCallbacks[r]===o&&typeof d=="function"&&o.push(d),l())},u=i(()=>n.call(s&&s.instances[r],t,e,c));let f=Promise.resolve(u);n.length<3&&(f=f.then(c)),f.catch(d=>a(d))})}function sa(n,t,e,s,r=i=>i()){const i=[];for(const o of n)for(const l in o.components){let a=o.components[l];if(!(t!=="beforeRouteEnter"&&!o.instances[l]))if(yf(a)){const u=(a.__vccOpts||a)[t];u&&i.push(Xn(u,e,s,o,l,r))}else{let c=a();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const f=Bb(u)?u.default:u;o.mods[l]=u,o.components[l]=f;const p=(f.__vccOpts||f)[t];return p&&Xn(p,e,s,o,l,r)()}))}}return i}function Wu(n){const t=Rn(Mc),e=Rn(Of),s=je(()=>{const a=er(n.to);return t.resolve(a)}),r=je(()=>{const{matched:a}=s.value,{length:c}=a,u=a[c-1],f=e.matched;if(!u||!f.length)return-1;const d=f.findIndex(fr.bind(null,u));if(d>-1)return d;const p=Vu(a[c-2]);return c>1&&Vu(u)===p&&f[f.length-1].path!==p?f.findIndex(fr.bind(null,a[c-2])):d}),i=je(()=>r.value>-1&&k1(e.params,s.value.params)),o=je(()=>r.value>-1&&r.value===e.matched.length-1&&Nf(e.params,s.value.params));function l(a={}){if(q1(a)){const c=t[er(n.replace)?"replace":"push"](er(n.to)).catch(ti);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:je(()=>s.value.href),isActive:i,isExactActive:o,navigate:l}}function O1(n){return n.length===1?n[0]:n}const M1=Wo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Wu,setup(n,{slots:t}){const e=Uo(Wu(n)),{options:s}=Rn(Mc),r=je(()=>({[Ku(n.activeClass,s.linkActiveClass,"router-link-active")]:e.isActive,[Ku(n.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:e.isExactActive}));return()=>{const i=t.default&&O1(t.default(e));return n.custom?i:mf("a",{"aria-current":e.isExactActive?n.ariaCurrentValue:null,href:e.href,onClick:e.navigate,class:r.value},i)}}}),R1=M1;function q1(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const t=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return n.preventDefault&&n.preventDefault(),!0}}function k1(n,t){for(const e in t){const s=t[e],r=n[e];if(typeof s=="string"){if(s!==r)return!1}else if(!Ge(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function Vu(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const Ku=(n,t,e)=>n??t??e,B1=Wo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:t,slots:e}){const s=Rn($a),r=je(()=>n.route||s.value),i=Rn(zu,0),o=je(()=>{let c=er(i);const{matched:u}=r.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),l=je(()=>r.value.matched[o.value]);uo(zu,je(()=>o.value+1)),uo(_1,l),uo($a,r);const a=Vg();return ho(()=>[a.value,l.value,n.name],([c,u,f],[d,p,g])=>{u&&(u.instances[f]=c,p&&p!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!fr(u,p)||!d)&&(u.enterCallbacks[f]||[]).forEach(b=>b(c))},{flush:"post"}),()=>{const c=r.value,u=n.name,f=l.value,d=f&&f.components[u];if(!d)return Gu(e.default,{Component:d,route:c});const p=f.props[u],g=p?p===!0?c.params:typeof p=="function"?p(c):p:null,v=mf(d,Lt({},g,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(f.instances[u]=null)},ref:a}));return Gu(e.default,{Component:v,route:c})||v}}});function Gu(n,t){if(!n)return null;const e=n(t);return e.length===1?e[0]:e}const $1=B1;function P1(n){const t=E1(n.routes,n),e=n.parseQuery||L1,s=n.stringifyQuery||Uu,r=n.history,i=Pr(),o=Pr(),l=Pr(),a=Kg(zn);let c=zn;Vs&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=ea.bind(null,R=>""+R),f=ea.bind(null,Xb),d=ea.bind(null,pi);function p(R,W){let K,X;return Sf(R)?(K=t.getRecordMatcher(R),X=W):X=R,t.addRoute(X,K)}function g(R){const W=t.getRecordMatcher(R);W&&t.removeRoute(W)}function b(){return t.getRoutes().map(R=>R.record)}function v(R){return!!t.getRecordMatcher(R)}function E(R,W){if(W=Lt({},W||a.value),typeof R=="string"){const L=na(e,R,W.path),k=t.resolve({path:L.path},W),z=r.createHref(L.fullPath);return Lt(L,k,{params:d(k.params),hash:pi(L.hash),redirectedFrom:void 0,href:z})}let K;if(R.path!=null)K=Lt({},R,{path:na(e,R.path,W.path).path});else{const L=Lt({},R.params);for(const k in L)L[k]==null&&delete L[k];K=Lt({},R,{params:f(L)}),W.params=f(W.params)}const X=t.resolve(K,W),ut=R.hash||"";X.params=u(d(X.params));const y=Qb(s,Lt({},R,{hash:Vb(ut),path:X.path})),x=r.createHref(y);return Lt({fullPath:y,hash:ut,query:s===Uu?I1(R.query):R.query||{}},X,{redirectedFrom:void 0,href:x})}function N(R){return typeof R=="string"?na(e,R,a.value.path):Lt({},R)}function S(R,W){if(c!==R)return pr(8,{from:W,to:R})}function _(R){return tt(R)}function D(R){return _(Lt(N(R),{replace:!0}))}function Q(R){const W=R.matched[R.matched.length-1];if(W&&W.redirect){const{redirect:K}=W;let X=typeof K=="function"?K(R):K;return typeof X=="string"&&(X=X.includes("?")||X.includes("#")?X=N(X):{path:X},X.params={}),Lt({query:R.query,hash:R.hash,params:X.path!=null?{}:R.params},X)}}function tt(R,W){const K=c=E(R),X=a.value,ut=R.state,y=R.force,x=R.replace===!0,L=Q(K);if(L)return tt(Lt(N(L),{state:typeof L=="object"?Lt({},ut,L.state):ut,force:y,replace:x}),W||K);const k=K;k.redirectedFrom=W;let z;return!y&&Jb(s,X,K)&&(z=pr(16,{to:k,from:X}),nt(X,X,!0,!1)),(z?Promise.resolve(z):ft(k,X)).catch(U=>An(U)?An(U,2)?U:V(U):H(U,k,X)).then(U=>{if(U){if(An(U,2))return tt(Lt({replace:x},N(U.to),{state:typeof U.to=="object"?Lt({},ut,U.to.state):ut,force:y}),W||k)}else U=$(k,X,!0,x,ut);return C(k,X,U),U})}function lt(R,W){const K=S(R,W);return K?Promise.reject(K):Promise.resolve()}function bt(R){const W=mt.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(R):R()}function ft(R,W){let K;const[X,ut,y]=D1(R,W);K=sa(X.reverse(),"beforeRouteLeave",R,W);for(const L of X)L.leaveGuards.forEach(k=>{K.push(Xn(k,R,W))});const x=lt.bind(null,R,W);return K.push(x),xt(K).then(()=>{K=[];for(const L of i.list())K.push(Xn(L,R,W));return K.push(x),xt(K)}).then(()=>{K=sa(ut,"beforeRouteUpdate",R,W);for(const L of ut)L.updateGuards.forEach(k=>{K.push(Xn(k,R,W))});return K.push(x),xt(K)}).then(()=>{K=[];for(const L of y)if(L.beforeEnter)if(Ge(L.beforeEnter))for(const k of L.beforeEnter)K.push(Xn(k,R,W));else K.push(Xn(L.beforeEnter,R,W));return K.push(x),xt(K)}).then(()=>(R.matched.forEach(L=>L.enterCallbacks={}),K=sa(y,"beforeRouteEnter",R,W,bt),K.push(x),xt(K))).then(()=>{K=[];for(const L of o.list())K.push(Xn(L,R,W));return K.push(x),xt(K)}).catch(L=>An(L,8)?L:Promise.reject(L))}function C(R,W,K){l.list().forEach(X=>bt(()=>X(R,W,K)))}function $(R,W,K,X,ut){const y=S(R,W);if(y)return y;const x=W===zn,L=Vs?history.state:{};K&&(X||x?r.replace(R.fullPath,Lt({scroll:x&&L&&L.scroll},ut)):r.push(R.fullPath,ut)),a.value=R,nt(R,W,K,x),V()}let A;function F(){A||(A=r.listen((R,W,K)=>{if(!at.listening)return;const X=E(R),ut=Q(X);if(ut){tt(Lt(ut,{replace:!0,force:!0}),X).catch(ti);return}c=X;const y=a.value;Vs&&l1(qu(y.fullPath,K.delta),Zo()),ft(X,y).catch(x=>An(x,12)?x:An(x,2)?(tt(Lt(N(x.to),{force:!0}),X).then(L=>{An(L,20)&&!K.delta&&K.type===gi.pop&&r.go(-1,!1)}).catch(ti),Promise.reject()):(K.delta&&r.go(-K.delta,!1),H(x,X,y))).then(x=>{x=x||$(X,y,!1),x&&(K.delta&&!An(x,8)?r.go(-K.delta,!1):K.type===gi.pop&&An(x,20)&&r.go(-1,!1)),C(X,y,x)}).catch(ti)}))}let P=Pr(),O=Pr(),q;function H(R,W,K){V(R);const X=O.list();return X.length?X.forEach(ut=>ut(R,W,K)):console.error(R),Promise.reject(R)}function j(){return q&&a.value!==zn?Promise.resolve():new Promise((R,W)=>{P.add([R,W])})}function V(R){return q||(q=!R,F(),P.list().forEach(([W,K])=>R?K(R):W()),P.reset()),R}function nt(R,W,K,X){const{scrollBehavior:ut}=n;if(!Vs||!ut)return Promise.resolve();const y=!K&&a1(qu(R.fullPath,0))||(X||!K)&&history.state&&history.state.scroll||null;return Dd().then(()=>ut(R,W,y)).then(x=>x&&o1(x)).catch(x=>H(x,R,W))}const J=R=>r.go(R);let gt;const mt=new Set,at={currentRoute:a,listening:!0,addRoute:p,removeRoute:g,clearRoutes:t.clearRoutes,hasRoute:v,getRoutes:b,resolve:E,options:n,push:_,replace:D,go:J,back:()=>J(-1),forward:()=>J(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:O.add,isReady:j,install(R){const W=this;R.component("RouterLink",R1),R.component("RouterView",$1),R.config.globalProperties.$router=W,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>er(a)}),Vs&&!gt&&a.value===zn&&(gt=!0,_(r.location).catch(ut=>{}));const K={};for(const ut in zn)Object.defineProperty(K,ut,{get:()=>a.value[ut],enumerable:!0});R.provide(Mc,W),R.provide(Of,qd(K)),R.provide($a,a);const X=R.unmount;mt.add(R),R.unmount=function(){mt.delete(R),mt.size<1&&(c=zn,A&&A(),A=null,a.value=zn,gt=!1,q=!1),X()}}};function xt(R){return R.reduce((W,K)=>W.then(()=>bt(K)),Promise.resolve())}return at}function D1(n,t){const e=[],s=[],r=[],i=Math.max(t.matched.length,n.matched.length);for(let o=0;o<i;o++){const l=t.matched[o];l&&(n.matched.find(c=>fr(c,l))?s.push(l):e.push(l));const a=n.matched[o];a&&(t.matched.find(c=>fr(c,a))||r.push(a))}return[e,s,r]}var Mf=typeof global=="object"&&global&&global.Object===Object&&global,j1=typeof self=="object"&&self&&self.Object===Object&&self,vn=Mf||j1||Function("return this")(),os=vn.Symbol,Rf=Object.prototype,H1=Rf.hasOwnProperty,F1=Rf.toString,Dr=os?os.toStringTag:void 0;function U1(n){var t=H1.call(n,Dr),e=n[Dr];try{n[Dr]=void 0;var s=!0}catch{}var r=F1.call(n);return s&&(t?n[Dr]=e:delete n[Dr]),r}var z1=Object.prototype,W1=z1.toString;function V1(n){return W1.call(n)}var K1="[object Null]",G1="[object Undefined]",Xu=os?os.toStringTag:void 0;function Er(n){return n==null?n===void 0?G1:K1:Xu&&Xu in Object(n)?U1(n):V1(n)}function kn(n){return n!=null&&typeof n=="object"}var Ts=Array.isArray;function cs(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}function qf(n){return n}var X1="[object AsyncFunction]",Y1="[object Function]",Z1="[object GeneratorFunction]",Q1="[object Proxy]";function Rc(n){if(!cs(n))return!1;var t=Er(n);return t==Y1||t==Z1||t==X1||t==Q1}var ra=vn["__core-js_shared__"],Yu=function(){var n=/[^.]+$/.exec(ra&&ra.keys&&ra.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function J1(n){return!!Yu&&Yu in n}var t0=Function.prototype,e0=t0.toString;function _s(n){if(n!=null){try{return e0.call(n)}catch{}try{return n+""}catch{}}return""}var n0=/[\\^$.*+?()[\]{}|]/g,s0=/^\[object .+?Constructor\]$/,r0=Function.prototype,i0=Object.prototype,o0=r0.toString,l0=i0.hasOwnProperty,a0=RegExp("^"+o0.call(l0).replace(n0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function c0(n){if(!cs(n)||J1(n))return!1;var t=Rc(n)?a0:s0;return t.test(_s(n))}function u0(n,t){return n==null?void 0:n[t]}function Os(n,t){var e=u0(n,t);return c0(e)?e:void 0}var Pa=Os(vn,"WeakMap"),Zu=Object.create,h0=function(){function n(){}return function(t){if(!cs(t))return{};if(Zu)return Zu(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();function d0(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}function f0(n,t){var e=-1,s=n.length;for(t||(t=Array(s));++e<s;)t[e]=n[e];return t}var p0=800,g0=16,m0=Date.now;function b0(n){var t=0,e=0;return function(){var s=m0(),r=g0-(s-e);if(e=s,r>0){if(++t>=p0)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}function v0(n){return function(){return n}}var Ao=function(){try{var n=Os(Object,"defineProperty");return n({},"",{}),n}catch{}}(),y0=Ao?function(n,t){return Ao(n,"toString",{configurable:!0,enumerable:!1,value:v0(t),writable:!0})}:qf,w0=b0(y0);function x0(n,t){for(var e=-1,s=n==null?0:n.length;++e<s&&t(n[e],e,n)!==!1;);return n}var C0=9007199254740991,E0=/^(?:0|[1-9]\d*)$/;function kf(n,t){var e=typeof n;return t=t??C0,!!t&&(e=="number"||e!="symbol"&&E0.test(n))&&n>-1&&n%1==0&&n<t}function qc(n,t,e){t=="__proto__"&&Ao?Ao(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}function Ii(n,t){return n===t||n!==n&&t!==t}var T0=Object.prototype,N0=T0.hasOwnProperty;function Bf(n,t,e){var s=n[t];(!(N0.call(n,t)&&Ii(s,e))||e===void 0&&!(t in n))&&qc(n,t,e)}function A0(n,t,e,s){var r=!e;e||(e={});for(var i=-1,o=t.length;++i<o;){var l=t[i],a=void 0;a===void 0&&(a=n[l]),r?qc(e,l,a):Bf(e,l,a)}return e}var Qu=Math.max;function S0(n,t,e){return t=Qu(t===void 0?n.length-1:t,0),function(){for(var s=arguments,r=-1,i=Qu(s.length-t,0),o=Array(i);++r<i;)o[r]=s[t+r];r=-1;for(var l=Array(t+1);++r<t;)l[r]=s[r];return l[t]=e(o),d0(n,this,l)}}function L0(n,t){return w0(S0(n,t,qf),n+"")}var I0=9007199254740991;function $f(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=I0}function Qo(n){return n!=null&&$f(n.length)&&!Rc(n)}function _0(n,t,e){if(!cs(e))return!1;var s=typeof t;return(s=="number"?Qo(e)&&kf(t,e.length):s=="string"&&t in e)?Ii(e[t],n):!1}function O0(n){return L0(function(t,e){var s=-1,r=e.length,i=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(i=n.length>3&&typeof i=="function"?(r--,i):void 0,o&&_0(e[0],e[1],o)&&(i=r<3?void 0:i,r=1),t=Object(t);++s<r;){var l=e[s];l&&n(t,l,s,i)}return t})}var M0=Object.prototype;function kc(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||M0;return n===e}function R0(n,t){for(var e=-1,s=Array(n);++e<n;)s[e]=t(e);return s}var q0="[object Arguments]";function Ju(n){return kn(n)&&Er(n)==q0}var Pf=Object.prototype,k0=Pf.hasOwnProperty,B0=Pf.propertyIsEnumerable,Da=Ju(function(){return arguments}())?Ju:function(n){return kn(n)&&k0.call(n,"callee")&&!B0.call(n,"callee")};function $0(){return!1}var Df=typeof Ee=="object"&&Ee&&!Ee.nodeType&&Ee,th=Df&&typeof Te=="object"&&Te&&!Te.nodeType&&Te,P0=th&&th.exports===Df,eh=P0?vn.Buffer:void 0,D0=eh?eh.isBuffer:void 0,mi=D0||$0,j0="[object Arguments]",H0="[object Array]",F0="[object Boolean]",U0="[object Date]",z0="[object Error]",W0="[object Function]",V0="[object Map]",K0="[object Number]",G0="[object Object]",X0="[object RegExp]",Y0="[object Set]",Z0="[object String]",Q0="[object WeakMap]",J0="[object ArrayBuffer]",tv="[object DataView]",ev="[object Float32Array]",nv="[object Float64Array]",sv="[object Int8Array]",rv="[object Int16Array]",iv="[object Int32Array]",ov="[object Uint8Array]",lv="[object Uint8ClampedArray]",av="[object Uint16Array]",cv="[object Uint32Array]",kt={};kt[ev]=kt[nv]=kt[sv]=kt[rv]=kt[iv]=kt[ov]=kt[lv]=kt[av]=kt[cv]=!0;kt[j0]=kt[H0]=kt[J0]=kt[F0]=kt[tv]=kt[U0]=kt[z0]=kt[W0]=kt[V0]=kt[K0]=kt[G0]=kt[X0]=kt[Y0]=kt[Z0]=kt[Q0]=!1;function uv(n){return kn(n)&&$f(n.length)&&!!kt[Er(n)]}function Bc(n){return function(t){return n(t)}}var jf=typeof Ee=="object"&&Ee&&!Ee.nodeType&&Ee,ni=jf&&typeof Te=="object"&&Te&&!Te.nodeType&&Te,hv=ni&&ni.exports===jf,ia=hv&&Mf.process,gr=function(){try{var n=ni&&ni.require&&ni.require("util").types;return n||ia&&ia.binding&&ia.binding("util")}catch{}}(),nh=gr&&gr.isTypedArray,$c=nh?Bc(nh):uv,dv=Object.prototype,fv=dv.hasOwnProperty;function Hf(n,t){var e=Ts(n),s=!e&&Da(n),r=!e&&!s&&mi(n),i=!e&&!s&&!r&&$c(n),o=e||s||r||i,l=o?R0(n.length,String):[],a=l.length;for(var c in n)(t||fv.call(n,c))&&!(o&&(c=="length"||r&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||kf(c,a)))&&l.push(c);return l}function Ff(n,t){return function(e){return n(t(e))}}var pv=Ff(Object.keys,Object),gv=Object.prototype,mv=gv.hasOwnProperty;function bv(n){if(!kc(n))return pv(n);var t=[];for(var e in Object(n))mv.call(n,e)&&e!="constructor"&&t.push(e);return t}function vv(n){return Qo(n)?Hf(n):bv(n)}function yv(n){var t=[];if(n!=null)for(var e in Object(n))t.push(e);return t}var wv=Object.prototype,xv=wv.hasOwnProperty;function Cv(n){if(!cs(n))return yv(n);var t=kc(n),e=[];for(var s in n)s=="constructor"&&(t||!xv.call(n,s))||e.push(s);return e}function Uf(n){return Qo(n)?Hf(n,!0):Cv(n)}var bi=Os(Object,"create");function Ev(){this.__data__=bi?bi(null):{},this.size=0}function Tv(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var Nv="__lodash_hash_undefined__",Av=Object.prototype,Sv=Av.hasOwnProperty;function Lv(n){var t=this.__data__;if(bi){var e=t[n];return e===Nv?void 0:e}return Sv.call(t,n)?t[n]:void 0}var Iv=Object.prototype,_v=Iv.hasOwnProperty;function Ov(n){var t=this.__data__;return bi?t[n]!==void 0:_v.call(t,n)}var Mv="__lodash_hash_undefined__";function Rv(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=bi&&t===void 0?Mv:t,this}function Ns(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var s=n[t];this.set(s[0],s[1])}}Ns.prototype.clear=Ev;Ns.prototype.delete=Tv;Ns.prototype.get=Lv;Ns.prototype.has=Ov;Ns.prototype.set=Rv;function qv(){this.__data__=[],this.size=0}function Jo(n,t){for(var e=n.length;e--;)if(Ii(n[e][0],t))return e;return-1}var kv=Array.prototype,Bv=kv.splice;function $v(n){var t=this.__data__,e=Jo(t,n);if(e<0)return!1;var s=t.length-1;return e==s?t.pop():Bv.call(t,e,1),--this.size,!0}function Pv(n){var t=this.__data__,e=Jo(t,n);return e<0?void 0:t[e][1]}function Dv(n){return Jo(this.__data__,n)>-1}function jv(n,t){var e=this.__data__,s=Jo(e,n);return s<0?(++this.size,e.push([n,t])):e[s][1]=t,this}function Dn(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var s=n[t];this.set(s[0],s[1])}}Dn.prototype.clear=qv;Dn.prototype.delete=$v;Dn.prototype.get=Pv;Dn.prototype.has=Dv;Dn.prototype.set=jv;var vi=Os(vn,"Map");function Hv(){this.size=0,this.__data__={hash:new Ns,map:new(vi||Dn),string:new Ns}}function Fv(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}function tl(n,t){var e=n.__data__;return Fv(t)?e[typeof t=="string"?"string":"hash"]:e.map}function Uv(n){var t=tl(this,n).delete(n);return this.size-=t?1:0,t}function zv(n){return tl(this,n).get(n)}function Wv(n){return tl(this,n).has(n)}function Vv(n,t){var e=tl(this,n),s=e.size;return e.set(n,t),this.size+=e.size==s?0:1,this}function Ms(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var s=n[t];this.set(s[0],s[1])}}Ms.prototype.clear=Hv;Ms.prototype.delete=Uv;Ms.prototype.get=zv;Ms.prototype.has=Wv;Ms.prototype.set=Vv;function Kv(n,t){for(var e=-1,s=t.length,r=n.length;++e<s;)n[r+e]=t[e];return n}var zf=Ff(Object.getPrototypeOf,Object),Gv="[object Object]",Xv=Function.prototype,Yv=Object.prototype,Wf=Xv.toString,Zv=Yv.hasOwnProperty,Qv=Wf.call(Object);function Jv(n){if(!kn(n)||Er(n)!=Gv)return!1;var t=zf(n);if(t===null)return!0;var e=Zv.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&Wf.call(e)==Qv}function ty(){this.__data__=new Dn,this.size=0}function ey(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}function ny(n){return this.__data__.get(n)}function sy(n){return this.__data__.has(n)}var ry=200;function iy(n,t){var e=this.__data__;if(e instanceof Dn){var s=e.__data__;if(!vi||s.length<ry-1)return s.push([n,t]),this.size=++e.size,this;e=this.__data__=new Ms(s)}return e.set(n,t),this.size=e.size,this}function cn(n){var t=this.__data__=new Dn(n);this.size=t.size}cn.prototype.clear=ty;cn.prototype.delete=ey;cn.prototype.get=ny;cn.prototype.has=sy;cn.prototype.set=iy;var Vf=typeof Ee=="object"&&Ee&&!Ee.nodeType&&Ee,sh=Vf&&typeof Te=="object"&&Te&&!Te.nodeType&&Te,oy=sh&&sh.exports===Vf,rh=oy?vn.Buffer:void 0,ih=rh?rh.allocUnsafe:void 0;function Kf(n,t){if(t)return n.slice();var e=n.length,s=ih?ih(e):new n.constructor(e);return n.copy(s),s}function ly(n,t){for(var e=-1,s=n==null?0:n.length,r=0,i=[];++e<s;){var o=n[e];t(o,e,n)&&(i[r++]=o)}return i}function ay(){return[]}var cy=Object.prototype,uy=cy.propertyIsEnumerable,oh=Object.getOwnPropertySymbols,hy=oh?function(n){return n==null?[]:(n=Object(n),ly(oh(n),function(t){return uy.call(n,t)}))}:ay;function dy(n,t,e){var s=t(n);return Ts(n)?s:Kv(s,e(n))}function ja(n){return dy(n,vv,hy)}var Ha=Os(vn,"DataView"),Fa=Os(vn,"Promise"),Ua=Os(vn,"Set"),lh="[object Map]",fy="[object Object]",ah="[object Promise]",ch="[object Set]",uh="[object WeakMap]",hh="[object DataView]",py=_s(Ha),gy=_s(vi),my=_s(Fa),by=_s(Ua),vy=_s(Pa),De=Er;(Ha&&De(new Ha(new ArrayBuffer(1)))!=hh||vi&&De(new vi)!=lh||Fa&&De(Fa.resolve())!=ah||Ua&&De(new Ua)!=ch||Pa&&De(new Pa)!=uh)&&(De=function(n){var t=Er(n),e=t==fy?n.constructor:void 0,s=e?_s(e):"";if(s)switch(s){case py:return hh;case gy:return lh;case my:return ah;case by:return ch;case vy:return uh}return t});var yy=Object.prototype,wy=yy.hasOwnProperty;function xy(n){var t=n.length,e=new n.constructor(t);return t&&typeof n[0]=="string"&&wy.call(n,"index")&&(e.index=n.index,e.input=n.input),e}var So=vn.Uint8Array;function Pc(n){var t=new n.constructor(n.byteLength);return new So(t).set(new So(n)),t}function Cy(n,t){var e=Pc(n.buffer);return new n.constructor(e,n.byteOffset,n.byteLength)}var Ey=/\w*$/;function Ty(n){var t=new n.constructor(n.source,Ey.exec(n));return t.lastIndex=n.lastIndex,t}var dh=os?os.prototype:void 0,fh=dh?dh.valueOf:void 0;function Ny(n){return fh?Object(fh.call(n)):{}}function Gf(n,t){var e=t?Pc(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}var Ay="[object Boolean]",Sy="[object Date]",Ly="[object Map]",Iy="[object Number]",_y="[object RegExp]",Oy="[object Set]",My="[object String]",Ry="[object Symbol]",qy="[object ArrayBuffer]",ky="[object DataView]",By="[object Float32Array]",$y="[object Float64Array]",Py="[object Int8Array]",Dy="[object Int16Array]",jy="[object Int32Array]",Hy="[object Uint8Array]",Fy="[object Uint8ClampedArray]",Uy="[object Uint16Array]",zy="[object Uint32Array]";function Wy(n,t,e){var s=n.constructor;switch(t){case qy:return Pc(n);case Ay:case Sy:return new s(+n);case ky:return Cy(n);case By:case $y:case Py:case Dy:case jy:case Hy:case Fy:case Uy:case zy:return Gf(n,e);case Ly:return new s;case Iy:case My:return new s(n);case _y:return Ty(n);case Oy:return new s;case Ry:return Ny(n)}}function Xf(n){return typeof n.constructor=="function"&&!kc(n)?h0(zf(n)):{}}var Vy="[object Map]";function Ky(n){return kn(n)&&De(n)==Vy}var ph=gr&&gr.isMap,Gy=ph?Bc(ph):Ky,Xy="[object Set]";function Yy(n){return kn(n)&&De(n)==Xy}var gh=gr&&gr.isSet,Zy=gh?Bc(gh):Yy,Qy=1,Yf="[object Arguments]",Jy="[object Array]",tw="[object Boolean]",ew="[object Date]",nw="[object Error]",Zf="[object Function]",sw="[object GeneratorFunction]",rw="[object Map]",iw="[object Number]",Qf="[object Object]",ow="[object RegExp]",lw="[object Set]",aw="[object String]",cw="[object Symbol]",uw="[object WeakMap]",hw="[object ArrayBuffer]",dw="[object DataView]",fw="[object Float32Array]",pw="[object Float64Array]",gw="[object Int8Array]",mw="[object Int16Array]",bw="[object Int32Array]",vw="[object Uint8Array]",yw="[object Uint8ClampedArray]",ww="[object Uint16Array]",xw="[object Uint32Array]",Mt={};Mt[Yf]=Mt[Jy]=Mt[hw]=Mt[dw]=Mt[tw]=Mt[ew]=Mt[fw]=Mt[pw]=Mt[gw]=Mt[mw]=Mt[bw]=Mt[rw]=Mt[iw]=Mt[Qf]=Mt[ow]=Mt[lw]=Mt[aw]=Mt[cw]=Mt[vw]=Mt[yw]=Mt[ww]=Mt[xw]=!0;Mt[nw]=Mt[Zf]=Mt[uw]=!1;function go(n,t,e,s,r,i){var o,l=t&Qy;if(o!==void 0)return o;if(!cs(n))return n;var a=Ts(n);if(a)o=xy(n);else{var c=De(n),u=c==Zf||c==sw;if(mi(n))return Kf(n,l);if(c==Qf||c==Yf||u&&!r)o=u?{}:Xf(n);else{if(!Mt[c])return r?n:{};o=Wy(n,c,l)}}i||(i=new cn);var f=i.get(n);if(f)return f;i.set(n,o),Zy(n)?n.forEach(function(g){o.add(go(g,t,e,g,n,i))}):Gy(n)&&n.forEach(function(g,b){o.set(b,go(g,t,e,b,n,i))});var d=ja,p=a?void 0:d(n);return x0(p||n,function(g,b){p&&(b=g,g=n[b]),Bf(o,b,go(g,t,e,b,n,i))}),o}var Cw=1,Ew=4;function rr(n){return go(n,Cw|Ew)}var Tw="__lodash_hash_undefined__";function Nw(n){return this.__data__.set(n,Tw),this}function Aw(n){return this.__data__.has(n)}function Lo(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new Ms;++t<e;)this.add(n[t])}Lo.prototype.add=Lo.prototype.push=Nw;Lo.prototype.has=Aw;function Sw(n,t){for(var e=-1,s=n==null?0:n.length;++e<s;)if(t(n[e],e,n))return!0;return!1}function Lw(n,t){return n.has(t)}var Iw=1,_w=2;function Jf(n,t,e,s,r,i){var o=e&Iw,l=n.length,a=t.length;if(l!=a&&!(o&&a>l))return!1;var c=i.get(n),u=i.get(t);if(c&&u)return c==t&&u==n;var f=-1,d=!0,p=e&_w?new Lo:void 0;for(i.set(n,t),i.set(t,n);++f<l;){var g=n[f],b=t[f];if(s)var v=o?s(b,g,f,t,n,i):s(g,b,f,n,t,i);if(v!==void 0){if(v)continue;d=!1;break}if(p){if(!Sw(t,function(E,N){if(!Lw(p,N)&&(g===E||r(g,E,e,s,i)))return p.push(N)})){d=!1;break}}else if(!(g===b||r(g,b,e,s,i))){d=!1;break}}return i.delete(n),i.delete(t),d}function Ow(n){var t=-1,e=Array(n.size);return n.forEach(function(s,r){e[++t]=[r,s]}),e}function Mw(n){var t=-1,e=Array(n.size);return n.forEach(function(s){e[++t]=s}),e}var Rw=1,qw=2,kw="[object Boolean]",Bw="[object Date]",$w="[object Error]",Pw="[object Map]",Dw="[object Number]",jw="[object RegExp]",Hw="[object Set]",Fw="[object String]",Uw="[object Symbol]",zw="[object ArrayBuffer]",Ww="[object DataView]",mh=os?os.prototype:void 0,oa=mh?mh.valueOf:void 0;function Vw(n,t,e,s,r,i,o){switch(e){case Ww:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case zw:return!(n.byteLength!=t.byteLength||!i(new So(n),new So(t)));case kw:case Bw:case Dw:return Ii(+n,+t);case $w:return n.name==t.name&&n.message==t.message;case jw:case Fw:return n==t+"";case Pw:var l=Ow;case Hw:var a=s&Rw;if(l||(l=Mw),n.size!=t.size&&!a)return!1;var c=o.get(n);if(c)return c==t;s|=qw,o.set(n,t);var u=Jf(l(n),l(t),s,r,i,o);return o.delete(n),u;case Uw:if(oa)return oa.call(n)==oa.call(t)}return!1}var Kw=1,Gw=Object.prototype,Xw=Gw.hasOwnProperty;function Yw(n,t,e,s,r,i){var o=e&Kw,l=ja(n),a=l.length,c=ja(t),u=c.length;if(a!=u&&!o)return!1;for(var f=a;f--;){var d=l[f];if(!(o?d in t:Xw.call(t,d)))return!1}var p=i.get(n),g=i.get(t);if(p&&g)return p==t&&g==n;var b=!0;i.set(n,t),i.set(t,n);for(var v=o;++f<a;){d=l[f];var E=n[d],N=t[d];if(s)var S=o?s(N,E,d,t,n,i):s(E,N,d,n,t,i);if(!(S===void 0?E===N||r(E,N,e,s,i):S)){b=!1;break}v||(v=d=="constructor")}if(b&&!v){var _=n.constructor,D=t.constructor;_!=D&&"constructor"in n&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof D=="function"&&D instanceof D)&&(b=!1)}return i.delete(n),i.delete(t),b}var Zw=1,bh="[object Arguments]",vh="[object Array]",Yi="[object Object]",Qw=Object.prototype,yh=Qw.hasOwnProperty;function Jw(n,t,e,s,r,i){var o=Ts(n),l=Ts(t),a=o?vh:De(n),c=l?vh:De(t);a=a==bh?Yi:a,c=c==bh?Yi:c;var u=a==Yi,f=c==Yi,d=a==c;if(d&&mi(n)){if(!mi(t))return!1;o=!0,u=!1}if(d&&!u)return i||(i=new cn),o||$c(n)?Jf(n,t,e,s,r,i):Vw(n,t,a,e,s,r,i);if(!(e&Zw)){var p=u&&yh.call(n,"__wrapped__"),g=f&&yh.call(t,"__wrapped__");if(p||g){var b=p?n.value():n,v=g?t.value():t;return i||(i=new cn),r(b,v,e,s,i)}}return d?(i||(i=new cn),Yw(n,t,e,s,r,i)):!1}function tp(n,t,e,s,r){return n===t?!0:n==null||t==null||!kn(n)&&!kn(t)?n!==n&&t!==t:Jw(n,t,e,s,tp,r)}function tx(n){return function(t,e,s){for(var r=-1,i=Object(t),o=s(t),l=o.length;l--;){var a=o[++r];if(e(i[a],a,i)===!1)break}return t}}var ex=tx();function za(n,t,e){(e!==void 0&&!Ii(n[t],e)||e===void 0&&!(t in n))&&qc(n,t,e)}function nx(n){return kn(n)&&Qo(n)}function Wa(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}function sx(n){return A0(n,Uf(n))}function rx(n,t,e,s,r,i,o){var l=Wa(n,e),a=Wa(t,e),c=o.get(a);if(c){za(n,e,c);return}var u=i?i(l,a,e+"",n,t,o):void 0,f=u===void 0;if(f){var d=Ts(a),p=!d&&mi(a),g=!d&&!p&&$c(a);u=a,d||p||g?Ts(l)?u=l:nx(l)?u=f0(l):p?(f=!1,u=Kf(a,!0)):g?(f=!1,u=Gf(a,!0)):u=[]:Jv(a)||Da(a)?(u=l,Da(l)?u=sx(l):(!cs(l)||Rc(l))&&(u=Xf(a))):f=!1}f&&(o.set(a,u),r(u,a,s,i,o),o.delete(a)),za(n,e,u)}function ep(n,t,e,s,r){n!==t&&ex(t,function(i,o){if(r||(r=new cn),cs(i))rx(n,t,o,e,ep,s,r);else{var l=s?s(Wa(n,o),i,o+"",n,t,r):void 0;l===void 0&&(l=i),za(n,o,l)}},Uf)}function Dc(n,t){return tp(n,t)}var rs=O0(function(n,t,e){ep(n,t,e)}),ct=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(ct||{});class pn{constructor(t,e,s={}){this.attrName=t,this.keyName=e;const r=ct.TYPE&ct.ATTRIBUTE;this.scope=s.scope!=null?s.scope&ct.LEVEL|r:ct.ATTRIBUTE,s.whitelist!=null&&(this.whitelist=s.whitelist)}static keys(t){return Array.from(t.attributes).map(e=>e.name)}add(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),!0):!1}canAdd(t,e){return this.whitelist==null?!0:typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class ir extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const np=class Va{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let s=null;try{s=t.parentNode}catch{return null}return this.find(s,e)}return null}create(t,e,s){const r=this.query(e);if(r==null)throw new ir(`Unable to create ${e} blot`);const i=r,o=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:i.create(s),l=new i(t,o,s);return Va.blots.set(l.domNode,l),l}find(t,e=!1){return Va.find(t,e)}query(t,e=ct.ANY){let s;return typeof t=="string"?s=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?s=this.types.text:typeof t=="number"?t&ct.LEVEL&ct.BLOCK?s=this.types.block:t&ct.LEVEL&ct.INLINE&&(s=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(r=>(s=this.classes[r],!!s)),s=s||this.tags[t.tagName]),s==null?null:"scope"in s&&e&ct.LEVEL&s.scope&&e&ct.TYPE&s.scope?s:null}register(...t){return t.map(e=>{const s="blotName"in e,r="attrName"in e;if(!s&&!r)throw new ir("Invalid definition");if(s&&e.blotName==="abstract")throw new ir("Cannot register abstract class");const i=s?e.blotName:r?e.attrName:void 0;return this.types[i]=e,r?typeof e.keyName=="string"&&(this.attributes[e.keyName]=e):s&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map(o=>o.toUpperCase()):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach(o=>{(this.tags[o]==null||e.className==null)&&(this.tags[o]=e)}))),e})}};np.blots=new WeakMap;let mr=np;function wh(n,t){return(n.getAttribute("class")||"").split(/\s+/).filter(e=>e.indexOf(`${t}-`)===0)}class ix extends pn{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0):!1}remove(t){wh(t,this.keyName).forEach(e=>{t.classList.remove(e)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const e=(wh(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}const Ye=ix;function la(n){const t=n.split("-"),e=t.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("");return t[0]+e}class ox extends pn{static keys(t){return(t.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(t,e){return this.canAdd(t,e)?(t.style[la(this.keyName)]=e,!0):!1}remove(t){t.style[la(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[la(this.keyName)];return this.canAdd(t,e)?e:""}}const us=ox;class lx{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=mr.find(this.domNode);if(t==null)return;const e=pn.keys(this.domNode),s=Ye.keys(this.domNode),r=us.keys(this.domNode);e.concat(s).concat(r).forEach(i=>{const o=t.scroll.query(i,ct.ATTRIBUTE);o instanceof pn&&(this.attributes[o.attrName]=o)})}copy(t){Object.keys(this.attributes).forEach(e=>{const s=this.attributes[e].value(this.domNode);t.format(e,s)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t),{})}}const el=lx,sp=class{constructor(t,e){this.scroll=t,this.domNode=e,mr.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new ir("Blot definition missing tagName");let e,s;return Array.isArray(this.tagName)?(typeof t=="string"?(s=t.toUpperCase(),parseInt(s,10).toString()===s&&(s=parseInt(s,10))):typeof t=="number"&&(s=t),typeof s=="number"?e=document.createElement(this.tagName[s-1]):s&&this.tagName.indexOf(s)>-1?e=document.createElement(s):e=document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),mr.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,s,r){const i=this.isolate(t,e);if(this.scroll.query(s,ct.BLOT)!=null&&r)i.wrap(s,r);else if(this.scroll.query(s,ct.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);i.wrap(o),o.format(s,r)}}insertAt(t,e,s){const r=s==null?this.scroll.create("text",e):this.scroll.create(e,s),i=this.split(t);this.parent.insertBefore(r,i||void 0)}isolate(t,e){const s=this.split(t);if(s==null)throw new Error("Attempt to isolate at end");return s.split(e),s}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const s=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(s,this.next||void 0),this.remove()),s}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){const s=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(s,this.next||void 0),typeof s.appendChild!="function")throw new ir(`Cannot wrap ${t}`);return s.appendChild(this),s}};sp.blotName="abstract";let rp=sp;const ip=class extends rp{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let s=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(s+=1),[this.parent.domNode,s]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};ip.scope=ct.INLINE_BLOT;let ax=ip;const ne=ax;class cx{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let s=e();for(;s&&t>0;)t-=1,s=e();return s}contains(t){const e=this.iterator();let s=e();for(;s;){if(s===t)return!0;s=e()}return!1}indexOf(t){const e=this.iterator();let s=e(),r=0;for(;s;){if(s===t)return r;r+=1,s=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,s=this.head;for(;s!=null;){if(s===t)return e;e+=s.length(),s=s.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const s=this.iterator();let r=s();for(;r;){const i=r.length();if(t<i||e&&t===i&&(r.next==null||r.next.length()!==0))return[r,t];t-=i,r=s()}return[null,0]}forEach(t){const e=this.iterator();let s=e();for(;s;)t(s),s=e()}forEachAt(t,e,s){if(e<=0)return;const[r,i]=this.find(t);let o=t-i;const l=this.iterator(r);let a=l();for(;a&&o<t+e;){const c=a.length();t>o?s(a,t-o,Math.min(e,o+c-t)):s(a,0,Math.min(c,t+e-o)),o+=c,a=l()}}map(t){return this.reduce((e,s)=>(e.push(t(s)),e),[])}reduce(t,e){const s=this.iterator();let r=s();for(;r;)e=t(e,r),r=s();return e}}function xh(n,t){const e=t.find(n);if(e)return e;try{return t.create(n)}catch{const s=t.create(ct.INLINE);return Array.from(n.childNodes).forEach(r=>{s.domNode.appendChild(r)}),n.parentNode&&n.parentNode.replaceChild(s.domNode,n),s.attach(),s}}const op=class Vn extends rp{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,Vn.uiClass&&this.uiNode.classList.add(Vn.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new cx,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const e=xh(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(e){if(e instanceof ir)return;throw e}})}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,(s,r,i)=>{s.deleteAt(r,i)})}descendant(t,e=0){const[s,r]=this.children.find(e);return t.blotName==null&&t(s)||t.blotName!=null&&s instanceof t?[s,r]:s instanceof Vn?s.descendant(t,r):[null,-1]}descendants(t,e=0,s=Number.MAX_VALUE){let r=[],i=s;return this.children.forEachAt(e,s,(o,l,a)=>{(t.blotName==null&&t(o)||t.blotName!=null&&o instanceof t)&&r.push(o),o instanceof Vn&&(r=r.concat(o.descendants(t,l,i))),i-=a}),r}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(e=>{t||this.statics.allowedChildren.some(s=>e instanceof s)||(e.statics.scope===ct.BLOCK_BLOT?(e.next!=null&&this.splitAfter(e),e.prev!=null&&this.splitAfter(e.prev),e.parent.unwrap(),t=!0):e instanceof Vn?e.unwrap():e.remove())})}formatAt(t,e,s,r){this.children.forEachAt(t,e,(i,o,l)=>{i.formatAt(o,l,s,r)})}insertAt(t,e,s){const[r,i]=this.children.find(t);if(r)r.insertAt(i,e,s);else{const o=s==null?this.scroll.create("text",e):this.scroll.create(e,s);this.appendChild(o)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let s=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(s=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==s)&&this.domNode.insertBefore(t.domNode,s),t.attach()}length(){return this.children.reduce((t,e)=>t+e.length(),0)}moveChildren(t,e){this.children.forEach(s=>{t.insertBefore(s,e)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,e=!1){const[s,r]=this.children.find(t,e),i=[[this,t]];return s instanceof Vn?i.concat(s.path(r,e)):(s!=null&&i.push([s,r]),i)}removeChild(t){this.children.remove(t)}replaceWith(t,e){const s=typeof t=="string"?this.scroll.create(t,e):t;return s instanceof Vn&&this.moveChildren(s),super.replaceWith(s)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const s=this.clone();return this.parent&&this.parent.insertBefore(s,this.next||void 0),this.children.forEachAt(t,this.length(),(r,i,o)=>{const l=r.split(i,e);l!=null&&s.appendChild(l)}),s}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const s=[],r=[];t.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(s.push(...i.addedNodes),r.push(...i.removedNodes))}),r.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(i);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),s.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,o)=>i===o?0:i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let o=null;i.nextSibling!=null&&(o=this.scroll.find(i.nextSibling));const l=xh(i,this.scroll);(l.next!==o||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,o||void 0))}),this.enforceAllowedChildren()}};op.uiClass="";let ux=op;const We=ux;function hx(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const e in n)if(n[e]!==t[e])return!1;return!0}const Ks=class Gs extends We{static create(t){return super.create(t)}static formats(t,e){const s=e.query(Gs.blotName);if(!(s!=null&&t.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new el(this.domNode)}format(t,e){if(t===this.statics.blotName&&!e)this.children.forEach(s=>{s instanceof Gs||(s=s.wrap(Gs.blotName,!0)),this.attributes.copy(s)}),this.unwrap();else{const s=this.scroll.query(t,ct.INLINE);if(s==null)return;s instanceof pn?this.attributes.attribute(s,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,s,r){this.formats()[s]!=null||this.scroll.query(s,ct.ATTRIBUTE)?this.isolate(t,e).format(s,r):super.formatAt(t,e,s,r)}optimize(t){super.optimize(t);const e=this.formats();if(Object.keys(e).length===0)return this.unwrap();const s=this.next;s instanceof Gs&&s.prev===this&&hx(e,s.formats())&&(s.moveChildren(this),s.remove())}replaceWith(t,e){const s=super.replaceWith(t,e);return this.attributes.copy(s),s}update(t,e){super.update(t,e),t.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}wrap(t,e){const s=super.wrap(t,e);return s instanceof Gs&&this.attributes.move(s),s}};Ks.allowedChildren=[Ks,ne],Ks.blotName="inline",Ks.scope=ct.INLINE_BLOT,Ks.tagName="SPAN";let dx=Ks;const jc=dx,Xs=class Ka extends We{static create(t){return super.create(t)}static formats(t,e){const s=e.query(Ka.blotName);if(!(s!=null&&t.tagName===s.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(t,e){super(t,e),this.attributes=new el(this.domNode)}format(t,e){const s=this.scroll.query(t,ct.BLOCK);s!=null&&(s instanceof pn?this.attributes.attribute(s,e):t===this.statics.blotName&&!e?this.replaceWith(Ka.blotName):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,s,r){this.scroll.query(s,ct.BLOCK)!=null?this.format(s,r):super.formatAt(t,e,s,r)}insertAt(t,e,s){if(s==null||this.scroll.query(e,ct.INLINE)!=null)super.insertAt(t,e,s);else{const r=this.split(t);if(r!=null){const i=this.scroll.create(e,s);r.parent.insertBefore(i,r)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){const s=super.replaceWith(t,e);return this.attributes.copy(s),s}update(t,e){super.update(t,e),t.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}};Xs.blotName="block",Xs.scope=ct.BLOCK_BLOT,Xs.tagName="P",Xs.allowedChildren=[jc,Xs,ne];let fx=Xs;const yi=fx,Ga=class extends We{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,s,r){super.formatAt(t,e,s,r),this.enforceAllowedChildren()}insertAt(t,e,s){super.insertAt(t,e,s),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Ga.blotName="container",Ga.scope=ct.BLOCK_BLOT;let px=Ga;const nl=px;class gx extends ne{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,s,r){t===0&&e===this.length()?this.format(s,r):super.formatAt(t,e,s,r)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Ne=gx,mx={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},bx=100,Ys=class extends We{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(s=>{this.update(s)}),this.observer.observe(this.domNode,mx),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const s=this.registry.find(t,e);return s?s.scroll===this?s:e?this.find(s.scroll.domNode.parentNode,!0):null:null}query(t,e=ct.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach(s=>{s.remove()}):super.deleteAt(t,e)}formatAt(t,e,s,r){this.update(),super.formatAt(t,e,s,r)}insertAt(t,e,s){this.update(),super.insertAt(t,e,s)}optimize(t=[],e={}){super.optimize(e);const s=e.mutationsMap||new WeakMap;let r=Array.from(this.observer.takeRecords());for(;r.length>0;)t.push(r.pop());const i=(a,c=!0)=>{a==null||a===this||a.domNode.parentNode!=null&&(s.has(a.domNode)||s.set(a.domNode,[]),c&&i(a.parent))},o=a=>{s.has(a.domNode)&&(a instanceof We&&a.children.forEach(o),s.delete(a.domNode),a.optimize(e))};let l=t;for(let a=0;l.length>0;a+=1){if(a>=bx)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(c=>{const u=this.find(c.target,!0);u!=null&&(u.domNode===c.target&&(c.type==="childList"?(i(this.find(c.previousSibling,!1)),Array.from(c.addedNodes).forEach(f=>{const d=this.find(f,!1);i(d,!1),d instanceof We&&d.children.forEach(p=>{i(p,!1)})})):c.type==="attributes"&&i(u.prev)),i(u))}),this.children.forEach(o),l=Array.from(this.observer.takeRecords()),r=l.slice();r.length>0;)t.push(r.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const s=new WeakMap;t.map(r=>{const i=this.find(r.target,!0);return i==null?null:s.has(i.domNode)?(s.get(i.domNode).push(r),null):(s.set(i.domNode,[r]),i)}).forEach(r=>{r!=null&&r!==this&&s.has(r.domNode)&&r.update(s.get(r.domNode)||[],e)}),e.mutationsMap=s,s.has(this.domNode)&&super.update(s.get(this.domNode),e),this.optimize(t,e)}};Ys.blotName="scroll",Ys.defaultChild=yi,Ys.allowedChildren=[yi,nl],Ys.scope=ct.BLOCK_BLOT,Ys.tagName="DIV";let vx=Ys;const Hc=vx,Xa=class lp extends ne{static create(t){return document.createTextNode(t)}static value(t){return t.data}constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,s){s==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,s)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof lp&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const s=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(s,this.next||void 0),this.text=this.statics.value(this.domNode),s}update(t,e){t.some(s=>s.type==="characterData"&&s.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Xa.blotName="text",Xa.scope=ct.INLINE_BLOT;let yx=Xa;const Io=yx,wx=Object.freeze(Object.defineProperty({__proto__:null,Attributor:pn,AttributorStore:el,BlockBlot:yi,ClassAttributor:Ye,ContainerBlot:nl,EmbedBlot:Ne,InlineBlot:jc,LeafBlot:ne,ParentBlot:We,Registry:mr,Scope:ct,ScrollBlot:Hc,StyleAttributor:us,TextBlot:Io},Symbol.toStringTag,{value:"Module"}));var Zn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ap(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zi={exports:{}},aa,Ch;function xx(){if(Ch)return aa;Ch=1;var n=-1,t=1,e=0;function s(C,$,A,F,P){if(C===$)return C?[[e,C]]:[];if(A!=null){var O=bt(C,$,A);if(O)return O}var q=l(C,$),H=C.substring(0,q);C=C.substring(q),$=$.substring(q),q=c(C,$);var j=C.substring(C.length-q);C=C.substring(0,C.length-q),$=$.substring(0,$.length-q);var V=r(C,$);return H&&V.unshift([e,H]),j&&V.push([e,j]),N(V,P),F&&f(V),V}function r(C,$){var A;if(!C)return[[t,$]];if(!$)return[[n,C]];var F=C.length>$.length?C:$,P=C.length>$.length?$:C,O=F.indexOf(P);if(O!==-1)return A=[[t,F.substring(0,O)],[e,P],[t,F.substring(O+P.length)]],C.length>$.length&&(A[0][0]=A[2][0]=n),A;if(P.length===1)return[[n,C],[t,$]];var q=u(C,$);if(q){var H=q[0],j=q[1],V=q[2],nt=q[3],J=q[4],gt=s(H,V),mt=s(j,nt);return gt.concat([[e,J]],mt)}return i(C,$)}function i(C,$){for(var A=C.length,F=$.length,P=Math.ceil((A+F)/2),O=P,q=2*P,H=new Array(q),j=new Array(q),V=0;V<q;V++)H[V]=-1,j[V]=-1;H[O+1]=0,j[O+1]=0;for(var nt=A-F,J=nt%2!==0,gt=0,mt=0,at=0,xt=0,R=0;R<P;R++){for(var W=-R+gt;W<=R-mt;W+=2){var K=O+W,X;W===-R||W!==R&&H[K-1]<H[K+1]?X=H[K+1]:X=H[K-1]+1;for(var ut=X-W;X<A&&ut<F&&C.charAt(X)===$.charAt(ut);)X++,ut++;if(H[K]=X,X>A)mt+=2;else if(ut>F)gt+=2;else if(J){var y=O+nt-W;if(y>=0&&y<q&&j[y]!==-1){var x=A-j[y];if(X>=x)return o(C,$,X,ut)}}}for(var L=-R+at;L<=R-xt;L+=2){var y=O+L,x;L===-R||L!==R&&j[y-1]<j[y+1]?x=j[y+1]:x=j[y-1]+1;for(var k=x-L;x<A&&k<F&&C.charAt(A-x-1)===$.charAt(F-k-1);)x++,k++;if(j[y]=x,x>A)xt+=2;else if(k>F)at+=2;else if(!J){var K=O+nt-L;if(K>=0&&K<q&&H[K]!==-1){var X=H[K],ut=O+X-K;if(x=A-x,X>=x)return o(C,$,X,ut)}}}}return[[n,C],[t,$]]}function o(C,$,A,F){var P=C.substring(0,A),O=$.substring(0,F),q=C.substring(A),H=$.substring(F),j=s(P,O),V=s(q,H);return j.concat(V)}function l(C,$){if(!C||!$||C.charAt(0)!==$.charAt(0))return 0;for(var A=0,F=Math.min(C.length,$.length),P=F,O=0;A<P;)C.substring(O,P)==$.substring(O,P)?(A=P,O=A):F=P,P=Math.floor((F-A)/2+A);return S(C.charCodeAt(P-1))&&P--,P}function a(C,$){var A=C.length,F=$.length;if(A==0||F==0)return 0;A>F?C=C.substring(A-F):A<F&&($=$.substring(0,A));var P=Math.min(A,F);if(C==$)return P;for(var O=0,q=1;;){var H=C.substring(P-q),j=$.indexOf(H);if(j==-1)return O;q+=j,(j==0||C.substring(P-q)==$.substring(0,q))&&(O=q,q++)}}function c(C,$){if(!C||!$||C.slice(-1)!==$.slice(-1))return 0;for(var A=0,F=Math.min(C.length,$.length),P=F,O=0;A<P;)C.substring(C.length-P,C.length-O)==$.substring($.length-P,$.length-O)?(A=P,O=A):F=P,P=Math.floor((F-A)/2+A);return _(C.charCodeAt(C.length-P))&&P--,P}function u(C,$){var A=C.length>$.length?C:$,F=C.length>$.length?$:C;if(A.length<4||F.length*2<A.length)return null;function P(mt,at,xt){for(var R=mt.substring(xt,xt+Math.floor(mt.length/4)),W=-1,K="",X,ut,y,x;(W=at.indexOf(R,W+1))!==-1;){var L=l(mt.substring(xt),at.substring(W)),k=c(mt.substring(0,xt),at.substring(0,W));K.length<k+L&&(K=at.substring(W-k,W)+at.substring(W,W+L),X=mt.substring(0,xt-k),ut=mt.substring(xt+L),y=at.substring(0,W-k),x=at.substring(W+L))}return K.length*2>=mt.length?[X,ut,y,x,K]:null}var O=P(A,F,Math.ceil(A.length/4)),q=P(A,F,Math.ceil(A.length/2)),H;if(!O&&!q)return null;q?O?H=O[4].length>q[4].length?O:q:H=q:H=O;var j,V,nt,J;C.length>$.length?(j=H[0],V=H[1],nt=H[2],J=H[3]):(nt=H[0],J=H[1],j=H[2],V=H[3]);var gt=H[4];return[j,V,nt,J,gt]}function f(C){for(var $=!1,A=[],F=0,P=null,O=0,q=0,H=0,j=0,V=0;O<C.length;)C[O][0]==e?(A[F++]=O,q=j,H=V,j=0,V=0,P=C[O][1]):(C[O][0]==t?j+=C[O][1].length:V+=C[O][1].length,P&&P.length<=Math.max(q,H)&&P.length<=Math.max(j,V)&&(C.splice(A[F-1],0,[n,P]),C[A[F-1]+1][0]=t,F--,F--,O=F>0?A[F-1]:-1,q=0,H=0,j=0,V=0,P=null,$=!0)),O++;for($&&N(C),E(C),O=1;O<C.length;){if(C[O-1][0]==n&&C[O][0]==t){var nt=C[O-1][1],J=C[O][1],gt=a(nt,J),mt=a(J,nt);gt>=mt?(gt>=nt.length/2||gt>=J.length/2)&&(C.splice(O,0,[e,J.substring(0,gt)]),C[O-1][1]=nt.substring(0,nt.length-gt),C[O+1][1]=J.substring(gt),O++):(mt>=nt.length/2||mt>=J.length/2)&&(C.splice(O,0,[e,nt.substring(0,mt)]),C[O-1][0]=t,C[O-1][1]=J.substring(0,J.length-mt),C[O+1][0]=n,C[O+1][1]=nt.substring(mt),O++),O++}O++}}var d=/[^a-zA-Z0-9]/,p=/\s/,g=/[\r\n]/,b=/\n\r?\n$/,v=/^\r?\n\r?\n/;function E(C){function $(mt,at){if(!mt||!at)return 6;var xt=mt.charAt(mt.length-1),R=at.charAt(0),W=xt.match(d),K=R.match(d),X=W&&xt.match(p),ut=K&&R.match(p),y=X&&xt.match(g),x=ut&&R.match(g),L=y&&mt.match(b),k=x&&at.match(v);return L||k?5:y||x?4:W&&!X&&ut?3:X||ut?2:W||K?1:0}for(var A=1;A<C.length-1;){if(C[A-1][0]==e&&C[A+1][0]==e){var F=C[A-1][1],P=C[A][1],O=C[A+1][1],q=c(F,P);if(q){var H=P.substring(P.length-q);F=F.substring(0,F.length-q),P=H+P.substring(0,P.length-q),O=H+O}for(var j=F,V=P,nt=O,J=$(F,P)+$(P,O);P.charAt(0)===O.charAt(0);){F+=P.charAt(0),P=P.substring(1)+O.charAt(0),O=O.substring(1);var gt=$(F,P)+$(P,O);gt>=J&&(J=gt,j=F,V=P,nt=O)}C[A-1][1]!=j&&(j?C[A-1][1]=j:(C.splice(A-1,1),A--),C[A][1]=V,nt?C[A+1][1]=nt:(C.splice(A+1,1),A--))}A++}}function N(C,$){C.push([e,""]);for(var A=0,F=0,P=0,O="",q="",H;A<C.length;){if(A<C.length-1&&!C[A][1]){C.splice(A,1);continue}switch(C[A][0]){case t:P++,q+=C[A][1],A++;break;case n:F++,O+=C[A][1],A++;break;case e:var j=A-P-F-1;if($){if(j>=0&&Q(C[j][1])){var V=C[j][1].slice(-1);if(C[j][1]=C[j][1].slice(0,-1),O=V+O,q=V+q,!C[j][1]){C.splice(j,1),A--;var nt=j-1;C[nt]&&C[nt][0]===t&&(P++,q=C[nt][1]+q,nt--),C[nt]&&C[nt][0]===n&&(F++,O=C[nt][1]+O,nt--),j=nt}}if(D(C[A][1])){var V=C[A][1].charAt(0);C[A][1]=C[A][1].slice(1),O+=V,q+=V}}if(A<C.length-1&&!C[A][1]){C.splice(A,1);break}if(O.length>0||q.length>0){O.length>0&&q.length>0&&(H=l(q,O),H!==0&&(j>=0?C[j][1]+=q.substring(0,H):(C.splice(0,0,[e,q.substring(0,H)]),A++),q=q.substring(H),O=O.substring(H)),H=c(q,O),H!==0&&(C[A][1]=q.substring(q.length-H)+C[A][1],q=q.substring(0,q.length-H),O=O.substring(0,O.length-H)));var J=P+F;O.length===0&&q.length===0?(C.splice(A-J,J),A=A-J):O.length===0?(C.splice(A-J,J,[t,q]),A=A-J+1):q.length===0?(C.splice(A-J,J,[n,O]),A=A-J+1):(C.splice(A-J,J,[n,O],[t,q]),A=A-J+2)}A!==0&&C[A-1][0]===e?(C[A-1][1]+=C[A][1],C.splice(A,1)):A++,P=0,F=0,O="",q="";break}}C[C.length-1][1]===""&&C.pop();var gt=!1;for(A=1;A<C.length-1;)C[A-1][0]===e&&C[A+1][0]===e&&(C[A][1].substring(C[A][1].length-C[A-1][1].length)===C[A-1][1]?(C[A][1]=C[A-1][1]+C[A][1].substring(0,C[A][1].length-C[A-1][1].length),C[A+1][1]=C[A-1][1]+C[A+1][1],C.splice(A-1,1),gt=!0):C[A][1].substring(0,C[A+1][1].length)==C[A+1][1]&&(C[A-1][1]+=C[A+1][1],C[A][1]=C[A][1].substring(C[A+1][1].length)+C[A+1][1],C.splice(A+1,1),gt=!0)),A++;gt&&N(C,$)}function S(C){return C>=55296&&C<=56319}function _(C){return C>=56320&&C<=57343}function D(C){return _(C.charCodeAt(0))}function Q(C){return S(C.charCodeAt(C.length-1))}function tt(C){for(var $=[],A=0;A<C.length;A++)C[A][1].length>0&&$.push(C[A]);return $}function lt(C,$,A,F){return Q(C)||D(F)?null:tt([[e,C],[n,$],[t,A],[e,F]])}function bt(C,$,A){var F=typeof A=="number"?{index:A,length:0}:A.oldRange,P=typeof A=="number"?null:A.newRange,O=C.length,q=$.length;if(F.length===0&&(P===null||P.length===0)){var H=F.index,j=C.slice(0,H),V=C.slice(H),nt=P?P.index:null;t:{var J=H+q-O;if(nt!==null&&nt!==J||J<0||J>q)break t;var gt=$.slice(0,J),mt=$.slice(J);if(mt!==V)break t;var at=Math.min(H,J),xt=j.slice(0,at),R=gt.slice(0,at);if(xt!==R)break t;var W=j.slice(at),K=gt.slice(at);return lt(xt,W,K,V)}t:{if(nt!==null&&nt!==H)break t;var X=H,gt=$.slice(0,X),mt=$.slice(X);if(gt!==j)break t;var ut=Math.min(O-X,q-X),y=V.slice(V.length-ut),x=mt.slice(mt.length-ut);if(y!==x)break t;var W=V.slice(0,V.length-ut),K=mt.slice(0,mt.length-ut);return lt(j,W,K,y)}}if(F.length>0&&P&&P.length===0)t:{var xt=C.slice(0,F.index),y=C.slice(F.index+F.length),at=xt.length,ut=y.length;if(q<at+ut)break t;var R=$.slice(0,at),x=$.slice(q-ut);if(xt!==R||y!==x)break t;var W=C.slice(at,O-ut),K=$.slice(at,q-ut);return lt(xt,W,K,y)}return null}function ft(C,$,A,F){return s(C,$,A,F,!0)}return ft.INSERT=t,ft.DELETE=n,ft.EQUAL=e,aa=ft,aa}var Ur={exports:{}};Ur.exports;var Eh;function cp(){return Eh||(Eh=1,function(n,t){var e=200,s="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",o="[object Array]",l="[object Boolean]",a="[object Date]",c="[object Error]",u="[object Function]",f="[object GeneratorFunction]",d="[object Map]",p="[object Number]",g="[object Object]",b="[object Promise]",v="[object RegExp]",E="[object Set]",N="[object String]",S="[object Symbol]",_="[object WeakMap]",D="[object ArrayBuffer]",Q="[object DataView]",tt="[object Float32Array]",lt="[object Float64Array]",bt="[object Int8Array]",ft="[object Int16Array]",C="[object Int32Array]",$="[object Uint8Array]",A="[object Uint8ClampedArray]",F="[object Uint16Array]",P="[object Uint32Array]",O=/[\\^$.*+?()[\]{}|]/g,q=/\w*$/,H=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,V={};V[i]=V[o]=V[D]=V[Q]=V[l]=V[a]=V[tt]=V[lt]=V[bt]=V[ft]=V[C]=V[d]=V[p]=V[g]=V[v]=V[E]=V[N]=V[S]=V[$]=V[A]=V[F]=V[P]=!0,V[c]=V[u]=V[_]=!1;var nt=typeof Zn=="object"&&Zn&&Zn.Object===Object&&Zn,J=typeof self=="object"&&self&&self.Object===Object&&self,gt=nt||J||Function("return this")(),mt=t&&!t.nodeType&&t,at=mt&&!0&&n&&!n.nodeType&&n,xt=at&&at.exports===mt;function R(h,m){return h.set(m[0],m[1]),h}function W(h,m){return h.add(m),h}function K(h,m){for(var T=-1,B=h?h.length:0;++T<B&&m(h[T],T,h)!==!1;);return h}function X(h,m){for(var T=-1,B=m.length,vt=h.length;++T<B;)h[vt+T]=m[T];return h}function ut(h,m,T,B){for(var vt=-1,ht=h?h.length:0;++vt<ht;)T=m(T,h[vt],vt,h);return T}function y(h,m){for(var T=-1,B=Array(h);++T<h;)B[T]=m(T);return B}function x(h,m){return h==null?void 0:h[m]}function L(h){var m=!1;if(h!=null&&typeof h.toString!="function")try{m=!!(h+"")}catch{}return m}function k(h){var m=-1,T=Array(h.size);return h.forEach(function(B,vt){T[++m]=[vt,B]}),T}function z(h,m){return function(T){return h(m(T))}}function U(h){var m=-1,T=Array(h.size);return h.forEach(function(B){T[++m]=B}),T}var et=Array.prototype,Z=Function.prototype,Y=Object.prototype,G=gt["__core-js_shared__"],dt=function(){var h=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),st=Z.toString,it=Y.hasOwnProperty,pt=Y.toString,Ct=RegExp("^"+st.call(it).replace(O,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tt=xt?gt.Buffer:void 0,Et=gt.Symbol,Ft=gt.Uint8Array,Ot=z(Object.getPrototypeOf,Object),oe=Object.create,le=Y.propertyIsEnumerable,yn=et.splice,Hn=Object.getOwnPropertySymbols,Pt=Tt?Tt.isBuffer:void 0,ae=z(Object.keys,Object),wn=Be(gt,"DataView"),hs=Be(gt,"Map"),ke=Be(gt,"Promise"),Bs=Be(gt,"Set"),Tr=Be(gt,"WeakMap"),ds=Be(Object,"create"),Nr=ce(wn),fs=ce(hs),Ar=ce(ke),Sr=ce(Bs),Lr=ce(Tr),Fn=Et?Et.prototype:void 0,qi=Fn?Fn.valueOf:void 0;function xn(h){var m=-1,T=h?h.length:0;for(this.clear();++m<T;){var B=h[m];this.set(B[0],B[1])}}function al(){this.__data__=ds?ds(null):{}}function cl(h){return this.has(h)&&delete this.__data__[h]}function ul(h){var m=this.__data__;if(ds){var T=m[h];return T===s?void 0:T}return it.call(m,h)?m[h]:void 0}function ki(h){var m=this.__data__;return ds?m[h]!==void 0:it.call(m,h)}function Ir(h,m){var T=this.__data__;return T[h]=ds&&m===void 0?s:m,this}xn.prototype.clear=al,xn.prototype.delete=cl,xn.prototype.get=ul,xn.prototype.has=ki,xn.prototype.set=Ir;function Kt(h){var m=-1,T=h?h.length:0;for(this.clear();++m<T;){var B=h[m];this.set(B[0],B[1])}}function hl(){this.__data__=[]}function dl(h){var m=this.__data__,T=Ps(m,h);if(T<0)return!1;var B=m.length-1;return T==B?m.pop():yn.call(m,T,1),!0}function fl(h){var m=this.__data__,T=Ps(m,h);return T<0?void 0:m[T][1]}function pl(h){return Ps(this.__data__,h)>-1}function gl(h,m){var T=this.__data__,B=Ps(T,h);return B<0?T.push([h,m]):T[B][1]=m,this}Kt.prototype.clear=hl,Kt.prototype.delete=dl,Kt.prototype.get=fl,Kt.prototype.has=pl,Kt.prototype.set=gl;function Yt(h){var m=-1,T=h?h.length:0;for(this.clear();++m<T;){var B=h[m];this.set(B[0],B[1])}}function ml(){this.__data__={hash:new xn,map:new(hs||Kt),string:new xn}}function bl(h){return gs(this,h).delete(h)}function vl(h){return gs(this,h).get(h)}function yl(h){return gs(this,h).has(h)}function wl(h,m){return gs(this,h).set(h,m),this}Yt.prototype.clear=ml,Yt.prototype.delete=bl,Yt.prototype.get=vl,Yt.prototype.has=yl,Yt.prototype.set=wl;function ge(h){this.__data__=new Kt(h)}function xl(){this.__data__=new Kt}function Cl(h){return this.__data__.delete(h)}function El(h){return this.__data__.get(h)}function Tl(h){return this.__data__.has(h)}function Nl(h,m){var T=this.__data__;if(T instanceof Kt){var B=T.__data__;if(!hs||B.length<e-1)return B.push([h,m]),this;T=this.__data__=new Yt(B)}return T.set(h,m),this}ge.prototype.clear=xl,ge.prototype.delete=Cl,ge.prototype.get=El,ge.prototype.has=Tl,ge.prototype.set=Nl;function $s(h,m){var T=Rr(h)||js(h)?y(h.length,String):[],B=T.length,vt=!!B;for(var ht in h)it.call(h,ht)&&!(vt&&(ht=="length"||Dl(ht,B)))&&T.push(ht);return T}function Bi(h,m,T){var B=h[m];(!(it.call(h,m)&&Hi(B,T))||T===void 0&&!(m in h))&&(h[m]=T)}function Ps(h,m){for(var T=h.length;T--;)if(Hi(h[T][0],m))return T;return-1}function Je(h,m){return h&&Mr(m,kr(m),h)}function _r(h,m,T,B,vt,ht,At){var Nt;if(B&&(Nt=ht?B(h,vt,ht,At):B(h)),Nt!==void 0)return Nt;if(!en(h))return h;var Dt=Rr(h);if(Dt){if(Nt=$l(h),!m)return ql(h,Nt)}else{var St=En(h),Zt=St==u||St==f;if(Fi(h))return Ds(h,m);if(St==g||St==i||Zt&&!ht){if(L(h))return ht?h:{};if(Nt=tn(Zt?{}:h),!m)return kl(h,Je(Nt,h))}else{if(!V[St])return ht?h:{};Nt=Pl(h,St,_r,m)}}At||(At=new ge);var me=At.get(h);if(me)return me;if(At.set(h,Nt),!Dt)var Ut=T?Bl(h):kr(h);return K(Ut||h,function(Qt,Gt){Ut&&(Gt=Qt,Qt=h[Gt]),Bi(Nt,Gt,_r(Qt,m,T,B,Gt,h,At))}),Nt}function Al(h){return en(h)?oe(h):{}}function Sl(h,m,T){var B=m(h);return Rr(h)?B:X(B,T(h))}function Ll(h){return pt.call(h)}function Il(h){if(!en(h)||Hl(h))return!1;var m=qr(h)||L(h)?Ct:H;return m.test(ce(h))}function _l(h){if(!Di(h))return ae(h);var m=[];for(var T in Object(h))it.call(h,T)&&T!="constructor"&&m.push(T);return m}function Ds(h,m){if(m)return h.slice();var T=new h.constructor(h.length);return h.copy(T),T}function Or(h){var m=new h.constructor(h.byteLength);return new Ft(m).set(new Ft(h)),m}function ps(h,m){var T=m?Or(h.buffer):h.buffer;return new h.constructor(T,h.byteOffset,h.byteLength)}function $i(h,m,T){var B=m?T(k(h),!0):k(h);return ut(B,R,new h.constructor)}function Pi(h){var m=new h.constructor(h.source,q.exec(h));return m.lastIndex=h.lastIndex,m}function Ol(h,m,T){var B=m?T(U(h),!0):U(h);return ut(B,W,new h.constructor)}function Ml(h){return qi?Object(qi.call(h)):{}}function Rl(h,m){var T=m?Or(h.buffer):h.buffer;return new h.constructor(T,h.byteOffset,h.length)}function ql(h,m){var T=-1,B=h.length;for(m||(m=Array(B));++T<B;)m[T]=h[T];return m}function Mr(h,m,T,B){T||(T={});for(var vt=-1,ht=m.length;++vt<ht;){var At=m[vt],Nt=void 0;Bi(T,At,Nt===void 0?h[At]:Nt)}return T}function kl(h,m){return Mr(h,Cn(h),m)}function Bl(h){return Sl(h,kr,Cn)}function gs(h,m){var T=h.__data__;return jl(m)?T[typeof m=="string"?"string":"hash"]:T.map}function Be(h,m){var T=x(h,m);return Il(T)?T:void 0}var Cn=Hn?z(Hn,Object):Ul,En=Ll;(wn&&En(new wn(new ArrayBuffer(1)))!=Q||hs&&En(new hs)!=d||ke&&En(ke.resolve())!=b||Bs&&En(new Bs)!=E||Tr&&En(new Tr)!=_)&&(En=function(h){var m=pt.call(h),T=m==g?h.constructor:void 0,B=T?ce(T):void 0;if(B)switch(B){case Nr:return Q;case fs:return d;case Ar:return b;case Sr:return E;case Lr:return _}return m});function $l(h){var m=h.length,T=h.constructor(m);return m&&typeof h[0]=="string"&&it.call(h,"index")&&(T.index=h.index,T.input=h.input),T}function tn(h){return typeof h.constructor=="function"&&!Di(h)?Al(Ot(h)):{}}function Pl(h,m,T,B){var vt=h.constructor;switch(m){case D:return Or(h);case l:case a:return new vt(+h);case Q:return ps(h,B);case tt:case lt:case bt:case ft:case C:case $:case A:case F:case P:return Rl(h,B);case d:return $i(h,B,T);case p:case N:return new vt(h);case v:return Pi(h);case E:return Ol(h,B,T);case S:return Ml(h)}}function Dl(h,m){return m=m??r,!!m&&(typeof h=="number"||j.test(h))&&h>-1&&h%1==0&&h<m}function jl(h){var m=typeof h;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?h!=="__proto__":h===null}function Hl(h){return!!dt&&dt in h}function Di(h){var m=h&&h.constructor,T=typeof m=="function"&&m.prototype||Y;return h===T}function ce(h){if(h!=null){try{return st.call(h)}catch{}try{return h+""}catch{}}return""}function ji(h){return _r(h,!0,!0)}function Hi(h,m){return h===m||h!==h&&m!==m}function js(h){return Fl(h)&&it.call(h,"callee")&&(!le.call(h,"callee")||pt.call(h)==i)}var Rr=Array.isArray;function Hs(h){return h!=null&&Ui(h.length)&&!qr(h)}function Fl(h){return zi(h)&&Hs(h)}var Fi=Pt||zl;function qr(h){var m=en(h)?pt.call(h):"";return m==u||m==f}function Ui(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=r}function en(h){var m=typeof h;return!!h&&(m=="object"||m=="function")}function zi(h){return!!h&&typeof h=="object"}function kr(h){return Hs(h)?$s(h):_l(h)}function Ul(){return[]}function zl(){return!1}n.exports=ji}(Ur,Ur.exports)),Ur.exports}var zr={exports:{}};zr.exports;var Th;function up(){return Th||(Th=1,function(n,t){var e=200,s="__lodash_hash_undefined__",r=1,i=2,o=9007199254740991,l="[object Arguments]",a="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Function]",g="[object GeneratorFunction]",b="[object Map]",v="[object Number]",E="[object Null]",N="[object Object]",S="[object Promise]",_="[object Proxy]",D="[object RegExp]",Q="[object Set]",tt="[object String]",lt="[object Symbol]",bt="[object Undefined]",ft="[object WeakMap]",C="[object ArrayBuffer]",$="[object DataView]",A="[object Float32Array]",F="[object Float64Array]",P="[object Int8Array]",O="[object Int16Array]",q="[object Int32Array]",H="[object Uint8Array]",j="[object Uint8ClampedArray]",V="[object Uint16Array]",nt="[object Uint32Array]",J=/[\\^$.*+?()[\]{}|]/g,gt=/^\[object .+?Constructor\]$/,mt=/^(?:0|[1-9]\d*)$/,at={};at[A]=at[F]=at[P]=at[O]=at[q]=at[H]=at[j]=at[V]=at[nt]=!0,at[l]=at[a]=at[C]=at[u]=at[$]=at[f]=at[d]=at[p]=at[b]=at[v]=at[N]=at[D]=at[Q]=at[tt]=at[ft]=!1;var xt=typeof Zn=="object"&&Zn&&Zn.Object===Object&&Zn,R=typeof self=="object"&&self&&self.Object===Object&&self,W=xt||R||Function("return this")(),K=t&&!t.nodeType&&t,X=K&&!0&&n&&!n.nodeType&&n,ut=X&&X.exports===K,y=ut&&xt.process,x=function(){try{return y&&y.binding&&y.binding("util")}catch{}}(),L=x&&x.isTypedArray;function k(h,m){for(var T=-1,B=h==null?0:h.length,vt=0,ht=[];++T<B;){var At=h[T];m(At,T,h)&&(ht[vt++]=At)}return ht}function z(h,m){for(var T=-1,B=m.length,vt=h.length;++T<B;)h[vt+T]=m[T];return h}function U(h,m){for(var T=-1,B=h==null?0:h.length;++T<B;)if(m(h[T],T,h))return!0;return!1}function et(h,m){for(var T=-1,B=Array(h);++T<h;)B[T]=m(T);return B}function Z(h){return function(m){return h(m)}}function Y(h,m){return h.has(m)}function G(h,m){return h==null?void 0:h[m]}function dt(h){var m=-1,T=Array(h.size);return h.forEach(function(B,vt){T[++m]=[vt,B]}),T}function st(h,m){return function(T){return h(m(T))}}function it(h){var m=-1,T=Array(h.size);return h.forEach(function(B){T[++m]=B}),T}var pt=Array.prototype,Ct=Function.prototype,Tt=Object.prototype,Et=W["__core-js_shared__"],Ft=Ct.toString,Ot=Tt.hasOwnProperty,oe=function(){var h=/[^.]+$/.exec(Et&&Et.keys&&Et.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""}(),le=Tt.toString,yn=RegExp("^"+Ft.call(Ot).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Hn=ut?W.Buffer:void 0,Pt=W.Symbol,ae=W.Uint8Array,wn=Tt.propertyIsEnumerable,hs=pt.splice,ke=Pt?Pt.toStringTag:void 0,Bs=Object.getOwnPropertySymbols,Tr=Hn?Hn.isBuffer:void 0,ds=st(Object.keys,Object),Nr=Cn(W,"DataView"),fs=Cn(W,"Map"),Ar=Cn(W,"Promise"),Sr=Cn(W,"Set"),Lr=Cn(W,"WeakMap"),Fn=Cn(Object,"create"),qi=ce(Nr),xn=ce(fs),al=ce(Ar),cl=ce(Sr),ul=ce(Lr),ki=Pt?Pt.prototype:void 0,Ir=ki?ki.valueOf:void 0;function Kt(h){var m=-1,T=h==null?0:h.length;for(this.clear();++m<T;){var B=h[m];this.set(B[0],B[1])}}function hl(){this.__data__=Fn?Fn(null):{},this.size=0}function dl(h){var m=this.has(h)&&delete this.__data__[h];return this.size-=m?1:0,m}function fl(h){var m=this.__data__;if(Fn){var T=m[h];return T===s?void 0:T}return Ot.call(m,h)?m[h]:void 0}function pl(h){var m=this.__data__;return Fn?m[h]!==void 0:Ot.call(m,h)}function gl(h,m){var T=this.__data__;return this.size+=this.has(h)?0:1,T[h]=Fn&&m===void 0?s:m,this}Kt.prototype.clear=hl,Kt.prototype.delete=dl,Kt.prototype.get=fl,Kt.prototype.has=pl,Kt.prototype.set=gl;function Yt(h){var m=-1,T=h==null?0:h.length;for(this.clear();++m<T;){var B=h[m];this.set(B[0],B[1])}}function ml(){this.__data__=[],this.size=0}function bl(h){var m=this.__data__,T=Ds(m,h);if(T<0)return!1;var B=m.length-1;return T==B?m.pop():hs.call(m,T,1),--this.size,!0}function vl(h){var m=this.__data__,T=Ds(m,h);return T<0?void 0:m[T][1]}function yl(h){return Ds(this.__data__,h)>-1}function wl(h,m){var T=this.__data__,B=Ds(T,h);return B<0?(++this.size,T.push([h,m])):T[B][1]=m,this}Yt.prototype.clear=ml,Yt.prototype.delete=bl,Yt.prototype.get=vl,Yt.prototype.has=yl,Yt.prototype.set=wl;function ge(h){var m=-1,T=h==null?0:h.length;for(this.clear();++m<T;){var B=h[m];this.set(B[0],B[1])}}function xl(){this.size=0,this.__data__={hash:new Kt,map:new(fs||Yt),string:new Kt}}function Cl(h){var m=Be(this,h).delete(h);return this.size-=m?1:0,m}function El(h){return Be(this,h).get(h)}function Tl(h){return Be(this,h).has(h)}function Nl(h,m){var T=Be(this,h),B=T.size;return T.set(h,m),this.size+=T.size==B?0:1,this}ge.prototype.clear=xl,ge.prototype.delete=Cl,ge.prototype.get=El,ge.prototype.has=Tl,ge.prototype.set=Nl;function $s(h){var m=-1,T=h==null?0:h.length;for(this.__data__=new ge;++m<T;)this.add(h[m])}function Bi(h){return this.__data__.set(h,s),this}function Ps(h){return this.__data__.has(h)}$s.prototype.add=$s.prototype.push=Bi,$s.prototype.has=Ps;function Je(h){var m=this.__data__=new Yt(h);this.size=m.size}function _r(){this.__data__=new Yt,this.size=0}function Al(h){var m=this.__data__,T=m.delete(h);return this.size=m.size,T}function Sl(h){return this.__data__.get(h)}function Ll(h){return this.__data__.has(h)}function Il(h,m){var T=this.__data__;if(T instanceof Yt){var B=T.__data__;if(!fs||B.length<e-1)return B.push([h,m]),this.size=++T.size,this;T=this.__data__=new ge(B)}return T.set(h,m),this.size=T.size,this}Je.prototype.clear=_r,Je.prototype.delete=Al,Je.prototype.get=Sl,Je.prototype.has=Ll,Je.prototype.set=Il;function _l(h,m){var T=js(h),B=!T&&Hi(h),vt=!T&&!B&&Hs(h),ht=!T&&!B&&!vt&&zi(h),At=T||B||vt||ht,Nt=At?et(h.length,String):[],Dt=Nt.length;for(var St in h)Ot.call(h,St)&&!(At&&(St=="length"||vt&&(St=="offset"||St=="parent")||ht&&(St=="buffer"||St=="byteLength"||St=="byteOffset")||Pl(St,Dt)))&&Nt.push(St);return Nt}function Ds(h,m){for(var T=h.length;T--;)if(ji(h[T][0],m))return T;return-1}function Or(h,m,T){var B=m(h);return js(h)?B:z(B,T(h))}function ps(h){return h==null?h===void 0?bt:E:ke&&ke in Object(h)?En(h):Di(h)}function $i(h){return en(h)&&ps(h)==l}function Pi(h,m,T,B,vt){return h===m?!0:h==null||m==null||!en(h)&&!en(m)?h!==h&&m!==m:Ol(h,m,T,B,Pi,vt)}function Ol(h,m,T,B,vt,ht){var At=js(h),Nt=js(m),Dt=At?a:tn(h),St=Nt?a:tn(m);Dt=Dt==l?N:Dt,St=St==l?N:St;var Zt=Dt==N,me=St==N,Ut=Dt==St;if(Ut&&Hs(h)){if(!Hs(m))return!1;At=!0,Zt=!1}if(Ut&&!Zt)return ht||(ht=new Je),At||zi(h)?Mr(h,m,T,B,vt,ht):kl(h,m,Dt,T,B,vt,ht);if(!(T&r)){var Qt=Zt&&Ot.call(h,"__wrapped__"),Gt=me&&Ot.call(m,"__wrapped__");if(Qt||Gt){var Un=Qt?h.value():h,Tn=Gt?m.value():m;return ht||(ht=new Je),vt(Un,Tn,T,B,ht)}}return Ut?(ht||(ht=new Je),Bl(h,m,T,B,vt,ht)):!1}function Ml(h){if(!Ui(h)||jl(h))return!1;var m=Fi(h)?yn:gt;return m.test(ce(h))}function Rl(h){return en(h)&&qr(h.length)&&!!at[ps(h)]}function ql(h){if(!Hl(h))return ds(h);var m=[];for(var T in Object(h))Ot.call(h,T)&&T!="constructor"&&m.push(T);return m}function Mr(h,m,T,B,vt,ht){var At=T&r,Nt=h.length,Dt=m.length;if(Nt!=Dt&&!(At&&Dt>Nt))return!1;var St=ht.get(h);if(St&&ht.get(m))return St==m;var Zt=-1,me=!0,Ut=T&i?new $s:void 0;for(ht.set(h,m),ht.set(m,h);++Zt<Nt;){var Qt=h[Zt],Gt=m[Zt];if(B)var Un=At?B(Gt,Qt,Zt,m,h,ht):B(Qt,Gt,Zt,h,m,ht);if(Un!==void 0){if(Un)continue;me=!1;break}if(Ut){if(!U(m,function(Tn,ms){if(!Y(Ut,ms)&&(Qt===Tn||vt(Qt,Tn,T,B,ht)))return Ut.push(ms)})){me=!1;break}}else if(!(Qt===Gt||vt(Qt,Gt,T,B,ht))){me=!1;break}}return ht.delete(h),ht.delete(m),me}function kl(h,m,T,B,vt,ht,At){switch(T){case $:if(h.byteLength!=m.byteLength||h.byteOffset!=m.byteOffset)return!1;h=h.buffer,m=m.buffer;case C:return!(h.byteLength!=m.byteLength||!ht(new ae(h),new ae(m)));case u:case f:case v:return ji(+h,+m);case d:return h.name==m.name&&h.message==m.message;case D:case tt:return h==m+"";case b:var Nt=dt;case Q:var Dt=B&r;if(Nt||(Nt=it),h.size!=m.size&&!Dt)return!1;var St=At.get(h);if(St)return St==m;B|=i,At.set(h,m);var Zt=Mr(Nt(h),Nt(m),B,vt,ht,At);return At.delete(h),Zt;case lt:if(Ir)return Ir.call(h)==Ir.call(m)}return!1}function Bl(h,m,T,B,vt,ht){var At=T&r,Nt=gs(h),Dt=Nt.length,St=gs(m),Zt=St.length;if(Dt!=Zt&&!At)return!1;for(var me=Dt;me--;){var Ut=Nt[me];if(!(At?Ut in m:Ot.call(m,Ut)))return!1}var Qt=ht.get(h);if(Qt&&ht.get(m))return Qt==m;var Gt=!0;ht.set(h,m),ht.set(m,h);for(var Un=At;++me<Dt;){Ut=Nt[me];var Tn=h[Ut],ms=m[Ut];if(B)var nu=At?B(ms,Tn,Ut,m,h,ht):B(Tn,ms,Ut,h,m,ht);if(!(nu===void 0?Tn===ms||vt(Tn,ms,T,B,ht):nu)){Gt=!1;break}Un||(Un=Ut=="constructor")}if(Gt&&!Un){var Wi=h.constructor,Vi=m.constructor;Wi!=Vi&&"constructor"in h&&"constructor"in m&&!(typeof Wi=="function"&&Wi instanceof Wi&&typeof Vi=="function"&&Vi instanceof Vi)&&(Gt=!1)}return ht.delete(h),ht.delete(m),Gt}function gs(h){return Or(h,kr,$l)}function Be(h,m){var T=h.__data__;return Dl(m)?T[typeof m=="string"?"string":"hash"]:T.map}function Cn(h,m){var T=G(h,m);return Ml(T)?T:void 0}function En(h){var m=Ot.call(h,ke),T=h[ke];try{h[ke]=void 0;var B=!0}catch{}var vt=le.call(h);return B&&(m?h[ke]=T:delete h[ke]),vt}var $l=Bs?function(h){return h==null?[]:(h=Object(h),k(Bs(h),function(m){return wn.call(h,m)}))}:Ul,tn=ps;(Nr&&tn(new Nr(new ArrayBuffer(1)))!=$||fs&&tn(new fs)!=b||Ar&&tn(Ar.resolve())!=S||Sr&&tn(new Sr)!=Q||Lr&&tn(new Lr)!=ft)&&(tn=function(h){var m=ps(h),T=m==N?h.constructor:void 0,B=T?ce(T):"";if(B)switch(B){case qi:return $;case xn:return b;case al:return S;case cl:return Q;case ul:return ft}return m});function Pl(h,m){return m=m??o,!!m&&(typeof h=="number"||mt.test(h))&&h>-1&&h%1==0&&h<m}function Dl(h){var m=typeof h;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?h!=="__proto__":h===null}function jl(h){return!!oe&&oe in h}function Hl(h){var m=h&&h.constructor,T=typeof m=="function"&&m.prototype||Tt;return h===T}function Di(h){return le.call(h)}function ce(h){if(h!=null){try{return Ft.call(h)}catch{}try{return h+""}catch{}}return""}function ji(h,m){return h===m||h!==h&&m!==m}var Hi=$i(function(){return arguments}())?$i:function(h){return en(h)&&Ot.call(h,"callee")&&!wn.call(h,"callee")},js=Array.isArray;function Rr(h){return h!=null&&qr(h.length)&&!Fi(h)}var Hs=Tr||zl;function Fl(h,m){return Pi(h,m)}function Fi(h){if(!Ui(h))return!1;var m=ps(h);return m==p||m==g||m==c||m==_}function qr(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=o}function Ui(h){var m=typeof h;return h!=null&&(m=="object"||m=="function")}function en(h){return h!=null&&typeof h=="object"}var zi=L?Z(L):Rl;function kr(h){return Rr(h)?_l(h):ql(h)}function Ul(){return[]}function zl(){return!1}n.exports=Fl}(zr,zr.exports)),zr.exports}var Qi={},Nh;function Cx(){if(Nh)return Qi;Nh=1,Object.defineProperty(Qi,"__esModule",{value:!0});const n=cp(),t=up();var e;return function(s){function r(a={},c={},u=!1){typeof a!="object"&&(a={}),typeof c!="object"&&(c={});let f=n(c);u||(f=Object.keys(f).reduce((d,p)=>(f[p]!=null&&(d[p]=f[p]),d),{}));for(const d in a)a[d]!==void 0&&c[d]===void 0&&(f[d]=a[d]);return Object.keys(f).length>0?f:void 0}s.compose=r;function i(a={},c={}){typeof a!="object"&&(a={}),typeof c!="object"&&(c={});const u=Object.keys(a).concat(Object.keys(c)).reduce((f,d)=>(t(a[d],c[d])||(f[d]=c[d]===void 0?null:c[d]),f),{});return Object.keys(u).length>0?u:void 0}s.diff=i;function o(a={},c={}){a=a||{};const u=Object.keys(c).reduce((f,d)=>(c[d]!==a[d]&&a[d]!==void 0&&(f[d]=c[d]),f),{});return Object.keys(a).reduce((f,d)=>(a[d]!==c[d]&&c[d]===void 0&&(f[d]=null),f),u)}s.invert=o;function l(a,c,u=!1){if(typeof a!="object")return c;if(typeof c!="object")return;if(!u)return c;const f=Object.keys(c).reduce((d,p)=>(a[p]===void 0&&(d[p]=c[p]),d),{});return Object.keys(f).length>0?f:void 0}s.transform=l}(e||(e={})),Qi.default=e,Qi}var Ji={},Ah;function hp(){if(Ah)return Ji;Ah=1,Object.defineProperty(Ji,"__esModule",{value:!0});var n;return function(t){function e(s){return typeof s.delete=="number"?s.delete:typeof s.retain=="number"?s.retain:typeof s.retain=="object"&&s.retain!==null?1:typeof s.insert=="string"?s.insert.length:1}t.length=e}(n||(n={})),Ji.default=n,Ji}var to={},Sh;function Ex(){if(Sh)return to;Sh=1,Object.defineProperty(to,"__esModule",{value:!0});const n=hp();class t{constructor(s){this.ops=s,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(s){s||(s=1/0);const r=this.ops[this.index];if(r){const i=this.offset,o=n.default.length(r);if(s>=o-i?(s=o-i,this.index+=1,this.offset=0):this.offset+=s,typeof r.delete=="number")return{delete:s};{const l={};return r.attributes&&(l.attributes=r.attributes),typeof r.retain=="number"?l.retain=s:typeof r.retain=="object"&&r.retain!==null?l.retain=r.retain:typeof r.insert=="string"?l.insert=r.insert.substr(i,s):l.insert=r.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const s=this.ops[this.index];return s?typeof s.delete=="number"?"delete":typeof s.retain=="number"||typeof s.retain=="object"&&s.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const s=this.offset,r=this.index,i=this.next(),o=this.ops.slice(this.index);return this.offset=s,this.index=r,[i].concat(o)}}else return[]}}return to.default=t,to}var Lh;function Tx(){return Lh||(Lh=1,function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const e=xx(),s=cp(),r=up(),i=Cx();t.AttributeMap=i.default;const o=hp();t.Op=o.default;const l=Ex();t.OpIterator=l.default;const a="\0",c=(f,d)=>{if(typeof f!="object"||f===null)throw new Error(`cannot retain a ${typeof f}`);if(typeof d!="object"||d===null)throw new Error(`cannot retain a ${typeof d}`);const p=Object.keys(f)[0];if(!p||p!==Object.keys(d)[0])throw new Error(`embed types not matched: ${p} != ${Object.keys(d)[0]}`);return[p,f[p],d[p]]};class u{constructor(d){Array.isArray(d)?this.ops=d:d!=null&&Array.isArray(d.ops)?this.ops=d.ops:this.ops=[]}static registerEmbed(d,p){this.handlers[d]=p}static unregisterEmbed(d){delete this.handlers[d]}static getHandler(d){const p=this.handlers[d];if(!p)throw new Error(`no handlers for embed type "${d}"`);return p}insert(d,p){const g={};return typeof d=="string"&&d.length===0?this:(g.insert=d,p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(g.attributes=p),this.push(g))}delete(d){return d<=0?this:this.push({delete:d})}retain(d,p){if(typeof d=="number"&&d<=0)return this;const g={retain:d};return p!=null&&typeof p=="object"&&Object.keys(p).length>0&&(g.attributes=p),this.push(g)}push(d){let p=this.ops.length,g=this.ops[p-1];if(d=s(d),typeof g=="object"){if(typeof d.delete=="number"&&typeof g.delete=="number")return this.ops[p-1]={delete:g.delete+d.delete},this;if(typeof g.delete=="number"&&d.insert!=null&&(p-=1,g=this.ops[p-1],typeof g!="object"))return this.ops.unshift(d),this;if(r(d.attributes,g.attributes)){if(typeof d.insert=="string"&&typeof g.insert=="string")return this.ops[p-1]={insert:g.insert+d.insert},typeof d.attributes=="object"&&(this.ops[p-1].attributes=d.attributes),this;if(typeof d.retain=="number"&&typeof g.retain=="number")return this.ops[p-1]={retain:g.retain+d.retain},typeof d.attributes=="object"&&(this.ops[p-1].attributes=d.attributes),this}}return p===this.ops.length?this.ops.push(d):this.ops.splice(p,0,d),this}chop(){const d=this.ops[this.ops.length-1];return d&&typeof d.retain=="number"&&!d.attributes&&this.ops.pop(),this}filter(d){return this.ops.filter(d)}forEach(d){this.ops.forEach(d)}map(d){return this.ops.map(d)}partition(d){const p=[],g=[];return this.forEach(b=>{(d(b)?p:g).push(b)}),[p,g]}reduce(d,p){return this.ops.reduce(d,p)}changeLength(){return this.reduce((d,p)=>p.insert?d+o.default.length(p):p.delete?d-p.delete:d,0)}length(){return this.reduce((d,p)=>d+o.default.length(p),0)}slice(d=0,p=1/0){const g=[],b=new l.default(this.ops);let v=0;for(;v<p&&b.hasNext();){let E;v<d?E=b.next(d-v):(E=b.next(p-v),g.push(E)),v+=o.default.length(E)}return new u(g)}compose(d){const p=new l.default(this.ops),g=new l.default(d.ops),b=[],v=g.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){let N=v.retain;for(;p.peekType()==="insert"&&p.peekLength()<=N;)N-=p.peekLength(),b.push(p.next());v.retain-N>0&&g.next(v.retain-N)}const E=new u(b);for(;p.hasNext()||g.hasNext();)if(g.peekType()==="insert")E.push(g.next());else if(p.peekType()==="delete")E.push(p.next());else{const N=Math.min(p.peekLength(),g.peekLength()),S=p.next(N),_=g.next(N);if(_.retain){const D={};if(typeof S.retain=="number")D.retain=typeof _.retain=="number"?N:_.retain;else if(typeof _.retain=="number")S.retain==null?D.insert=S.insert:D.retain=S.retain;else{const tt=S.retain==null?"insert":"retain",[lt,bt,ft]=c(S[tt],_.retain),C=u.getHandler(lt);D[tt]={[lt]:C.compose(bt,ft,tt==="retain")}}const Q=i.default.compose(S.attributes,_.attributes,typeof S.retain=="number");if(Q&&(D.attributes=Q),E.push(D),!g.hasNext()&&r(E.ops[E.ops.length-1],D)){const tt=new u(p.rest());return E.concat(tt).chop()}}else typeof _.delete=="number"&&(typeof S.retain=="number"||typeof S.retain=="object"&&S.retain!==null)&&E.push(_)}return E.chop()}concat(d){const p=new u(this.ops.slice());return d.ops.length>0&&(p.push(d.ops[0]),p.ops=p.ops.concat(d.ops.slice(1))),p}diff(d,p){if(this.ops===d.ops)return new u;const g=[this,d].map(S=>S.map(_=>{if(_.insert!=null)return typeof _.insert=="string"?_.insert:a;const D=S===d?"on":"with";throw new Error("diff() called "+D+" non-document")}).join("")),b=new u,v=e(g[0],g[1],p,!0),E=new l.default(this.ops),N=new l.default(d.ops);return v.forEach(S=>{let _=S[1].length;for(;_>0;){let D=0;switch(S[0]){case e.INSERT:D=Math.min(N.peekLength(),_),b.push(N.next(D));break;case e.DELETE:D=Math.min(_,E.peekLength()),E.next(D),b.delete(D);break;case e.EQUAL:D=Math.min(E.peekLength(),N.peekLength(),_);const Q=E.next(D),tt=N.next(D);r(Q.insert,tt.insert)?b.retain(D,i.default.diff(Q.attributes,tt.attributes)):b.push(tt).delete(D);break}_-=D}}),b.chop()}eachLine(d,p=`
`){const g=new l.default(this.ops);let b=new u,v=0;for(;g.hasNext();){if(g.peekType()!=="insert")return;const E=g.peek(),N=o.default.length(E)-g.peekLength(),S=typeof E.insert=="string"?E.insert.indexOf(p,N)-N:-1;if(S<0)b.push(g.next());else if(S>0)b.push(g.next(S));else{if(d(b,g.next(1).attributes||{},v)===!1)return;v+=1,b=new u}}b.length()>0&&d(b,{},v)}invert(d){const p=new u;return this.reduce((g,b)=>{if(b.insert)p.delete(o.default.length(b));else{if(typeof b.retain=="number"&&b.attributes==null)return p.retain(b.retain),g+b.retain;if(b.delete||typeof b.retain=="number"){const v=b.delete||b.retain;return d.slice(g,g+v).forEach(N=>{b.delete?p.push(N):b.retain&&b.attributes&&p.retain(o.default.length(N),i.default.invert(b.attributes,N.attributes))}),g+v}else if(typeof b.retain=="object"&&b.retain!==null){const v=d.slice(g,g+1),E=new l.default(v.ops).next(),[N,S,_]=c(b.retain,E.insert),D=u.getHandler(N);return p.retain({[N]:D.invert(S,_)},i.default.invert(b.attributes,E.attributes)),g+1}}return g},0),p.chop()}transform(d,p=!1){if(p=!!p,typeof d=="number")return this.transformPosition(d,p);const g=d,b=new l.default(this.ops),v=new l.default(g.ops),E=new u;for(;b.hasNext()||v.hasNext();)if(b.peekType()==="insert"&&(p||v.peekType()!=="insert"))E.retain(o.default.length(b.next()));else if(v.peekType()==="insert")E.push(v.next());else{const N=Math.min(b.peekLength(),v.peekLength()),S=b.next(N),_=v.next(N);if(S.delete)continue;if(_.delete)E.push(_);else{const D=S.retain,Q=_.retain;let tt=typeof Q=="object"&&Q!==null?Q:N;if(typeof D=="object"&&D!==null&&typeof Q=="object"&&Q!==null){const lt=Object.keys(D)[0];if(lt===Object.keys(Q)[0]){const bt=u.getHandler(lt);bt&&(tt={[lt]:bt.transform(D[lt],Q[lt],p)})}}E.retain(tt,i.default.transform(S.attributes,_.attributes,p))}}return E.chop()}transformPosition(d,p=!1){p=!!p;const g=new l.default(this.ops);let b=0;for(;g.hasNext()&&b<=d;){const v=g.peekLength(),E=g.peekType();if(g.next(),E==="delete"){d-=Math.min(v,d-b);continue}else E==="insert"&&(b<d||!p)&&(d+=v);b+=v}return d}}u.Op=o.default,u.OpIterator=l.default,u.AttributeMap=i.default,u.handlers={},t.default=u,n.exports=u,n.exports.default=u}(Zi,Zi.exports)),Zi.exports}var Re=Tx();const ot=ap(Re);class Ze extends Ne{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Ze.blotName="break";Ze.tagName="BR";let Xe=class extends Io{};const Nx={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function sl(n){return n.replace(/[&<>"']/g,t=>Nx[t])}const rn=class rn extends jc{static compare(t,e){const s=rn.order.indexOf(t),r=rn.order.indexOf(e);return s>=0||r>=0?s-r:t===e?0:t<e?-1:1}formatAt(t,e,s,r){if(rn.compare(this.statics.blotName,s)<0&&this.scroll.query(s,ct.BLOT)){const i=this.isolate(t,e);r&&i.wrap(s,r)}else super.formatAt(t,e,s,r)}optimize(t){if(super.optimize(t),this.parent instanceof rn&&rn.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}};w(rn,"allowedChildren",[rn,Ze,Ne,Xe]),w(rn,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let gn=rn;const Ih=1;class Xt extends yi{constructor(){super(...arguments);w(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=dp(this)),this.cache.delta}deleteAt(e,s){super.deleteAt(e,s),this.cache={}}formatAt(e,s,r,i){s<=0||(this.scroll.query(r,ct.BLOCK)?e+s===this.length()&&this.format(r,i):super.formatAt(e,Math.min(s,this.length()-e-1),r,i),this.cache={})}insertAt(e,s,r){if(r!=null){super.insertAt(e,s,r),this.cache={};return}if(s.length===0)return;const i=s.split(`
`),o=i.shift();o.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let l=this;i.reduce((a,c)=>(l=l.split(a,!0),l.insertAt(0,c),c.length),e+o.length)}insertBefore(e,s){const{head:r}=this.children;super.insertBefore(e,s),r instanceof Ze&&r.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+Ih),this.cache.length}moveChildren(e,s){super.moveChildren(e,s),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(s&&(e===0||e>=this.length()-Ih)){const i=this.clone();return e===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const r=super.split(e,s);return this.cache={},r}}Xt.blotName="block";Xt.tagName="P";Xt.defaultChild=Ze;Xt.allowedChildren=[Ze,gn,Ne,Xe];class Oe extends Ne{attach(){super.attach(),this.attributes=new el(this.domNode)}delta(){return new ot().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){const s=this.scroll.query(t,ct.BLOCK_ATTRIBUTE);s!=null&&this.attributes.attribute(s,e)}formatAt(t,e,s,r){this.format(s,r)}insertAt(t,e,s){if(s!=null){super.insertAt(t,e,s);return}const r=e.split(`
`),i=r.pop(),o=r.map(a=>{const c=this.scroll.create(Xt.blotName);return c.insertAt(0,a),c}),l=this.split(t);o.forEach(a=>{this.parent.insertBefore(a,l)}),i&&this.parent.insertBefore(this.scroll.create("text",i),l)}}Oe.scope=ct.BLOCK_BLOT;function dp(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(ne).reduce((e,s)=>s.length()===0?e:e.insert(s.value(),Le(s,{},t)),new ot).insert(`
`,Le(n))}function Le(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(t={...t,...n.formats()},e&&delete t["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?t:Le(n.parent,t,e)}const Ae=class Ae extends Ne{static value(){}constructor(t,e,s){super(t,e),this.selection=s,this.textNode=document.createTextNode(Ae.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,e){if(this.savedLength!==0){super.format(t,e);return}let s=this,r=0;for(;s!=null&&s.statics.scope!==ct.BLOCK_BLOT;)r+=s.offset(s.parent),s=s.parent;s!=null&&(this.savedLength=Ae.CONTENTS.length,s.optimize(),s.formatAt(r,Ae.CONTENTS.length,t,e),this.savedLength=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const e=this.prev instanceof Xe?this.prev:null,s=e?e.length():0,r=this.next instanceof Xe?this.next:null,i=r?r.text:"",{textNode:o}=this,l=o.data.split(Ae.CONTENTS).join("");o.data=Ae.CONTENTS;let a;if(e)a=e,(l||r)&&(e.insertAt(e.length(),l+i),r&&r.remove());else if(r)a=r,r.insertAt(0,l);else{const c=document.createTextNode(l);a=this.scroll.create(c),this.parent.insertBefore(a,this)}if(this.remove(),t){const c=(d,p)=>e&&d===e.domNode?p:d===o?s+p-1:r&&d===r.domNode?s+l.length+p:null,u=c(t.start.node,t.start.offset),f=c(t.end.node,t.end.offset);if(u!==null&&f!==null)return{startNode:a.domNode,startOffset:u,endNode:a.domNode,endOffset:f}}return null}update(t,e){if(t.some(s=>s.type==="characterData"&&s.target===this.textNode)){const s=this.restore();s&&(e.range=s)}}optimize(t){super.optimize(t);let{parent:e}=this;for(;e;){if(e.domNode.tagName==="A"){this.savedLength=Ae.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}value(){return""}};w(Ae,"blotName","cursor"),w(Ae,"className","ql-cursor"),w(Ae,"tagName","span"),w(Ae,"CONTENTS","\uFEFF");let br=Ae;var ca={exports:{}},_h;function Ax(){return _h||(_h=1,function(n){var t=Object.prototype.hasOwnProperty,e="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(e=!1));function r(a,c,u){this.fn=a,this.context=c,this.once=u||!1}function i(a,c,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new r(u,f||a,d),g=e?e+c:c;return a._events[g]?a._events[g].fn?a._events[g]=[a._events[g],p]:a._events[g].push(p):(a._events[g]=p,a._eventsCount++),a}function o(a,c){--a._eventsCount===0?a._events=new s:delete a._events[c]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(e?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},l.prototype.listeners=function(c){var u=e?e+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,g=new Array(p);d<p;d++)g[d]=f[d].fn;return g},l.prototype.listenerCount=function(c){var u=e?e+c:c,f=this._events[u];return f?f.fn?1:f.length:0},l.prototype.emit=function(c,u,f,d,p,g){var b=e?e+c:c;if(!this._events[b])return!1;var v=this._events[b],E=arguments.length,N,S;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),E){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,d),!0;case 5:return v.fn.call(v.context,u,f,d,p),!0;case 6:return v.fn.call(v.context,u,f,d,p,g),!0}for(S=1,N=new Array(E-1);S<E;S++)N[S-1]=arguments[S];v.fn.apply(v.context,N)}else{var _=v.length,D;for(S=0;S<_;S++)switch(v[S].once&&this.removeListener(c,v[S].fn,void 0,!0),E){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,u);break;case 3:v[S].fn.call(v[S].context,u,f);break;case 4:v[S].fn.call(v[S].context,u,f,d);break;default:if(!N)for(D=1,N=new Array(E-1);D<E;D++)N[D-1]=arguments[D];v[S].fn.apply(v[S].context,N)}}return!0},l.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},l.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},l.prototype.removeListener=function(c,u,f,d){var p=e?e+c:c;if(!this._events[p])return this;if(!u)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===u&&(!d||g.once)&&(!f||g.context===f)&&o(this,p);else{for(var b=0,v=[],E=g.length;b<E;b++)(g[b].fn!==u||d&&!g[b].once||f&&g[b].context!==f)&&v.push(g[b]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(c){var u;return c?(u=e?e+c:c,this._events[u]&&o(this,u)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=e,l.EventEmitter=l,n.exports=l}(ca)),ca.exports}var Sx=Ax();const Lx=ap(Sx),Ya=new WeakMap,Za=["error","warn","log","info"];let Qa="warn";function fp(n){if(Qa&&Za.indexOf(n)<=Za.indexOf(Qa)){for(var t=arguments.length,e=new Array(t>1?t-1:0),s=1;s<t;s++)e[s-1]=arguments[s];console[n](...e)}}function jn(n){return Za.reduce((t,e)=>(t[e]=fp.bind(console,e,n),t),{})}jn.level=n=>{Qa=n};fp.level=jn.level;const ua=jn("quill:events"),Ix=["selectionchange","mousedown","mouseup","click"];Ix.forEach(n=>{document.addEventListener(n,function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];Array.from(document.querySelectorAll(".ql-container")).forEach(r=>{const i=Ya.get(r);i&&i.emitter&&i.emitter.handleDOM(...e)})})});class rt extends Lx{constructor(){super(),this.domListeners={},this.on("error",ua.error)}emit(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return ua.log.call(ua,...e),super.emit(...e)}handleDOM(t){for(var e=arguments.length,s=new Array(e>1?e-1:0),r=1;r<e;r++)s[r-1]=arguments[r];(this.domListeners[t.type]||[]).forEach(i=>{let{node:o,handler:l}=i;(t.target===o||o.contains(t.target))&&l(t,...s)})}listenDOM(t,e,s){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:s})}}w(rt,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),w(rt,"sources",{API:"api",SILENT:"silent",USER:"user"});const ha=jn("quill:selection");class As{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=e}}class _x{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new As(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,rt.sources.USER),1)}),this.emitter.on(rt.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const s=this.getNativeRange();s!=null&&s.start.node!==this.cursor.textNode&&this.emitter.once(rt.events.SCROLL_UPDATE,(r,i)=>{try{this.root.contains(s.start.node)&&this.root.contains(s.end.node)&&this.setNativeRange(s.start.node,s.start.offset,s.end.node,s.end.offset);const o=i.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(o?rt.sources.SILENT:r)}catch{}})}),this.emitter.on(rt.events.SCROLL_OPTIMIZE,(s,r)=>{if(r.range){const{startNode:i,startOffset:o,endNode:l,endOffset:a}=r.range;this.setNativeRange(i,o,l,a),this.update(rt.sources.SILENT)}}),this.update(rt.sources.SILENT)}handleComposition(){this.emitter.on(rt.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(rt.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(rt.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,e){this.scroll.update();const s=this.getNativeRange();if(!(s==null||!s.native.collapsed||this.scroll.query(t,ct.BLOCK))){if(s.start.node!==this.cursor.textNode){const r=this.scroll.find(s.start.node,!1);if(r==null)return;if(r instanceof ne){const i=r.split(s.start.offset);r.parent.insertBefore(this.cursor,i)}else r.insertBefore(this.cursor,s.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const s=this.scroll.length();t=Math.min(t,s-1),e=Math.min(t+e,s-1)-t;let r,[i,o]=this.scroll.leaf(t);if(i==null)return null;if(e>0&&o===i.length()){const[u]=this.scroll.leaf(t+1);if(u){const[f]=this.scroll.line(t),[d]=this.scroll.line(t+1);f===d&&(i=u,o=0)}}[r,o]=i.position(o,!0);const l=document.createRange();if(e>0)return l.setStart(r,o),[i,o]=this.scroll.leaf(t+e),i==null?null:([r,o]=i.position(o,!0),l.setEnd(r,o),l.getBoundingClientRect());let a="left",c;if(r instanceof Text){if(!r.data.length)return null;o<r.data.length?(l.setStart(r,o),l.setEnd(r,o+1)):(l.setStart(r,o-1),l.setEnd(r,o),a="right"),c=l.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;c=i.domNode.getBoundingClientRect(),o>0&&(a="right")}return{bottom:c.top+c.height,height:c.height,left:c[a],right:c[a],top:c.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(e==null)return null;const s=this.normalizeNative(e);return ha.info("getNativeRange",s),s}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const e=this.getNativeRange();return e==null?[null,null]:[this.normalizedToRange(e),e]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&da(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);const s=e.map(o=>{const[l,a]=o,c=this.scroll.find(l,!0),u=c.offset(this.scroll);return a===0?u:c instanceof ne?u+c.index(l,a):u+c.length()}),r=Math.min(Math.max(...s),this.scroll.length()-1),i=Math.min(r,...s);return new As(i,r-i)}normalizeNative(t){if(!da(this.root,t.startContainer)||!t.collapsed&&!da(this.root,t.endContainer))return null;const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(s=>{let{node:r,offset:i}=s;for(;!(r instanceof Text)&&r.childNodes.length>0;)if(r.childNodes.length>i)r=r.childNodes[i],i=0;else if(r.childNodes.length===i)r=r.lastChild,r instanceof Text?i=r.data.length:r.childNodes.length>0?i=r.childNodes.length:i=r.childNodes.length+1;else break;s.node=r,s.offset=i}),e}rangeToNative(t){const e=this.scroll.length(),s=(r,i)=>{r=Math.min(e-1,r);const[o,l]=this.scroll.leaf(r);return o?o.position(l,i):[null,-1]};return[...s(t.index,!1),...s(t.index+t.length,!0)]}setNativeRange(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(ha.info("setNativeRange",t,e,s,r),t!=null&&(this.root.parentNode==null||t.parentNode==null||s.parentNode==null))return;const o=document.getSelection();if(o!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||i||t!==l.startContainer||e!==l.startOffset||s!==l.endContainer||r!==l.endOffset){t instanceof Element&&t.tagName==="BR"&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),s instanceof Element&&s.tagName==="BR"&&(r=Array.from(s.parentNode.childNodes).indexOf(s),s=s.parentNode);const a=document.createRange();a.setStart(t,e),a.setEnd(s,r),o.removeAllRanges(),o.addRange(a)}}else o.removeAllRanges(),this.root.blur()}setRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rt.sources.API;if(typeof e=="string"&&(s=e,e=!1),ha.info("setRange",t),t!=null){const r=this.rangeToNative(t);this.setNativeRange(...r,e)}else this.setNativeRange(null);this.update(s)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:rt.sources.USER;const e=this.lastRange,[s,r]=this.getRange();if(this.lastRange=s,this.lastNative=r,this.lastRange!=null&&(this.savedRange=this.lastRange),!Dc(e,this.lastRange)){if(!this.composing&&r!=null&&r.native.collapsed&&r.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const i=[rt.events.SELECTION_CHANGE,rr(this.lastRange),rr(e),t];this.emitter.emit(rt.events.EDITOR_CHANGE,...i),t!==rt.sources.SILENT&&this.emitter.emit(...i)}}}function da(n,t){try{t.parentNode}catch{return!1}return n.contains(t)}const Ox=/^[ -~]*$/;class Mx{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const s=Oh(t),r=new ot;return qx(s.ops.slice()).reduce((o,l)=>{const a=Re.Op.length(l);let c=l.attributes||{},u=!1,f=!1;if(l.insert!=null){if(r.retain(a),typeof l.insert=="string"){const g=l.insert;f=!g.endsWith(`
`)&&(e<=o||!!this.scroll.descendant(Oe,o)[0]),this.scroll.insertAt(o,g);const[b,v]=this.scroll.line(o);let E=rs({},Le(b));if(b instanceof Xt){const[N]=b.descendant(ne,v);N&&(E=rs(E,Le(N)))}c=Re.AttributeMap.diff(E,c)||{}}else if(typeof l.insert=="object"){const g=Object.keys(l.insert)[0];if(g==null)return o;const b=this.scroll.query(g,ct.INLINE)!=null;if(b)(e<=o||this.scroll.descendant(Oe,o)[0])&&(f=!0);else if(o>0){const[v,E]=this.scroll.descendant(ne,o-1);v instanceof Xe?v.value()[E]!==`
`&&(u=!0):v instanceof Ne&&v.statics.scope===ct.INLINE_BLOT&&(u=!0)}if(this.scroll.insertAt(o,g,l.insert[g]),b){const[v]=this.scroll.descendant(ne,o);if(v){const E=rs({},Le(v));c=Re.AttributeMap.diff(E,c)||{}}}}e+=a}else if(r.push(l),l.retain!==null&&typeof l.retain=="object"){const g=Object.keys(l.retain)[0];if(g==null)return o;this.scroll.updateEmbedAt(o,g,l.retain[g])}Object.keys(c).forEach(g=>{this.scroll.formatAt(o,a,g,c[g])});const d=u?1:0,p=f?1:0;return e+=d+p,r.retain(d),r.delete(p),o+a+d+p},0),r.reduce((o,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(o,l.delete),o):o+Re.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(s)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update(new ot().retain(t).delete(e))}formatLine(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(s).forEach(i=>{this.scroll.lines(t,Math.max(e,1)).forEach(o=>{o.format(i,s[i])})}),this.scroll.optimize();const r=new ot().retain(t).retain(e,rr(s));return this.update(r)}formatText(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(s).forEach(i=>{this.scroll.formatAt(t,e,i,s[i])});const r=new ot().retain(t).retain(e,rr(s));return this.update(r)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce((t,e)=>t.concat(e.delta()),new ot)}getFormat(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=[],r=[];e===0?this.scroll.path(t).forEach(l=>{const[a]=l;a instanceof Xt?s.push(a):a instanceof ne&&r.push(a)}):(s=this.scroll.lines(t,e),r=this.scroll.descendants(ne,t,e));const[i,o]=[s,r].map(l=>{const a=l.shift();if(a==null)return{};let c=Le(a);for(;Object.keys(c).length>0;){const u=l.shift();if(u==null)return c;c=Rx(Le(u),c)}return c});return{...i,...o}}getHTML(t,e){const[s,r]=this.scroll.line(t);if(s){const i=s.length();return s.length()>=r+e&&!(r===0&&e===i)?wi(s,r,e,!0):wi(this.scroll,t,e,!0)}return""}getText(t,e){return this.getContents(t,e).filter(s=>typeof s.insert=="string").map(s=>s.insert).join("")}insertContents(t,e){const s=Oh(e),r=new ot().retain(t).concat(s);return this.scroll.insertContents(t,s),this.update(r)}insertEmbed(t,e,s){return this.scroll.insertAt(t,e,s),this.update(new ot().retain(t).insert({[e]:s}))}insertText(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,e),Object.keys(s).forEach(r=>{this.scroll.formatAt(t,e.length,r,s[r])}),this.update(new ot().retain(t).insert(e,rr(s)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==Xt.blotName)return!1;const e=t;return e.children.length>1?!1:e.children.head instanceof Ze}removeFormat(t,e){const s=this.getText(t,e),[r,i]=this.scroll.line(t+e);let o=0,l=new ot;r!=null&&(o=r.length()-i,l=r.delta().slice(i,i+o-1).insert(`
`));const c=this.getContents(t,e+o).diff(new ot().insert(s).concat(l)),u=new ot().retain(t).concat(c);return this.applyDelta(u)}update(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const r=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(Ox)&&this.scroll.find(e[0].target)){const i=this.scroll.find(e[0].target),o=Le(i),l=i.offset(this.scroll),a=e[0].oldValue.replace(br.CONTENTS,""),c=new ot().insert(a),u=new ot().insert(i.value()),f=s&&{oldRange:Mh(s.oldRange,-l),newRange:Mh(s.newRange,-l)};t=new ot().retain(l).concat(c.diff(u,f)).reduce((p,g)=>g.insert?p.insert(g.insert,o):p.push(g),new ot),this.delta=r.compose(t)}else this.delta=this.getDelta(),(!t||!Dc(r.compose(t),this.delta))&&(t=r.diff(this.delta,s));return t}}function Zs(n,t,e){if(n.length===0){const[p]=fa(e.pop());return t<=0?`</li></${p}>`:`</li></${p}>${Zs([],t-1,e)}`}const[{child:s,offset:r,length:i,indent:o,type:l},...a]=n,[c,u]=fa(l);if(o>t)return e.push(l),o===t+1?`<${c}><li${u}>${wi(s,r,i)}${Zs(a,o,e)}`:`<${c}><li>${Zs(n,t+1,e)}`;const f=e[e.length-1];if(o===t&&l===f)return`</li><li${u}>${wi(s,r,i)}${Zs(a,o,e)}`;const[d]=fa(e.pop());return`</li></${d}>${Zs(n,t-1,e)}`}function wi(n,t,e){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(t,e);if(n instanceof Xe)return sl(n.value().slice(t,t+e)).replaceAll(" ","&nbsp;");if(n instanceof We){if(n.statics.blotName==="list-container"){const c=[];return n.children.forEachAt(t,e,(u,f,d)=>{const p="formats"in u&&typeof u.formats=="function"?u.formats():{};c.push({child:u,offset:f,length:d,indent:p.indent||0,type:p.list})}),Zs(c,-1,[])}const r=[];if(n.children.forEachAt(t,e,(c,u,f)=>{r.push(wi(c,u,f))}),s||n.statics.blotName==="list")return r.join("");const{outerHTML:i,innerHTML:o}=n.domNode,[l,a]=i.split(`>${o}<`);return l==="<table"?`<table style="border: 1px solid #000;">${r.join("")}<${a}`:`${l}>${r.join("")}<${a}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function Rx(n,t){return Object.keys(t).reduce((e,s)=>{if(n[s]==null)return e;const r=t[s];return r===n[s]?e[s]=r:Array.isArray(r)?r.indexOf(n[s])<0?e[s]=r.concat([n[s]]):e[s]=r:e[s]=[r,n[s]],e},{})}function fa(n){const t=n==="ordered"?"ol":"ul";switch(n){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function Oh(n){return n.reduce((t,e)=>{if(typeof e.insert=="string"){const s=e.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(s,e.attributes)}return t.push(e)},new ot)}function Mh(n,t){let{index:e,length:s}=n;return new As(e+t,s)}function qx(n){const t=[];return n.forEach(e=>{typeof e.insert=="string"?e.insert.split(`
`).forEach((r,i)=>{i&&t.push({insert:`
`,attributes:e.attributes}),r&&t.push({insert:r,attributes:e.attributes})}):t.push(e)}),t}class Qe{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=e}}w(Qe,"DEFAULTS",{});const eo="\uFEFF";class Fc extends Ne{constructor(t,e){super(t,e),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(s=>{this.contentNode.appendChild(s)}),this.leftGuard=document.createTextNode(eo),this.rightGuard=document.createTextNode(eo),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e=null,s;const r=t.data.split(eo).join("");if(t===this.leftGuard)if(this.prev instanceof Xe){const i=this.prev.length();this.prev.insertAt(i,r),e={startNode:this.prev.domNode,startOffset:i+r.length}}else s=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(s),this),e={startNode:s,startOffset:r.length};else t===this.rightGuard&&(this.next instanceof Xe?(this.next.insertAt(0,r),e={startNode:this.next.domNode,startOffset:r.length}):(s=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(s),this.next),e={startNode:s,startOffset:r.length}));return t.data=eo,e}update(t,e){t.forEach(s=>{if(s.type==="characterData"&&(s.target===this.leftGuard||s.target===this.rightGuard)){const r=this.restore(s.target);r&&(e.range=r)}})}}class kx{constructor(t,e){w(this,"isComposing",!1);this.scroll=t,this.emitter=e,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,!0):null;e&&!(e instanceof Fc)&&(this.emitter.emit(rt.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(rt.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(rt.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(rt.events.COMPOSITION_END,t),this.isComposing=!1}}const oi=class oi{constructor(t,e){w(this,"modules",{});this.quill=t,this.options=e}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}};w(oi,"DEFAULTS",{modules:{}}),w(oi,"themes",{default:oi});let vr=oi;const Bx=n=>n.parentElement||n.getRootNode().host||null,$x=n=>{const t=n.getBoundingClientRect(),e="offsetWidth"in n&&Math.abs(t.width)/n.offsetWidth||1,s="offsetHeight"in n&&Math.abs(t.height)/n.offsetHeight||1;return{top:t.top,right:t.left+n.clientWidth*e,bottom:t.top+n.clientHeight*s,left:t.left}},no=n=>{const t=parseInt(n,10);return Number.isNaN(t)?0:t},Rh=(n,t,e,s,r,i)=>n<e&&t>s?0:n<e?-(e-n+r):t>s?t-n>s-e?n+r-e:t-s+i:0,Px=(n,t)=>{var i,o,l;const e=n.ownerDocument;let s=t,r=n;for(;r;){const a=r===e.body,c=a?{top:0,right:((i=window.visualViewport)==null?void 0:i.width)??e.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??e.documentElement.clientHeight,left:0}:$x(r),u=getComputedStyle(r),f=Rh(s.left,s.right,c.left,c.right,no(u.scrollPaddingLeft),no(u.scrollPaddingRight)),d=Rh(s.top,s.bottom,c.top,c.bottom,no(u.scrollPaddingTop),no(u.scrollPaddingBottom));if(f||d)if(a)(l=e.defaultView)==null||l.scrollBy(f,d);else{const{scrollLeft:p,scrollTop:g}=r;d&&(r.scrollTop+=d),f&&(r.scrollLeft+=f);const b=r.scrollLeft-p,v=r.scrollTop-g;s={left:s.left-b,top:s.top-v,right:s.right-b,bottom:s.bottom-v}}r=a||u.position==="fixed"?null:Bx(r)}},Dx=100,jx=["block","break","cursor","inline","scroll","text"],Hx=(n,t,e)=>{const s=new mr;return jx.forEach(r=>{const i=t.query(r);i&&s.register(i)}),n.forEach(r=>{let i=t.query(r);i||e.error(`Cannot register "${r}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;i;)if(s.register(i),i="blotName"in i?i.requiredContainer??null:null,o+=1,o>Dx){e.error(`Cycle detected in registering blot requiredContainer: "${r}"`);break}}),s},or=jn("quill"),so=new mr;We.uiClass="ql-ui";const Pe=class Pe{static debug(t){t===!0&&(t="log"),jn.level(t)}static find(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Ya.get(t)||so.find(t,e)}static import(t){return this.imports[t]==null&&or.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const t=arguments.length<=0?void 0:arguments[0],e=!!(!(arguments.length<=1)&&arguments[1]),s="attrName"in t?t.attrName:t.blotName;typeof s=="string"?this.register(`formats/${s}`,t,e):Object.keys(t).forEach(r=>{this.register(r,t[r],e)})}else{const t=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],s=!!(!(arguments.length<=2)&&arguments[2]);this.imports[t]!=null&&!s&&or.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&e&&typeof e!="boolean"&&e.blotName!=="abstract"&&so.register(e),typeof e.register=="function"&&e.register(so)}}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=Fx(t,e),this.container=this.options.container,this.container==null){or.error("Invalid Quill container",t);return}this.options.debug&&Pe.debug(this.options.debug);const s=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Ya.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new rt;const r=Hc.blotName,i=this.options.registry.query(r);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${r}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new Mx(this.scroll),this.selection=new _x(this.scroll,this.emitter),this.composition=new kx(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(rt.events.EDITOR_CHANGE,o=>{o===rt.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(rt.events.SCROLL_UPDATE,(o,l)=>{const a=this.selection.lastRange,[c]=this.selection.getRange(),u=a&&c?{oldRange:a,newRange:c}:void 0;$e.call(this,()=>this.editor.update(null,l,u),o)}),this.emitter.on(rt.events.SCROLL_EMBED_UPDATE,(o,l)=>{const a=this.selection.lastRange,[c]=this.selection.getRange(),u=a&&c?{oldRange:a,newRange:c}:void 0;$e.call(this,()=>{const f=new ot().retain(o.offset(this)).retain({[o.statics.blotName]:l});return this.editor.update(f,[],u)},Pe.sources.USER)}),s){const o=this.clipboard.convert({html:`${s}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const s=t;t=document.createElement("div"),t.classList.add(s)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,s){return[t,e,,s]=Sn(t,e,s),$e.call(this,()=>this.editor.deleteText(t,e),s,t,-1*e)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const e=t();return this.allowReadOnlyEdits=!1,e}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rt.sources.API;return $e.call(this,()=>{const r=this.getSelection(!0);let i=new ot;if(r==null)return i;if(this.scroll.query(t,ct.BLOCK))i=this.editor.formatLine(r.index,r.length,{[t]:e});else{if(r.length===0)return this.selection.format(t,e),i;i=this.editor.formatText(r.index,r.length,{[t]:e})}return this.setSelection(r,rt.sources.SILENT),i},s)}formatLine(t,e,s,r,i){let o;return[t,e,o,i]=Sn(t,e,s,r,i),$e.call(this,()=>this.editor.formatLine(t,e,o),i,t,0)}formatText(t,e,s,r,i){let o;return[t,e,o,i]=Sn(t,e,s,r,i),$e.call(this,()=>this.editor.formatText(t,e,o),i,t,0)}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=null;if(typeof t=="number"?s=this.selection.getBounds(t,e):s=this.selection.getBounds(t.index,t.length),!s)return null;const r=this.container.getBoundingClientRect();return{bottom:s.bottom-r.top,height:s.height,left:s.left-r.left,right:s.right-r.left,top:s.top-r.top,width:s.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,e]=Sn(t,e),this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=Sn(t,e),this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=Sn(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,s){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Pe.sources.API;return $e.call(this,()=>this.editor.insertEmbed(t,e,s),r,t)}insertText(t,e,s,r,i){let o;return[t,,o,i]=Sn(t,0,s,r,i),$e.call(this,()=>this.editor.insertText(t,e,o),i,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(t,e,s){return[t,e,,s]=Sn(t,e,s),$e.call(this,()=>this.editor.removeFormat(t,e),s,t)}scrollRectIntoView(t){Px(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}setContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rt.sources.API;return $e.call(this,()=>{t=new ot(t);const s=this.getLength(),r=this.editor.deleteText(0,s),i=this.editor.insertContents(0,t),o=this.editor.deleteText(this.getLength()-1,1);return r.compose(i).compose(o)},e)}setSelection(t,e,s){t==null?this.selection.setRange(null,e||Pe.sources.API):([t,e,,s]=Sn(t,e,s),this.selection.setRange(new As(Math.max(0,t),e),s),s!==rt.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rt.sources.API;const s=new ot().insert(t);return this.setContents(s,e)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:rt.sources.USER;const e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rt.sources.API;return $e.call(this,()=>(t=new ot(t),this.editor.applyDelta(t)),e,!0)}};w(Pe,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:so,theme:"default"}),w(Pe,"events",rt.events),w(Pe,"sources",rt.sources),w(Pe,"version","2.0.3"),w(Pe,"imports",{delta:ot,parchment:wx,"core/module":Qe,"core/theme":vr});let I=Pe;function qh(n){return typeof n=="string"?document.querySelector(n):n}function pa(n){return Object.entries(n??{}).reduce((t,e)=>{let[s,r]=e;return{...t,[s]:r===!0?{}:r}},{})}function kh(n){return Object.fromEntries(Object.entries(n).filter(t=>t[1]!==void 0))}function Fx(n,t){const e=qh(n);if(!e)throw new Error("Invalid Quill container");const r=!t.theme||t.theme===I.DEFAULTS.theme?vr:I.import(`themes/${t.theme}`);if(!r)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:i,...o}=I.DEFAULTS,{modules:l,...a}=r.DEFAULTS;let c=pa(t.modules);c!=null&&c.toolbar&&c.toolbar.constructor!==Object&&(c={...c,toolbar:{container:c.toolbar}});const u=rs({},pa(i),pa(l),c),f={...o,...kh(a),...kh(t)};let d=t.registry;return d?t.formats&&or.warn('Ignoring "formats" option because "registry" is specified'):d=t.formats?Hx(t.formats,f.registry,or):f.registry,{...f,registry:d,container:e,theme:r,modules:Object.entries(u).reduce((p,g)=>{let[b,v]=g;if(!v)return p;const E=I.import(`modules/${b}`);return E==null?(or.error(`Cannot load ${b} module. Are you sure you registered it?`),p):{...p,[b]:rs({},E.DEFAULTS||{},v)}},{}),bounds:qh(f.bounds)}}function $e(n,t,e,s){if(!this.isEnabled()&&t===rt.sources.USER&&!this.allowReadOnlyEdits)return new ot;let r=e==null?null:this.getSelection();const i=this.editor.delta,o=n();if(r!=null&&(e===!0&&(e=r.index),s==null?r=Bh(r,o,t):s!==0&&(r=Bh(r,e,s,t)),this.setSelection(r,rt.sources.SILENT)),o.length()>0){const l=[rt.events.TEXT_CHANGE,o,i,t];this.emitter.emit(rt.events.EDITOR_CHANGE,...l),t!==rt.sources.SILENT&&this.emitter.emit(...l)}return o}function Sn(n,t,e,s,r){let i={};return typeof n.index=="number"&&typeof n.length=="number"?typeof t!="number"?(r=s,s=e,e=t,t=n.length,n=n.index):(t=n.length,n=n.index):typeof t!="number"&&(r=s,s=e,e=t,t=0),typeof e=="object"?(i=e,r=s):typeof e=="string"&&(s!=null?i[e]=s:r=e),r=r||rt.sources.API,[n,t,i,r]}function Bh(n,t,e,s){const r=typeof e=="number"?e:0;if(n==null)return null;let i,o;return t&&typeof t.transformPosition=="function"?[i,o]=[n.index,n.index+n.length].map(l=>t.transformPosition(l,s!==rt.sources.USER)):[i,o]=[n.index,n.index+n.length].map(l=>l<t||l===t&&s===rt.sources.USER?l:r>=0?l+r:Math.max(t,l+r)),new As(i,o-i)}class Rs extends nl{}function $h(n){return n instanceof Xt||n instanceof Oe}function Ph(n){return typeof n.updateContent=="function"}class Qs extends Hc{constructor(t,e,s){let{emitter:r}=s;super(t,e),this.emitter=r,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(rt.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(rt.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(rt.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[s,r]=this.line(t),[i]=this.line(t+e);if(super.deleteAt(t,e),i!=null&&s!==i&&r>0){if(s instanceof Oe||i instanceof Oe){this.optimize();return}const o=i.children.head instanceof Ze?null:i.children.head;s.moveChildren(i,o),s.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,s,r){super.formatAt(t,e,s,r),this.optimize()}insertAt(t,e,s){if(t>=this.length())if(s==null||this.scroll.query(e,ct.BLOCK)==null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r),s==null&&e.endsWith(`
`)?r.insertAt(0,e.slice(0,-1),s):r.insertAt(0,e,s)}else{const r=this.scroll.create(e,s);this.appendChild(r)}else super.insertAt(t,e,s);this.optimize()}insertBefore(t,e){if(t.statics.scope===ct.INLINE_BLOT){const s=this.scroll.create(this.statics.defaultChild.blotName);s.appendChild(t),super.insertBefore(s,e)}else super.insertBefore(t,e)}insertContents(t,e){const s=this.deltaToRenderBlocks(e.concat(new ot().insert(`
`))),r=s.pop();if(r==null)return;this.batchStart();const i=s.shift();if(i){const a=i.type==="block"&&(i.delta.length()===0||!this.descendant(Oe,t)[0]&&t<this.length()),c=i.type==="block"?i.delta:new ot().insert({[i.key]:i.value});ga(this,t,c);const u=i.type==="block"?1:0,f=t+c.length()+u;a&&this.insertAt(f-1,`
`);const d=Le(this.line(t)[0]),p=Re.AttributeMap.diff(d,i.attributes)||{};Object.keys(p).forEach(g=>{this.formatAt(f-1,1,g,p[g])}),t=f}let[o,l]=this.children.find(t);if(s.length&&(o&&(o=o.split(l),l=0),s.forEach(a=>{if(a.type==="block"){const c=this.createBlock(a.attributes,o||void 0);ga(c,0,a.delta)}else{const c=this.create(a.key,a.value);this.insertBefore(c,o||void 0),Object.keys(a.attributes).forEach(u=>{c.format(u,a.attributes[u])})}})),r.type==="block"&&r.delta.length()){const a=o?o.offset(o.scroll)+l:this.length();ga(this,a,r.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const e=this.path(t).pop();if(!e)return[null,-1];const[s,r]=e;return s instanceof ne?[s,r]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant($h,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const s=(r,i,o)=>{let l=[],a=o;return r.children.forEachAt(i,o,(c,u,f)=>{$h(c)?l.push(c):c instanceof nl&&(l=l.concat(s(c,u,a))),a-=f}),l};return s(this,t,e)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,e),t.length>0&&this.emitter.emit(rt.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let e=rt.sources.USER;typeof t=="string"&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(s=>{let{target:r}=s;const i=this.find(r,!0);return i&&!Ph(i)}),t.length>0&&this.emitter.emit(rt.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(rt.events.SCROLL_UPDATE,e,t)}updateEmbedAt(t,e,s){const[r]=this.descendant(i=>i instanceof Oe,t);r&&r.statics.blotName===e&&Ph(r)&&r.updateContent(s)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let s=new ot;return t.forEach(r=>{const i=r==null?void 0:r.insert;if(i)if(typeof i=="string"){const o=i.split(`
`);o.slice(0,-1).forEach(a=>{s.insert(a,r.attributes),e.push({type:"block",delta:s,attributes:r.attributes??{}}),s=new ot});const l=o[o.length-1];l&&s.insert(l,r.attributes)}else{const o=Object.keys(i)[0];if(!o)return;this.query(o,ct.INLINE)?s.push(r):(s.length()&&e.push({type:"block",delta:s,attributes:{}}),s=new ot,e.push({type:"blockEmbed",key:o,value:i[o],attributes:r.attributes??{}}))}}),s.length()&&e.push({type:"block",delta:s,attributes:{}}),e}createBlock(t,e){let s;const r={};Object.entries(t).forEach(l=>{let[a,c]=l;this.query(a,ct.BLOCK&ct.BLOT)!=null?s=a:r[a]=c});const i=this.create(s||this.statics.defaultChild.blotName,s?t[s]:void 0);this.insertBefore(i,e||void 0);const o=i.length();return Object.entries(r).forEach(l=>{let[a,c]=l;i.formatAt(0,o,a,c)}),i}}w(Qs,"blotName","scroll"),w(Qs,"className","ql-editor"),w(Qs,"tagName","DIV"),w(Qs,"defaultChild",Xt),w(Qs,"allowedChildren",[Xt,Oe,Rs]);function ga(n,t,e){e.reduce((s,r)=>{const i=Re.Op.length(r);let o=r.attributes||{};if(r.insert!=null){if(typeof r.insert=="string"){const l=r.insert;n.insertAt(s,l);const[a]=n.descendant(ne,s),c=Le(a);o=Re.AttributeMap.diff(c,o)||{}}else if(typeof r.insert=="object"){const l=Object.keys(r.insert)[0];if(l==null)return s;if(n.insertAt(s,l,r.insert[l]),n.scroll.query(l,ct.INLINE)!=null){const[c]=n.descendant(ne,s),u=Le(c);o=Re.AttributeMap.diff(u,o)||{}}}}return Object.keys(o).forEach(l=>{n.formatAt(s,i,l,o[l])}),s+i},t)}const Uc={scope:ct.BLOCK,whitelist:["right","center","justify"]},Ux=new pn("align","align",Uc),pp=new Ye("align","ql-align",Uc),gp=new us("align","text-align",Uc);class mp extends us{value(t){let e=super.value(t);return e.startsWith("rgb(")?(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${e.split(",").map(r=>`00${parseInt(r,10).toString(16)}`.slice(-2)).join("")}`):e}}const zx=new Ye("color","ql-color",{scope:ct.INLINE}),zc=new mp("color","color",{scope:ct.INLINE}),Wx=new Ye("background","ql-bg",{scope:ct.INLINE}),Wc=new mp("background","background-color",{scope:ct.INLINE});class qs extends Rs{static create(t){const e=super.create(t);return e.setAttribute("spellcheck","false"),e}code(t,e){return this.children.map(s=>s.length()<=1?"":s.domNode.innerText).join(`
`).slice(t,t+e)}html(t,e){return`<pre>
${sl(this.code(t,e))}
</pre>`}}class re extends Xt{static register(){I.register(qs)}}w(re,"TAB","  ");class Vc extends gn{}Vc.blotName="code";Vc.tagName="CODE";re.blotName="code-block";re.className="ql-code-block";re.tagName="DIV";qs.blotName="code-block-container";qs.className="ql-code-block-container";qs.tagName="DIV";qs.allowedChildren=[re];re.allowedChildren=[Xe,Ze,br];re.requiredContainer=qs;const Kc={scope:ct.BLOCK,whitelist:["rtl"]},bp=new pn("direction","dir",Kc),vp=new Ye("direction","ql-direction",Kc),yp=new us("direction","direction",Kc),wp={scope:ct.INLINE,whitelist:["serif","monospace"]},xp=new Ye("font","ql-font",wp);class Vx extends us{value(t){return super.value(t).replace(/["']/g,"")}}const Cp=new Vx("font","font-family",wp),Ep=new Ye("size","ql-size",{scope:ct.INLINE,whitelist:["small","large","huge"]}),Tp=new us("size","font-size",{scope:ct.INLINE,whitelist:["10px","18px","32px"]}),Kx=jn("quill:keyboard"),Gx=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class rl extends Qe{static match(t,e){return["altKey","ctrlKey","metaKey","shiftKey"].some(s=>!!e[s]!==t[s]&&e[s]!==null)?!1:e.key===t.key||e.key===t.which}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach(s=>{this.options.bindings[s]&&this.addBinding(this.options.bindings[s])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Yx(t);if(r==null){Kx.warn("Attempted to add invalid keyboard binding",r);return}typeof e=="function"&&(e={handler:e}),typeof s=="function"&&(s={handler:s}),(Array.isArray(r.key)?r.key:[r.key]).forEach(o=>{const l={...r,key:o,...e,...s};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing||t.keyCode===229&&(t.key==="Enter"||t.key==="Backspace"))return;const r=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(E=>rl.match(t,E));if(r.length===0)return;const i=I.find(t.target,!0);if(i&&i.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[l,a]=this.quill.getLine(o.index),[c,u]=this.quill.getLeaf(o.index),[f,d]=o.length===0?[c,u]:this.quill.getLeaf(o.index+o.length),p=c instanceof Io?c.value().slice(0,u):"",g=f instanceof Io?f.value().slice(d):"",b={collapsed:o.length===0,empty:o.length===0&&l.length()<=1,format:this.quill.getFormat(o),line:l,offset:a,prefix:p,suffix:g,event:t};r.some(E=>{if(E.collapsed!=null&&E.collapsed!==b.collapsed||E.empty!=null&&E.empty!==b.empty||E.offset!=null&&E.offset!==b.offset)return!1;if(Array.isArray(E.format)){if(E.format.every(N=>b.format[N]==null))return!1}else if(typeof E.format=="object"&&!Object.keys(E.format).every(N=>E.format[N]===!0?b.format[N]!=null:E.format[N]===!1?b.format[N]==null:Dc(E.format[N],b.format[N])))return!1;return E.prefix!=null&&!E.prefix.test(b.prefix)||E.suffix!=null&&!E.suffix.test(b.suffix)?!1:E.handler.call(this,o,b,E)!==!0})&&t.preventDefault()})}handleBackspace(t,e){const s=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let r={};const[i]=this.quill.getLine(t.index);let o=new ot().retain(t.index-s).delete(s);if(e.offset===0){const[l]=this.quill.getLine(t.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const c=i.formats(),u=this.quill.getFormat(t.index-1,1);if(r=Re.AttributeMap.diff(c,u)||{},Object.keys(r).length>0){const f=new ot().retain(t.index+i.length()-2).retain(1,r);o=o.compose(f)}}}this.quill.updateContents(o,I.sources.USER),this.quill.focus()}handleDelete(t,e){const s=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-s)return;let r={};const[i]=this.quill.getLine(t.index);let o=new ot().retain(t.index).delete(s);if(e.offset>=i.length()-1){const[l]=this.quill.getLine(t.index+1);if(l){const a=i.formats(),c=this.quill.getFormat(t.index,1);r=Re.AttributeMap.diff(a,c)||{},Object.keys(r).length>0&&(o=o.retain(l.length()-1).retain(1,r))}}this.quill.updateContents(o,I.sources.USER),this.quill.focus()}handleDeleteRange(t){Gc({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,e){const s=Object.keys(e.format).reduce((i,o)=>(this.quill.scroll.query(o,ct.BLOCK)&&!Array.isArray(e.format[o])&&(i[o]=e.format[o]),i),{}),r=new ot().retain(t.index).delete(t.length).insert(`
`,s);this.quill.updateContents(r,I.sources.USER),this.quill.setSelection(t.index+1,I.sources.SILENT),this.quill.focus()}}const Xx={bindings:{bold:ma("bold"),italic:ma("italic"),underline:ma("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",I.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",I.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,t){t.format.indent!=null?this.quill.format("indent","-1",I.sources.USER):t.format.list!=null&&this.quill.format("list",!1,I.sources.USER)}},"indent code-block":Dh(!0),"outdent code-block":Dh(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,I.sources.USER)}},tab:{key:"Tab",handler(n,t){if(t.format.table)return!0;this.quill.history.cutoff();const e=new ot().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(e,I.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,I.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,I.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,t){const e={list:!1};t.format.indent&&(e.indent=!1),this.quill.formatLine(n.index,n.length,e,I.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[t,e]=this.quill.getLine(n.index),s={...t.formats(),list:"checked"},r=new ot().retain(n.index).insert(`
`,s).retain(t.length()-e-1).retain(1,{list:"unchecked"});this.quill.updateContents(r,I.sources.USER),this.quill.setSelection(n.index+1,I.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,t){const[e,s]=this.quill.getLine(n.index),r=new ot().retain(n.index).insert(`
`,t.format).retain(e.length()-s-1).retain(1,{header:null});this.quill.updateContents(r,I.sources.USER),this.quill.setSelection(n.index+1,I.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const t=this.quill.getModule("table");if(t){const[e,s,r,i]=t.getTable(n),o=Zx(e,s,r,i);if(o==null)return;let l=e.offset();if(o<0){const a=new ot().retain(l).insert(`
`);this.quill.updateContents(a,I.sources.USER),this.quill.setSelection(n.index+1,n.length,I.sources.SILENT)}else if(o>0){l+=e.length();const a=new ot().retain(l).insert(`
`);this.quill.updateContents(a,I.sources.USER),this.quill.setSelection(l,I.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,t){const{event:e,line:s}=t,r=s.offset(this.quill.scroll);e.shiftKey?this.quill.setSelection(r-1,I.sources.USER):this.quill.setSelection(r+s.length(),I.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,t){if(this.quill.scroll.query("list")==null)return!0;const{length:e}=t.prefix,[s,r]=this.quill.getLine(n.index);if(r>e)return!0;let i;switch(t.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(n.index," ",I.sources.USER),this.quill.history.cutoff();const o=new ot().retain(n.index-r).delete(e+1).retain(s.length()-2-r).retain(1,{list:i});return this.quill.updateContents(o,I.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-e,I.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[t,e]=this.quill.getLine(n.index);let s=2,r=t;for(;r!=null&&r.length()<=1&&r.formats()["code-block"];)if(r=r.prev,s-=1,s<=0){const i=new ot().retain(n.index+t.length()-e-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,I.sources.USER),this.quill.setSelection(n.index-1,I.sources.SILENT),!1}return!0}},"embed left":ro("ArrowLeft",!1),"embed left shift":ro("ArrowLeft",!0),"embed right":ro("ArrowRight",!1),"embed right shift":ro("ArrowRight",!0),"table down":jh(!1),"table up":jh(!0)}};rl.DEFAULTS=Xx;function Dh(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(t,e){let{event:s}=e;const r=this.quill.scroll.query("code-block"),{TAB:i}=r;if(t.length===0&&!s.shiftKey){this.quill.insertText(t.index,i,I.sources.USER),this.quill.setSelection(t.index+i.length,I.sources.SILENT);return}const o=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:l,length:a}=t;o.forEach((c,u)=>{n?(c.insertAt(0,i),u===0?l+=i.length:a+=i.length):c.domNode.textContent.startsWith(i)&&(c.deleteAt(0,i.length),u===0?l-=i.length:a-=i.length)}),this.quill.update(I.sources.USER),this.quill.setSelection(l,a,I.sources.SILENT)}}}function ro(n,t){return{key:n,shiftKey:t,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(s){let{index:r}=s;n==="ArrowRight"&&(r+=s.length+1);const[i]=this.quill.getLeaf(r);return i instanceof Ne?(n==="ArrowLeft"?t?this.quill.setSelection(s.index-1,s.length+1,I.sources.USER):this.quill.setSelection(s.index-1,I.sources.USER):t?this.quill.setSelection(s.index,s.length+1,I.sources.USER):this.quill.setSelection(s.index+s.length+1,I.sources.USER),!1):!0}}}function ma(n){return{key:n[0],shortKey:!0,handler(t,e){this.quill.format(n,!e.format[n],I.sources.USER)}}}function jh(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,e){const s=n?"prev":"next",r=e.line,i=r.parent[s];if(i!=null){if(i.statics.blotName==="table-row"){let o=i.children.head,l=r;for(;l.prev!=null;)l=l.prev,o=o.next;const a=o.offset(this.quill.scroll)+Math.min(e.offset,o.length()-1);this.quill.setSelection(a,0,I.sources.USER)}}else{const o=r.table()[s];o!=null&&(n?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,I.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,I.sources.USER))}return!1}}}function Yx(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=rr(n);else return null;return n.shortKey&&(n[Gx]=n.shortKey,delete n.shortKey),n}function Gc(n){let{quill:t,range:e}=n;const s=t.getLines(e);let r={};if(s.length>1){const i=s[0].formats(),o=s[s.length-1].formats();r=Re.AttributeMap.diff(o,i)||{}}t.deleteText(e,I.sources.USER),Object.keys(r).length>0&&t.formatLine(e.index,1,r,I.sources.USER),t.setSelection(e.index,I.sources.SILENT)}function Zx(n,t,e,s){return t.prev==null&&t.next==null?e.prev==null&&e.next==null?s===0?-1:1:e.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const Qx=/font-weight:\s*normal/,Jx=["P","OL","UL"],Hh=n=>n&&Jx.includes(n.tagName),tC=n=>{Array.from(n.querySelectorAll("br")).filter(t=>Hh(t.previousElementSibling)&&Hh(t.nextElementSibling)).forEach(t=>{var e;(e=t.parentNode)==null||e.removeChild(t)})},eC=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var e;return(e=t.getAttribute("style"))==null?void 0:e.match(Qx)}).forEach(t=>{var s;const e=n.createDocumentFragment();e.append(...t.childNodes),(s=t.parentNode)==null||s.replaceChild(e,t)})};function nC(n){n.querySelector('[id^="docs-internal-guid-"]')&&(eC(n),tC(n))}const sC=/\bmso-list:[^;]*ignore/i,rC=/\bmso-list:[^;]*\bl(\d+)/i,iC=/\bmso-list:[^;]*\blevel(\d+)/i,oC=(n,t)=>{const e=n.getAttribute("style"),s=e==null?void 0:e.match(rC);if(!s)return null;const r=Number(s[1]),i=e==null?void 0:e.match(iC),o=i?Number(i[1]):1,l=new RegExp(`@list l${r}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),a=t.match(l),c=a&&a[1]==="bullet"?"bullet":"ordered";return{id:r,indent:o,type:c,element:n}},lC=n=>{var o,l;const t=Array.from(n.querySelectorAll("[style*=mso-list]")),e=[],s=[];t.forEach(a=>{(a.getAttribute("style")||"").match(sC)?e.push(a):s.push(a)}),e.forEach(a=>{var c;return(c=a.parentNode)==null?void 0:c.removeChild(a)});const r=n.documentElement.innerHTML,i=s.map(a=>oC(a,r)).filter(a=>a);for(;i.length;){const a=[];let c=i.shift();for(;c;)a.push(c),c=i.length&&((o=i[0])==null?void 0:o.element)===c.element.nextElementSibling&&i[0].id===c.id?i.shift():null;const u=document.createElement("ul");a.forEach(p=>{const g=document.createElement("li");g.setAttribute("data-list",p.type),p.indent>1&&g.setAttribute("class",`ql-indent-${p.indent-1}`),g.innerHTML=p.element.innerHTML,u.appendChild(g)});const f=(l=a[0])==null?void 0:l.element,{parentNode:d}=f??{};f&&(d==null||d.replaceChild(u,f)),a.slice(1).forEach(p=>{let{element:g}=p;d==null||d.removeChild(g)})}};function aC(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&lC(n)}const cC=[aC,nC],uC=n=>{n.documentElement&&cC.forEach(t=>{t(n)})},hC=jn("quill:clipboard"),dC=[[Node.TEXT_NODE,TC],[Node.TEXT_NODE,Uh],["br",bC],[Node.ELEMENT_NODE,Uh],[Node.ELEMENT_NODE,mC],[Node.ELEMENT_NODE,gC],[Node.ELEMENT_NODE,CC],["li",wC],["ol, ul",xC],["pre",vC],["tr",EC],["b",ba("bold")],["i",ba("italic")],["strike",ba("strike")],["style",yC]],fC=[Ux,bp].reduce((n,t)=>(n[t.keyName]=t,n),{}),Fh=[gp,Wc,zc,yp,Cp,Tp].reduce((n,t)=>(n[t.keyName]=t,n),{});class Np extends Qe{constructor(t,e){super(t,e),this.quill.root.addEventListener("copy",s=>this.onCaptureCopy(s,!1)),this.quill.root.addEventListener("cut",s=>this.onCaptureCopy(s,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],dC.concat(this.options.matchers??[]).forEach(s=>{let[r,i]=s;this.addMatcher(r,i)})}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:s}=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r[re.blotName])return new ot().insert(s||"",{[re.blotName]:r[re.blotName]});if(!e)return new ot().insert(s||"",r);const i=this.convertHTML(e);return _i(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||r.table)?i.compose(new ot().retain(i.length()-1).delete(1)):i}normalizeHTML(t){uC(t)}convertHTML(t){const e=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(e);const s=e.body,r=new WeakMap,[i,o]=this.prepareMatching(s,r);return Xc(this.quill.scroll,s,i,o,r)}dangerouslyPasteHTML(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I.sources.API;if(typeof t=="string"){const r=this.convert({html:t,text:""});this.quill.setContents(r,e),this.quill.setSelection(0,I.sources.SILENT)}else{const r=this.convert({html:e,text:""});this.quill.updateContents(new ot().retain(t).concat(r),s),this.quill.setSelection(t+r.length(),I.sources.SILENT)}}onCaptureCopy(t){var o,l;let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[s]=this.quill.selection.getRange();if(s==null)return;const{html:r,text:i}=this.onCopy(s,e);(o=t.clipboardData)==null||o.setData("text/plain",i),(l=t.clipboardData)==null||l.setData("text/html",r),e&&Gc({range:s,quill:this.quill})}normalizeURIList(t){return t.split(/\r?\n/).filter(e=>e[0]!=="#").join(`
`)}onCapturePaste(t){var o,l,a,c,u;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(!0);if(e==null)return;const s=(o=t.clipboardData)==null?void 0:o.getData("text/html");let r=(l=t.clipboardData)==null?void 0:l.getData("text/plain");if(!s&&!r){const f=(a=t.clipboardData)==null?void 0:a.getData("text/uri-list");f&&(r=this.normalizeURIList(f))}const i=Array.from(((c=t.clipboardData)==null?void 0:c.files)||[]);if(!s&&i.length>0){this.quill.uploader.upload(e,i);return}if(s&&i.length>0){const f=new DOMParser().parseFromString(s,"text/html");if(f.body.childElementCount===1&&((u=f.body.firstElementChild)==null?void 0:u.tagName)==="IMG"){this.quill.uploader.upload(e,i);return}}this.onPaste(e,{html:s,text:r})}onCopy(t){const e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}onPaste(t,e){let{text:s,html:r}=e;const i=this.quill.getFormat(t.index),o=this.convert({text:s,html:r},i);hC.log("onPaste",o,{text:s,html:r});const l=new ot().retain(t.index).delete(t.length).concat(o);this.quill.updateContents(l,I.sources.USER),this.quill.setSelection(l.length()-t.length,I.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const s=[],r=[];return this.matchers.forEach(i=>{const[o,l]=i;switch(o){case Node.TEXT_NODE:r.push(l);break;case Node.ELEMENT_NODE:s.push(l);break;default:Array.from(t.querySelectorAll(o)).forEach(a=>{if(e.has(a)){const c=e.get(a);c==null||c.push(l)}else e.set(a,[l])});break}}),[s,r]}}w(Np,"DEFAULTS",{matchers:[]});function ks(n,t,e,s){return s.query(t)?n.reduce((r,i)=>{if(!i.insert)return r;if(i.attributes&&i.attributes[t])return r.push(i);const o=e?{[t]:e}:{};return r.insert(i.insert,{...o,...i.attributes})},new ot):n}function _i(n,t){let e="";for(let s=n.ops.length-1;s>=0&&e.length<t.length;--s){const r=n.ops[s];if(typeof r.insert!="string")break;e=r.insert+e}return e.slice(-1*t.length)===t}function Qn(n,t){if(!(n instanceof Element))return!1;const e=t.query(n);return e&&e.prototype instanceof Ne?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function pC(n,t){return n.previousElementSibling&&n.nextElementSibling&&!Qn(n.previousElementSibling,t)&&!Qn(n.nextElementSibling,t)}const io=new WeakMap;function Ap(n){return n==null?!1:(io.has(n)||(n.tagName==="PRE"?io.set(n,!0):io.set(n,Ap(n.parentNode))),io.get(n))}function Xc(n,t,e,s,r){return t.nodeType===t.TEXT_NODE?s.reduce((i,o)=>o(t,i,n),new ot):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((i,o)=>{let l=Xc(n,o,e,s,r);return o.nodeType===t.ELEMENT_NODE&&(l=e.reduce((a,c)=>c(o,a,n),l),l=(r.get(o)||[]).reduce((a,c)=>c(o,a,n),l)),i.concat(l)},new ot):new ot}function ba(n){return(t,e,s)=>ks(e,n,!0,s)}function gC(n,t,e){const s=pn.keys(n),r=Ye.keys(n),i=us.keys(n),o={};return s.concat(r).concat(i).forEach(l=>{let a=e.query(l,ct.ATTRIBUTE);a!=null&&(o[a.attrName]=a.value(n),o[a.attrName])||(a=fC[l],a!=null&&(a.attrName===l||a.keyName===l)&&(o[a.attrName]=a.value(n)||void 0),a=Fh[l],a!=null&&(a.attrName===l||a.keyName===l)&&(a=Fh[l],o[a.attrName]=a.value(n)||void 0))}),Object.entries(o).reduce((l,a)=>{let[c,u]=a;return ks(l,c,u,e)},t)}function mC(n,t,e){const s=e.query(n);if(s==null)return t;if(s.prototype instanceof Ne){const r={},i=s.value(n);if(i!=null)return r[s.blotName]=i,new ot().insert(r,s.formats(n,e))}else if(s.prototype instanceof yi&&!_i(t,`
`)&&t.insert(`
`),"blotName"in s&&"formats"in s&&typeof s.formats=="function")return ks(t,s.blotName,s.formats(n,e),e);return t}function bC(n,t){return _i(t,`
`)||t.insert(`
`),t}function vC(n,t,e){const s=e.query("code-block"),r=s&&"formats"in s&&typeof s.formats=="function"?s.formats(n,e):!0;return ks(t,"code-block",r,e)}function yC(){return new ot}function wC(n,t,e){const s=e.query(n);if(s==null||s.blotName!=="list"||!_i(t,`
`))return t;let r=-1,i=n.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(r+=1),i=i.parentNode;return r<=0?t:t.reduce((o,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?o.push(l):o.insert(l.insert,{indent:r,...l.attributes||{}}):o,new ot)}function xC(n,t,e){const s=n;let r=s.tagName==="OL"?"ordered":"bullet";const i=s.getAttribute("data-checked");return i&&(r=i==="true"?"checked":"unchecked"),ks(t,"list",r,e)}function Uh(n,t,e){if(!_i(t,`
`)){if(Qn(n,e)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&n.nextSibling){let s=n.nextSibling;for(;s!=null;){if(Qn(s,e))return t.insert(`
`);const r=e.query(s);if(r&&r.prototype instanceof Oe)return t.insert(`
`);s=s.firstChild}}}return t}function CC(n,t,e){var i;const s={},r=n.style||{};return r.fontStyle==="italic"&&(s.italic=!0),r.textDecoration==="underline"&&(s.underline=!0),r.textDecoration==="line-through"&&(s.strike=!0),((i=r.fontWeight)!=null&&i.startsWith("bold")||parseInt(r.fontWeight,10)>=700)&&(s.bold=!0),t=Object.entries(s).reduce((o,l)=>{let[a,c]=l;return ks(o,a,c,e)},t),parseFloat(r.textIndent||0)>0?new ot().insert("	").concat(t):t}function EC(n,t,e){var r,i;const s=((r=n.parentElement)==null?void 0:r.tagName)==="TABLE"?n.parentElement:(i=n.parentElement)==null?void 0:i.parentElement;if(s!=null){const l=Array.from(s.querySelectorAll("tr")).indexOf(n)+1;return ks(t,"table",l,e)}return t}function TC(n,t,e){var r;let s=n.data;if(((r=n.parentElement)==null?void 0:r.tagName)==="O:P")return t.insert(s.trim());if(!Ap(n)){if(s.trim().length===0&&s.includes(`
`)&&!pC(n,e))return t;s=s.replace(/[^\S\u00a0]/g," "),s=s.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&Qn(n.parentElement,e)||n.previousSibling instanceof Element&&Qn(n.previousSibling,e))&&(s=s.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&Qn(n.parentElement,e)||n.nextSibling instanceof Element&&Qn(n.nextSibling,e))&&(s=s.replace(/ $/,"")),s=s.replaceAll(" "," ")}return t.insert(s)}class Sp extends Qe{constructor(e,s){super(e,s);w(this,"lastRecorded",0);w(this,"ignoreChange",!1);w(this,"stack",{undo:[],redo:[]});w(this,"currentRange",null);this.quill.on(I.events.EDITOR_CHANGE,(r,i,o,l)=>{r===I.events.SELECTION_CHANGE?i&&l!==I.sources.SILENT&&(this.currentRange=i):r===I.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===I.sources.USER?this.record(i,o):this.transform(i)),this.currentRange=Ja(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",r=>{r.inputType==="historyUndo"?(this.undo(),r.preventDefault()):r.inputType==="historyRedo"&&(this.redo(),r.preventDefault())})}change(e,s){if(this.stack[e].length===0)return;const r=this.stack[e].pop();if(!r)return;const i=this.quill.getContents(),o=r.delta.invert(i);this.stack[s].push({delta:o,range:Ja(r.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r.delta,I.sources.USER),this.ignoreChange=!1,this.restoreSelection(r)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,s){if(e.ops.length===0)return;this.stack.redo=[];let r=e.invert(s),i=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(r=r.compose(l.delta),i=l.range)}else this.lastRecorded=o;r.length()!==0&&(this.stack.undo.push({delta:r,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){zh(this.stack.undo,e),zh(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,I.sources.USER);else{const s=AC(this.quill.scroll,e.delta);this.quill.setSelection(s,I.sources.USER)}}}w(Sp,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function zh(n,t){let e=t;for(let s=n.length-1;s>=0;s-=1){const r=n[s];n[s]={delta:e.transform(r.delta,!0),range:r.range&&Ja(r.range,e)},e=r.delta.transform(e),n[s].delta.length()===0&&n.splice(s,1)}}function NC(n,t){const e=t.ops[t.ops.length-1];return e==null?!1:e.insert!=null?typeof e.insert=="string"&&e.insert.endsWith(`
`):e.attributes!=null?Object.keys(e.attributes).some(s=>n.query(s,ct.BLOCK)!=null):!1}function AC(n,t){const e=t.reduce((r,i)=>r+(i.delete||0),0);let s=t.length()-e;return NC(n,t)&&(s-=1),s}function Ja(n,t){if(!n)return n;const e=t.transformPosition(n.index),s=t.transformPosition(n.index+n.length);return{index:e,length:s-e}}class Lp extends Qe{constructor(t,e){super(t,e),t.root.addEventListener("drop",s=>{var o;s.preventDefault();let r=null;if(document.caretRangeFromPoint)r=document.caretRangeFromPoint(s.clientX,s.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(s.clientX,s.clientY);r=document.createRange(),r.setStart(l.offsetNode,l.offset),r.setEnd(l.offsetNode,l.offset)}const i=r&&t.selection.normalizeNative(r);if(i){const l=t.selection.normalizedToRange(i);(o=s.dataTransfer)!=null&&o.files&&this.upload(l,s.dataTransfer.files)}})}upload(t,e){const s=[];Array.from(e).forEach(r=>{var i;r&&((i=this.options.mimetypes)!=null&&i.includes(r.type))&&s.push(r)}),s.length>0&&this.options.handler.call(this,t,s)}}Lp.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,t){if(!this.quill.scroll.query("image"))return;const e=t.map(s=>new Promise(r=>{const i=new FileReader;i.onload=()=>{r(i.result)},i.readAsDataURL(s)}));Promise.all(e).then(s=>{const r=s.reduce((i,o)=>i.insert({image:o}),new ot().retain(n.index).delete(n.length));this.quill.updateContents(r,rt.sources.USER),this.quill.setSelection(n.index+s.length,rt.sources.SILENT)})}};const SC=["insertText","insertReplacementText"];class LC extends Qe{constructor(t,e){super(t,e),t.root.addEventListener("beforeinput",s=>{this.handleBeforeInput(s)}),/Android/i.test(navigator.userAgent)||t.on(I.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){Gc({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(e){const s=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new ot().retain(t.index).insert(e,s),I.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,I.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!SC.includes(t.inputType))return;const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||e.collapsed===!0)return;const s=IC(t);if(s==null)return;const r=this.quill.selection.normalizeNative(e),i=r?this.quill.selection.normalizedToRange(r):null;i&&this.replaceText(i,s)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function IC(n){var t;return typeof n.data=="string"?n.data:(t=n.dataTransfer)!=null&&t.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const _C=/Mac/i.test(navigator.platform),OC=100,MC=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||_C&&n.key==="a"&&n.ctrlKey===!0);class RC extends Qe{constructor(e,s){super(e,s);w(this,"isListening",!1);w(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,s){let{line:r,event:i}=s;if(!(r instanceof We)||!r.uiNode)return!0;const o=getComputedStyle(r.domNode).direction==="rtl";return o&&i.key!=="ArrowRight"||!o&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(i.shiftKey?1:0),I.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&MC(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+OC,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const s=e.getRangeAt(0);if(s.collapsed!==!0||s.startOffset!==0)return;const r=this.quill.scroll.find(s.startContainer);if(!(r instanceof We)||!r.uiNode)return;const i=document.createRange();i.setStartAfter(r.uiNode),i.setEndAfter(r.uiNode),e.removeAllRanges(),e.addRange(i)}}I.register({"blots/block":Xt,"blots/block/embed":Oe,"blots/break":Ze,"blots/container":Rs,"blots/cursor":br,"blots/embed":Fc,"blots/inline":gn,"blots/scroll":Qs,"blots/text":Xe,"modules/clipboard":Np,"modules/history":Sp,"modules/keyboard":rl,"modules/uploader":Lp,"modules/input":LC,"modules/uiNode":RC});class qC extends Ye{add(t,e){let s=0;if(e==="+1"||e==="-1"){const r=this.value(t)||0;s=e==="+1"?r+1:r-1}else typeof e=="number"&&(s=e);return s===0?(this.remove(t),!0):super.add(t,s.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||void 0}}const kC=new qC("indent","ql-indent",{scope:ct.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class tc extends Xt{}w(tc,"blotName","blockquote"),w(tc,"tagName","blockquote");class ec extends Xt{static formats(t){return this.tagName.indexOf(t.tagName)+1}}w(ec,"blotName","header"),w(ec,"tagName",["H1","H2","H3","H4","H5","H6"]);class Oi extends Rs{}Oi.blotName="list-container";Oi.tagName="OL";class Mi extends Xt{static create(t){const e=super.create();return e.setAttribute("data-list",t),e}static formats(t){return t.getAttribute("data-list")||void 0}static register(){I.register(Oi)}constructor(t,e){super(t,e);const s=e.ownerDocument.createElement("span"),r=i=>{if(!t.isEnabled())return;const o=this.statics.formats(e,t);o==="checked"?(this.format("list","unchecked"),i.preventDefault()):o==="unchecked"&&(this.format("list","checked"),i.preventDefault())};s.addEventListener("mousedown",r),s.addEventListener("touchstart",r),this.attachUI(s)}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):super.format(t,e)}}Mi.blotName="list";Mi.tagName="LI";Oi.allowedChildren=[Mi];Mi.requiredContainer=Oi;class xi extends gn{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}w(xi,"blotName","bold"),w(xi,"tagName",["STRONG","B"]);class nc extends xi{}w(nc,"blotName","italic"),w(nc,"tagName",["EM","I"]);class Jn extends gn{static create(t){const e=super.create(t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){return Ip(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){t!==this.statics.blotName||!e?super.format(t,e):this.domNode.setAttribute("href",this.constructor.sanitize(e))}}w(Jn,"blotName","link"),w(Jn,"tagName","A"),w(Jn,"SANITIZED_URL","about:blank"),w(Jn,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function Ip(n,t){const e=document.createElement("a");e.href=n;const s=e.href.slice(0,e.href.indexOf(":"));return t.indexOf(s)>-1}class sc extends gn{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}w(sc,"blotName","script"),w(sc,"tagName",["SUB","SUP"]);class rc extends xi{}w(rc,"blotName","strike"),w(rc,"tagName",["S","STRIKE"]);class ic extends gn{}w(ic,"blotName","underline"),w(ic,"tagName","U");class mo extends Fc{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const e=super.create(t);return typeof t=="string"&&(window.katex.render(t,e,{throwOnError:!1,errorColor:"#f00"}),e.setAttribute("data-value",t)),e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}w(mo,"blotName","formula"),w(mo,"className","ql-formula"),w(mo,"tagName","SPAN");const Wh=["alt","height","width"];class oc extends Ne{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("src",this.sanitize(t)),e}static formats(t){return Wh.reduce((e,s)=>(t.hasAttribute(s)&&(e[s]=t.getAttribute(s)),e),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return Ip(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){Wh.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}}w(oc,"blotName","image"),w(oc,"tagName","IMG");const Vh=["height","width"];class bo extends Oe{static create(t){const e=super.create(t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),e.setAttribute("src",this.sanitize(t)),e}static formats(t){return Vh.reduce((e,s)=>(t.hasAttribute(s)&&(e[s]=t.getAttribute(s)),e),{})}static sanitize(t){return Jn.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){Vh.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}w(bo,"blotName","video"),w(bo,"className","ql-video"),w(bo,"tagName","IFRAME");const Wr=new Ye("code-token","hljs",{scope:ct.INLINE});class Bn extends gn{static formats(t,e){for(;t!=null&&t!==e.domNode;){if(t.classList&&t.classList.contains(re.className))return super.formats(t,e);t=t.parentNode}}constructor(t,e,s){super(t,e,s),Wr.add(this.domNode,s)}format(t,e){t!==Bn.blotName?super.format(t,e):e?Wr.add(this.domNode,e):(Wr.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Wr.value(this.domNode)||this.unwrap()}}Bn.blotName="code-token";Bn.className="ql-token";class Ie extends re{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("data-language",t),e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-language",e):super.format(t,e)}replaceWith(t,e){return this.formatAt(0,this.length(),Bn.blotName,!1),super.replaceWith(t,e)}}class si extends qs{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,e){t===Ie.blotName&&(this.forceNext=!0,this.children.forEach(s=>{s.format(t,e)}))}formatAt(t,e,s,r){s===Ie.blotName&&(this.forceNext=!0),super.formatAt(t,e,s,r)}highlight(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const r=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,i=Ie.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==r){if(r.trim().length>0||this.cachedText==null){const o=this.children.reduce((a,c)=>a.concat(dp(c,!1)),new ot),l=t(r,i);o.diff(l).reduce((a,c)=>{let{retain:u,attributes:f}=c;return u?(f&&Object.keys(f).forEach(d=>{[Ie.blotName,Bn.blotName].includes(d)&&this.formatAt(a,u,d,f[d])}),a+u):a},0)}this.cachedText=r,this.forceNext=!1}}html(t,e){const[s]=this.children.find(t);return`<pre data-language="${s?Ie.formats(s.domNode):"plain"}">
${sl(this.code(t,e))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const e=Ie.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}si.allowedChildren=[Ie];Ie.requiredContainer=si;Ie.allowedChildren=[Bn,br,Xe,Ze];const BC=(n,t,e)=>{if(typeof n.versionString=="string"){const s=n.versionString.split(".")[0];if(parseInt(s,10)>=11)return n.highlight(e,{language:t}).value}return n.highlight(t,e).value};class _p extends Qe{static register(){I.register(Bn,!0),I.register(Ie,!0),I.register(si,!0)}constructor(t,e){if(super(t,e),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((s,r)=>{let{key:i}=r;return s[i]=!0,s},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(I.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof si))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(s=>{let{key:r,label:i}=s;const o=e.ownerDocument.createElement("option");o.textContent=i,o.setAttribute("value",r),e.appendChild(o)}),e.addEventListener("change",()=>{t.format(Ie.blotName,e.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(e),t.children.head&&(e.value=Ie.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(I.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(I.sources.USER);const s=this.quill.getSelection();(t==null?this.quill.scroll.descendants(si):[t]).forEach(i=>{i.highlight(this.highlightBlot,e)}),this.quill.update(I.sources.SILENT),s!=null&&this.quill.setSelection(s,I.sources.SILENT)}highlightBlot(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(e=this.languages[e]?e:"plain",e==="plain")return sl(t).split(`
`).reduce((r,i,o)=>(o!==0&&r.insert(`
`,{[re.blotName]:e}),r.insert(i)),new ot);const s=this.quill.root.ownerDocument.createElement("div");return s.classList.add(re.className),s.innerHTML=BC(this.options.hljs,e,t),Xc(this.quill.scroll,s,[(r,i)=>{const o=Wr.value(r);return o?i.compose(new ot().retain(i.length(),{[Bn.blotName]:o})):i}],[(r,i)=>r.data.split(`
`).reduce((o,l,a)=>(a!==0&&o.insert(`
`,{[re.blotName]:e}),o.insert(l)),i)],new WeakMap)}}_p.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const li=class li extends Xt{static create(t){const e=super.create();return t?e.setAttribute("data-row",t):e.setAttribute("data-row",Yc()),e}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,e){t===li.blotName&&e?this.domNode.setAttribute("data-row",e):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};w(li,"blotName","table"),w(li,"tagName","TD");let He=li;class $n extends Rs{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),e=this.children.tail.formats(),s=this.next.children.head.formats(),r=this.next.children.tail.formats();return t.table===e.table&&t.table===s.table&&t.table===r.table}return!1}optimize(t){super.optimize(t),this.children.forEach(e=>{if(e.next==null)return;const s=e.formats(),r=e.next.formats();if(s.table!==r.table){const i=this.splitAfter(e);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}w($n,"blotName","table-row"),w($n,"tagName","TR");class un extends Rs{}w(un,"blotName","table-body"),w(un,"tagName","TBODY");class yr extends Rs{balanceCells(){const t=this.descendants($n),e=t.reduce((s,r)=>Math.max(r.children.length,s),0);t.forEach(s=>{new Array(e-s.children.length).fill(0).forEach(()=>{let r;s.children.head!=null&&(r=He.formats(s.children.head.domNode));const i=this.scroll.create(He.blotName,r);s.appendChild(i),i.optimize()})})}cells(t){return this.rows().map(e=>e.children.at(t))}deleteColumn(t){const[e]=this.descendant(un);e==null||e.children.head==null||e.children.forEach(s=>{const r=s.children.at(t);r!=null&&r.remove()})}insertColumn(t){const[e]=this.descendant(un);e==null||e.children.head==null||e.children.forEach(s=>{const r=s.children.at(t),i=He.formats(s.children.head.domNode),o=this.scroll.create(He.blotName,i);s.insertBefore(o,r)})}insertRow(t){const[e]=this.descendant(un);if(e==null||e.children.head==null)return;const s=Yc(),r=this.scroll.create($n.blotName);e.children.head.children.forEach(()=>{const o=this.scroll.create(He.blotName,s);r.appendChild(o)});const i=e.children.at(t);e.insertBefore(r,i)}rows(){const t=this.children.head;return t==null?[]:t.children.map(e=>e)}}w(yr,"blotName","table-container"),w(yr,"tagName","TABLE");yr.allowedChildren=[un];un.requiredContainer=yr;un.allowedChildren=[$n];$n.requiredContainer=un;$n.allowedChildren=[He];He.requiredContainer=$n;function Yc(){return`row-${Math.random().toString(36).slice(2,6)}`}class $C extends Qe{static register(){I.register(He),I.register($n),I.register(un),I.register(yr)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(yr).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,e]=this.getTable();e!=null&&(t.deleteColumn(e.cellOffset()),this.quill.update(I.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(I.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const e=t.offset();t.remove(),this.quill.update(I.sources.USER),this.quill.setSelection(e,I.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[e,s]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==He.blotName)return[null,null,null,-1];const r=e.parent;return[r.parent.parent,r,e,s]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[s,r,i]=this.getTable(e);if(i==null)return;const o=i.cellOffset();s.insertColumn(o+t),this.quill.update(I.sources.USER);let l=r.rowOffset();t===0&&(l+=1),this.quill.setSelection(e.index+l,e.length,I.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[s,r,i]=this.getTable(e);if(i==null)return;const o=r.rowOffset();s.insertRow(o+t),this.quill.update(I.sources.USER),t>0?this.quill.setSelection(e,I.sources.SILENT):this.quill.setSelection(e.index+r.children.length,e.length,I.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const s=this.quill.getSelection();if(s==null)return;const r=new Array(t).fill(0).reduce(i=>{const o=new Array(e).fill(`
`).join("");return i.insert(o,{table:Yc()})},new ot().retain(s.index));this.quill.updateContents(r,I.sources.USER),this.quill.setSelection(s.index,I.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(I.events.SCROLL_OPTIMIZE,t=>{t.some(e=>["TD","TR","TBODY","TABLE"].includes(e.target.tagName)?(this.quill.once(I.events.TEXT_CHANGE,(s,r,i)=>{i===I.sources.USER&&this.balanceTables()}),!0):!1)})}}const Kh=jn("quill:toolbar");class Zc extends Qe{constructor(t,e){var s,r;if(super(t,e),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),PC(i,this.options.container),(r=(s=t.container)==null?void 0:s.parentNode)==null||r.insertBefore(i,t.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Kh.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var l;const o=(l=this.options.handlers)==null?void 0:l[i];o&&this.addHandler(i,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(I.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find(r=>r.indexOf("ql-")===0);if(!e)return;if(e=e.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[e]==null&&this.quill.scroll.query(e)==null){Kh.warn("ignoring attaching to nonexistent format",e,t);return}const s=t.tagName==="SELECT"?"change":"click";t.addEventListener(s,r=>{let i;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const l=t.options[t.selectedIndex];l.hasAttribute("selected")?i=!1:i=l.value||!1}else t.classList.contains("ql-active")?i=!1:i=t.value||!t.hasAttribute("value"),r.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[e]!=null)this.handlers[e].call(this,i);else if(this.quill.scroll.query(e).prototype instanceof Ne){if(i=prompt(`Enter ${e}`),!i)return;this.quill.updateContents(new ot().retain(o.index).delete(o.length).insert({[e]:i}),I.sources.USER)}else this.quill.format(e,i,I.sources.USER);this.update(o)}),this.controls.push([e,t])}update(t){const e=t==null?{}:this.quill.getFormat(t);this.controls.forEach(s=>{const[r,i]=s;if(i.tagName==="SELECT"){let o=null;if(t==null)o=null;else if(e[r]==null)o=i.querySelector("option[selected]");else if(!Array.isArray(e[r])){let l=e[r];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),o=i.querySelector(`option[value="${l}"]`)}o==null?(i.value="",i.selectedIndex=-1):o.selected=!0}else if(t==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const o=e[r],l=o===i.getAttribute("value")||o!=null&&o.toString()===i.getAttribute("value")||o==null&&!i.getAttribute("value");i.classList.toggle("ql-active",l),i.setAttribute("aria-pressed",l.toString())}else{const o=e[r]!=null;i.classList.toggle("ql-active",o),i.setAttribute("aria-pressed",o.toString())}})}}Zc.DEFAULTS={};function Gh(n,t,e){const s=document.createElement("button");s.setAttribute("type","button"),s.classList.add(`ql-${t}`),s.setAttribute("aria-pressed","false"),e!=null?(s.value=e,s.setAttribute("aria-label",`${t}: ${e}`)):s.setAttribute("aria-label",t),n.appendChild(s)}function PC(n,t){Array.isArray(t[0])||(t=[t]),t.forEach(e=>{const s=document.createElement("span");s.classList.add("ql-formats"),e.forEach(r=>{if(typeof r=="string")Gh(s,r);else{const i=Object.keys(r)[0],o=r[i];Array.isArray(o)?DC(s,i,o):Gh(s,i,o)}}),n.appendChild(s)})}function DC(n,t,e){const s=document.createElement("select");s.classList.add(`ql-${t}`),e.forEach(r=>{const i=document.createElement("option");r!==!1?i.setAttribute("value",String(r)):i.setAttribute("selected","selected"),s.appendChild(i)}),n.appendChild(s)}Zc.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(e=>{this.quill.scroll.query(e,ct.INLINE)!=null&&this.quill.format(e,!1,I.sources.USER)})}else this.quill.removeFormat(n.index,n.length,I.sources.USER)},direction(n){const{align:t}=this.quill.getFormat();n==="rtl"&&t==null?this.quill.format("align","right",I.sources.USER):!n&&t==="right"&&this.quill.format("align",!1,I.sources.USER),this.quill.format("direction",n,I.sources.USER)},indent(n){const t=this.quill.getSelection(),e=this.quill.getFormat(t),s=parseInt(e.indent||0,10);if(n==="+1"||n==="-1"){let r=n==="+1"?1:-1;e.direction==="rtl"&&(r*=-1),this.quill.format("indent",s+r,I.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,I.sources.USER)},list(n){const t=this.quill.getSelection(),e=this.quill.getFormat(t);n==="check"?e.list==="checked"||e.list==="unchecked"?this.quill.format("list",!1,I.sources.USER):this.quill.format("list","unchecked",I.sources.USER):this.quill.format("list",n,I.sources.USER)}}};const jC='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',HC='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',FC='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',UC='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',zC='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',WC='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',VC='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',KC='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',Xh='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',GC='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',XC='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',YC='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',ZC='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',QC='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',JC='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',tE='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',eE='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',nE='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',sE='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',rE='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',iE='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',oE='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',lE='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',aE='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',cE='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',uE='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',hE='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',dE='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',fE='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',pE='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',gE='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',mE='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',bE='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Ci={align:{"":jC,center:HC,right:FC,justify:UC},background:zC,blockquote:WC,bold:VC,clean:KC,code:Xh,"code-block":Xh,color:GC,direction:{"":XC,rtl:YC},formula:ZC,header:{1:QC,2:JC,3:tE,4:eE,5:nE,6:sE},italic:rE,image:iE,indent:{"+1":oE,"-1":lE},link:aE,list:{bullet:cE,check:uE,ordered:hE},script:{sub:dE,super:fE},strike:pE,table:gE,underline:mE,video:bE},vE='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Yh=0;function Zh(n,t){n.setAttribute(t,`${n.getAttribute(t)!=="true"}`)}class il{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Zh(this.label,"aria-expanded"),Zh(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0",e.setAttribute("role","button"),e.classList.add("ql-picker-item");const s=t.getAttribute("value");return s&&e.setAttribute("data-value",s),t.textContent&&e.setAttribute("data-label",t.textContent),e.addEventListener("click",()=>{this.selectItem(e,!0)}),e.addEventListener("keydown",r=>{switch(r.key){case"Enter":this.selectItem(e,!0),r.preventDefault();break;case"Escape":this.escape(),r.preventDefault();break}}),e}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=vE,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${Yh}`,Yh+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(e=>{const s=this.buildItem(e);t.appendChild(s),e.selected===!0&&this.selectItem(s)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=this.container.querySelector(".ql-selected");t!==s&&(s!=null&&s.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const s=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(s)}else this.selectItem(null);const e=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}}class Op extends il{constructor(t,e){super(t),this.label.innerHTML=e,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(s=>{s.classList.add("ql-primary")})}buildItem(t){const e=super.buildItem(t);return e.style.backgroundColor=t.getAttribute("value")||"",e}selectItem(t,e){super.selectItem(t,e);const s=this.label.querySelector(".ql-color-label"),r=t&&t.getAttribute("data-value")||"";s&&(s.tagName==="line"?s.style.stroke=r:s.style.fill=r)}}class Mp extends il{constructor(t,e){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(s=>{s.innerHTML=e[s.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const s=t||this.defaultItem;if(s!=null){if(this.label.innerHTML===s.innerHTML)return;this.label.innerHTML=s.innerHTML}}}const yE=n=>{const{overflowY:t}=getComputedStyle(n,null);return t!=="visible"&&t!=="clip"};class Rp{constructor(t,e){this.quill=t,this.boundsContainer=e||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,yE(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2,s=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`,this.root.style.top=`${s}px`,this.root.classList.remove("ql-flip");const r=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let o=0;if(i.right>r.right&&(o=r.right-i.right,this.root.style.left=`${e+o}px`),i.left<r.left&&(o=r.left-i.left,this.root.style.left=`${e+o}px`),i.bottom>r.bottom){const l=i.bottom-i.top,a=t.bottom-t.top+l;this.root.style.top=`${s-a}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const wE=[!1,"center","right","justify"],xE=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],CE=[!1,"serif","monospace"],EE=["1","2","3",!1],TE=["small",!1,"large","huge"];class Ri extends vr{constructor(t,e){super(t,e);const s=r=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",s);return}this.tooltip!=null&&!this.tooltip.root.contains(r.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(r.target)||i.close()})};t.emitter.listenDOM("click",document.body,s)}addModule(t){const e=super.addModule(t);return t==="toolbar"&&this.extendToolbar(e),e}buildButtons(t,e){Array.from(t).forEach(s=>{(s.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),e[i]!=null))if(i==="direction")s.innerHTML=e[i][""]+e[i].rtl;else if(typeof e[i]=="string")s.innerHTML=e[i];else{const o=s.value||"";o!=null&&e[i][o]&&(s.innerHTML=e[i][o])}})})}buildPickers(t,e){this.pickers=Array.from(t).map(r=>{if(r.classList.contains("ql-align")&&(r.querySelector("option")==null&&jr(r,wE),typeof e.align=="object"))return new Mp(r,e.align);if(r.classList.contains("ql-background")||r.classList.contains("ql-color")){const i=r.classList.contains("ql-background")?"background":"color";return r.querySelector("option")==null&&jr(r,xE,i==="background"?"#ffffff":"#000000"),new Op(r,e[i])}return r.querySelector("option")==null&&(r.classList.contains("ql-font")?jr(r,CE):r.classList.contains("ql-header")?jr(r,EE):r.classList.contains("ql-size")&&jr(r,TE)),new il(r)});const s=()=>{this.pickers.forEach(r=>{r.update()})};this.quill.on(rt.events.EDITOR_CHANGE,s)}}Ri.DEFAULTS=rs({},vr.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class qp extends Rp{constructor(t,e){super(t,e),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;e!=null?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const s=this.quill.getBounds(this.quill.selection.savedRange);s!=null&&this.position(s),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,rt.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,rt.sources.USER)),this.quill.root.scrollTop=e;break}case"video":t=NE(t);case"formula":{if(!t)break;const e=this.quill.getSelection(!0);if(e!=null){const s=e.index+e.length;this.quill.insertEmbed(s,this.root.getAttribute("data-mode"),t,rt.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(s+1," ",rt.sources.USER),this.quill.setSelection(s+2,rt.sources.USER)}break}}this.textbox.value="",this.hide()}}function NE(n){let t=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:n}function jr(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(s=>{const r=document.createElement("option");s===e?r.setAttribute("selected","selected"):r.setAttribute("value",String(s)),n.appendChild(r)})}const AE=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class kp extends qp{constructor(t,e){super(t,e),this.quill.on(rt.events.EDITOR_CHANGE,(s,r,i,o)=>{if(s===rt.events.SELECTION_CHANGE)if(r!=null&&r.length>0&&o===rt.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(r.index,r.length);if(l.length===1){const a=this.quill.getBounds(r);a!=null&&this.position(a)}else{const a=l[l.length-1],c=this.quill.getIndex(a),u=Math.min(a.length()-1,r.index+r.length-c),f=this.quill.getBounds(new As(c,u));f!=null&&this.position(f)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(rt.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const e=this.quill.getBounds(t);e!=null&&this.position(e)}},1)})}cancel(){this.show()}position(t){const e=super.position(t),s=this.root.querySelector(".ql-tooltip-arrow");return s.style.marginLeft="",e!==0&&(s.style.marginLeft=`${-1*e-s.offsetWidth/2}px`),e}}w(kp,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class Bp extends Ri{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=AE),super(t,e),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new kp(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),Ci),this.buildPickers(t.container.querySelectorAll("select"),Ci))}}Bp.DEFAULTS=rs({},Ri.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,I.sources.USER)}}}}});const SE=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class $p extends qp{constructor(){super(...arguments);w(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const s=this.linkRange;this.restoreFocus(),this.quill.formatText(s,"link",!1,rt.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(rt.events.SELECTION_CHANGE,(e,s,r)=>{if(e!=null){if(e.length===0&&r===rt.sources.USER){const[i,o]=this.quill.scroll.descendant(Jn,e.index);if(i!=null){this.linkRange=new As(e.index-o,i.length());const l=Jn.formats(i.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const a=this.quill.getBounds(this.linkRange);a!=null&&this.position(a);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}w($p,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class Pp extends Ri{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=SE),super(t,e),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),Ci),this.buildPickers(t.container.querySelectorAll("select"),Ci),this.tooltip=new $p(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(e,s)=>{t.handlers.link.call(t,!s.format.link)}))}}Pp.DEFAULTS=rs({},Ri.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const t=this.quill.getSelection();if(t==null||t.length===0)return;let e=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(e)&&e.indexOf("mailto:")!==0&&(e=`mailto:${e}`);const{tooltip:s}=this.quill.theme;s.edit("link",e)}else this.quill.format("link",!1,I.sources.USER)}}}}});I.register({"attributors/attribute/direction":bp,"attributors/class/align":pp,"attributors/class/background":Wx,"attributors/class/color":zx,"attributors/class/direction":vp,"attributors/class/font":xp,"attributors/class/size":Ep,"attributors/style/align":gp,"attributors/style/background":Wc,"attributors/style/color":zc,"attributors/style/direction":yp,"attributors/style/font":Cp,"attributors/style/size":Tp},!0);I.register({"formats/align":pp,"formats/direction":vp,"formats/indent":kC,"formats/background":Wc,"formats/color":zc,"formats/font":xp,"formats/size":Ep,"formats/blockquote":tc,"formats/code-block":re,"formats/header":ec,"formats/list":Mi,"formats/bold":xi,"formats/code":Vc,"formats/italic":nc,"formats/link":Jn,"formats/script":sc,"formats/strike":rc,"formats/underline":ic,"formats/formula":mo,"formats/image":oc,"formats/video":bo,"modules/syntax":_p,"modules/table":$C,"modules/toolbar":Zc,"themes/bubble":Bp,"themes/snow":Pp,"ui/icons":Ci,"ui/picker":il,"ui/icon-picker":Mp,"ui/color-picker":Op,"ui/tooltip":Rp},!0);const LE=Wo({__name:"vue-quill",setup(n){const e={debug:"info",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],["link","image","video","formula"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["table","clean"]]},placeholder:"Compose an epic...",theme:"snow"};return Sc(()=>{const s=new I("#quill-editor",e);console.log(s)}),(s,r)=>(Xo(),Yo(Se,null,[r[0]||(r[0]=hr("div",null,"Quill",-1)),r[1]||(r[1]=hr("div",{id:"quill-editor"},null,-1))],64))}}),M={container:"table-up-container",tableCaption:"table-up-caption",tableWrapper:"table-up",tableMain:"table-up-main",tableColgroup:"table-up-colgroup",tableCol:"table-up-col",tableBody:"table-up-body",tableRow:"table-up-row",tableCell:"table-up-cell",tableCellInner:"table-up-cell-inner"},Bt={colMinWidthPre:5,colMinWidthPx:40,colDefaultWidth:100,rowMinHeightPx:36},_o={AFTER_TABLE_RESIZE:"after-table-resize"},va={moduleName:"table-up"},IE=[["rgb(255, 255, 255)","rgb(0, 0, 0)","rgb(72, 83, 104)","rgb(41, 114, 244)","rgb(0, 163, 245)","rgb(49, 155, 98)","rgb(222, 60, 54)","rgb(248, 136, 37)","rgb(245, 196, 0)","rgb(153, 56, 215)"],["rgb(242, 242, 242)","rgb(127, 127, 127)","rgb(243, 245, 247)","rgb(229, 239, 255)","rgb(229, 246, 255)","rgb(234, 250, 241)","rgb(254, 233, 232)","rgb(254, 243, 235)","rgb(254, 249, 227)","rgb(253, 235, 255)"],["rgb(216, 216, 216)","rgb(89, 89, 89)","rgb(197, 202, 211)","rgb(199, 220, 255)","rgb(199, 236, 255)","rgb(195, 234, 213)","rgb(255, 201, 199)","rgb(255, 220, 196)","rgb(255, 238, 173)","rgb(242, 199, 255)"],["rgb(191, 191, 191)","rgb(63, 63, 63)","rgb(128, 139, 158)","rgb(153, 190, 255)","rgb(153, 221, 255)","rgb(152, 215, 182)","rgb(255, 156, 153)","rgb(255, 186, 132)","rgb(255, 226, 112)","rgb(213, 142, 255)"],["rgb(165, 165, 165)","rgb(38, 38, 38)","rgb(53, 59, 69)","rgb(20, 80, 184)","rgb(18, 116, 165)","rgb(39, 124, 79)","rgb(158, 30, 26)","rgb(184, 96, 20)","rgb(163, 130, 0)","rgb(94, 34, 129)"],["rgb(147, 147, 147)","rgb(13, 13, 13)","rgb(36, 39, 46)","rgb(12, 48, 110)","rgb(10, 65, 92)","rgb(24, 78, 50)","rgb(88, 17, 14)","rgb(92, 48, 10)","rgb(102, 82, 0)","rgb(59, 21, 81)"]],_E="table-up",OE=new Set([M.tableCellInner]);function Dp(n){return!(!n||!n.parent)&&(t=n.parent,!!OE.has(t.statics.blotName)||Dp(n.parent));var t}function zt(n,t=_E){const e=t?`${t}-`:"";return{b:()=>`${e}${n}`,be:s=>s?`${e}${n}__${s}`:"",bm:s=>s?`${e}${n}--${s}`:"",bem:(s,r)=>s&&r?`${e}${n}__${s}--${r}`:"",ns:s=>s?`${e}${s}`:"",bs:s=>s?`${e}${n}-${s}`:"",cv:s=>s?`--${e}${s}`:"",is:s=>`is-${s}`}}function jt(n,t){let e=n.parent;for(;e&&e.statics.blotName!==t&&e!==n.scroll;)e=e.parent;if(e===n.scroll)throw new Error(`${n.statics.blotName} must be a child of ${t}`);return e}function Ei(n,t){const e=new Array(t.length),s=new Map(t.map((i,o)=>[i,o]));let r=n.parent;for(;r&&r!==n.scroll&&s.size!==0;)s.has(r.statics.blotName)&&(e[s.get(r.statics.blotName)]=r,s.delete(r.statics.blotName)),r=r.parent;if(s.size>0)throw new Error(`${n.statics.blotName} must be a child of ${Array.from(s.keys()).join(", ")}`);return e}function Qh(n){const t=new Map;let e=n;for(;e&&e.statics.blotName!=="scroll";)t.set(e.statics.blotName,e),e=e.parent;return t}function ws(n,t){const e=[],s=n.children.iterator();let r=null;for(;r=s();)r instanceof t&&e.push(r);return e}function ME(n,t){for(const e of Object.getOwnPropertyNames(t))/^constructor$/.test(e)||Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e));return n}function lr(n,t){return n=Math.min(t,Math.max(0,Number.parseFloat(`${n}`))),Math.abs(n-t)<1e-6?1:n%t/Number.parseFloat(t)}function Jh(n){return{h:Math.min(360,Math.max(0,n.h)),s:Math.min(100,Math.max(0,n.s)),b:Math.min(100,Math.max(0,n.b)),a:Math.min(1,Math.max(0,n.a))}}function td(n){let{r:t,g:e,b:s,a:r}=n;t=lr(t,255),e=lr(e,255),s=lr(s,255);const i=Math.max(t,e,s),o=Math.min(t,e,s);let l;const a=i,c=i-o,u=i===0?0:c/i;if(i===o)l=0;else{switch(i){case t:l=(e-s)/c+(e<s?6:0);break;case e:l=(s-t)/c+2;break;case s:l=(t-e)/c+4}l/=6}return{h:360*l,s:100*u,b:100*a,a:r}}function vo(n){let{h:t,s:e,b:s,a:r}=n;t=6*lr(t,360),e=lr(e,100),s=lr(s,100);const i=Math.floor(t),o=t-i,l=s*(1-e),a=s*(1-o*e),c=s*(1-(1-o)*e),u=i%6,f=[s,a,l,l,c,s][u],d=[c,s,s,a,l,l][u],p=[l,l,c,s,s,a][u];return{r:Math.round(255*f),g:Math.round(255*d),b:Math.round(255*p),a:r}}function jp(n){const t=[n.r.toString(16),n.g.toString(16),n.b.toString(16),Math.round(255*n.a).toString(16)];for(const e in t)t[e].length===1&&(t[e]=`0${t[e]}`);return t.join("")}const ed=n=>jp(vo(n)),lc=n=>typeof n=="function",RE=Array.isArray,ri=n=>typeof n=="string",ya=n=>n!==null&&typeof n=="object";function Oo(n){const{type:t="default",content:e}=n||{},s=zt("button"),r=document.createElement("button");return r.classList.add(s.b(),t),e&&(ri(e)?r.textContent=e:r.appendChild(e)),r}function qE(n={}){let r=td((i=(i=n.color||"#ff0000").startsWith("#")?i.slice(1):i,{r:Number.parseInt(i.slice(0,2),16),g:Number.parseInt(i.slice(2,4),16),b:Number.parseInt(i.slice(4,6),16),a:Number((Number.parseInt(i.slice(6,8)||"ff",16)/255).toFixed(2))}));var i;const o=zt("color-picker"),l=document.createElement("div");l.classList.add(o.b());const a=document.createElement("div");a.classList.add(o.be("content"));const c=document.createElement("div");c.classList.add(o.be("selector"));const u=document.createElement("div");u.classList.add(o.be("background")),c.appendChild(u);const f=document.createElement("div");f.classList.add(o.be("background-handle")),u.appendChild(f);const d=document.createElement("div");d.classList.add(o.be("alpha"));const p=document.createElement("div");p.classList.add(o.be("alpha-bg"));const g=document.createElement("div");g.classList.add(o.be("alpha-handle")),d.appendChild(p),d.appendChild(g);const b=document.createElement("div");b.classList.add(o.be("hue"));const v=document.createElement("div");v.classList.add(o.be("hue-handle")),b.appendChild(v);const E=document.createElement("div");E.classList.add(o.be("action"));const[N,S,_,D]=["r","g","b","a"].map(j=>{const V=document.createElement("div");V.classList.add(o.be("action-item"),j);const nt=document.createElement("label");nt.textContent=j.toUpperCase();const J=document.createElement("input");return J.classList.add(o.be("input")),J.addEventListener("input",()=>{J.value=J.value.replaceAll(/[^0-9]/g,"")}),J.addEventListener("change",()=>{let gt=Math.round(Number(J.value));j==="a"&&(gt/=100),C(Jh(td(Object.assign({},vo(r),{[j]:gt})))),ft()}),V.appendChild(nt),V.appendChild(J),E.appendChild(V),J});a.appendChild(b),a.appendChild(c),a.appendChild(d),l.appendChild(a),l.appendChild(E);let Q=!1,tt=!1,lt=!1;function bt(){const j=ed(r);for(const[V,nt]of[N,S,_].entries())nt.value=String(Number.parseInt(j[2*V]+j[2*V+1],16));D.value=String((100*r.a).toFixed(0))}function ft(){Object.assign(f.style,{left:`${Math.floor(230*r.s/100)}px`,top:`${Math.floor(150*(100-r.b)/100)}px`}),c.style.backgroundColor=`#${jp(vo({h:r.h,s:100,b:100,a:1}))}`,v.style.top=`${Math.floor(150-150*r.h/360)}px`,g.style.left=100*r.a+"%",function(){const{r:j,g:V,b:nt}=vo(r);p.style.background=`linear-gradient(to right, rgba(${j}, ${V}, ${nt}, 0) 0%, rgba(${j}, ${V}, ${nt}, 1) 100%)`}(),bt()}function C(j){r=Jh(Object.assign({},r,j)),bt(),n.onChange&&n.onChange(`#${ed(r)}`)}function $(j){const V=c.getBoundingClientRect(),nt=V.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),J=V.left+document.body.scrollLeft;C({s:Math.floor(100*Math.max(0,Math.min(230,j.pageX-J))/230),b:Math.floor(100*(150-Math.max(0,Math.min(150,j.pageY-nt)))/150)}),ft()}function A(j){const V=b.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0);C({h:Math.floor(360*(150-Math.max(0,Math.min(150,j.pageY-V)))/150)}),ft()}function F(j){const{pageX:V}=j,nt=d.getBoundingClientRect();let J=V-nt.left;J=Math.max(10/2,J),J=Math.min(J,nt.width-10/2),C({a:Math.round((J-5)/(nt.width-10)*100)/100}),ft()}function P(j){Q&&(j.preventDefault(),$(j)),tt&&(j.preventDefault(),A(j)),lt&&(j.preventDefault(),F(j))}function O(){document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",O),Q=!1}function q(){document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",q),tt=!1}function H(){document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",H),lt=!1}return c.addEventListener("mousedown",function(j){document.addEventListener("mousemove",P),document.addEventListener("mouseup",O),Q=!0,$(j)}),b.addEventListener("mousedown",function(j){document.addEventListener("mousemove",P),document.addEventListener("mouseup",q),tt=!0,A(j)}),d.addEventListener("mousedown",function(j){document.addEventListener("mousemove",P),document.addEventListener("mouseup",H),lt=!0,F(j)}),ft(),l}let nd=8e3;function Hp({child:n,target:t=document.body,beforeClose:e=()=>{}}={}){const s=zt("dialog"),r=t,i=document.createElement("div");i.classList.add(s.b()),i.style.zIndex=String(nd);const o=document.createElement("div");if(o.classList.add(s.be("overlay")),i.appendChild(o),n){const c=document.createElement("div");c.classList.add(s.be("content")),c.appendChild(n),o.appendChild(c),c.addEventListener("click",u=>{u.stopPropagation()})}const l=getComputedStyle(r).overflow;r.style.overflow="hidden",r.appendChild(i);const a=()=>{e(),i.remove(),r.style.overflow=l};return i.addEventListener("click",a),nd+=1,{dialog:i,close:a}}function sd(n,t){const e=zt("input");t.type||(t.type="text"),t.value||(t.value="");const s=document.createElement("div");if(s.classList.add(e.be("item")),n){const o=document.createElement("span");o.classList.add(e.be("label")),o.textContent=n,s.appendChild(o)}const r=document.createElement("div");r.classList.add(e.be("input"));const i=document.createElement("input");for(const o in t)i.setAttribute(o,t[o]);return(t.max||t.min)&&i.addEventListener("blur",()=>{t.max&&t.max<=Number(i.value)&&(i.value=String(t.max)),t.min&&t.min>=Number(i.value)&&(i.value=String(t.min))}),r.appendChild(i),s.appendChild(r),i.addEventListener("focus",()=>{r.classList.add("focus")}),i.addEventListener("blur",()=>{r.classList.remove("focus")}),{item:s,input:i,errorTip:o=>{let l;return r.classList.contains("error")?l=r.querySelector(`.${e.be("error-tip")}`):(l=document.createElement("span"),l.classList.add(e.be("error-tip")),r.appendChild(l)),l.textContent=o,r.classList.add("error"),{removeError:()=>{r.classList.remove("error"),l.remove()}}}}}function kE(n={}){const t=zt("select-box"),e=document.createElement("div");e.classList.add(t.b());const s=document.createElement("div");s.classList.add(t.be("block"));for(let i=0;i<(n.row||8);i++)for(let o=0;o<(n.col||8);o++){const l=document.createElement("div");l.classList.add(t.be("item")),l.dataset.row=String(i+1),l.dataset.col=String(o+1),s.appendChild(l)}const r=()=>{const{row:i,col:o}=e.dataset;for(const a of Array.from(s.querySelectorAll(".active")))a.classList.remove("active");if(!i||!o)return;const l=Array.from(s.children);for(let a=0;a<l.length;a++){const{row:c,col:u}=l[a].dataset;if(c>i&&u>o)return;c<=i&&u<=o?l[a].classList.add("active"):l[a].classList.remove("active")}};if(s.addEventListener("mousemove",i=>{if(!i.target)return;const{row:o,col:l}=i.target.dataset;o&&l&&(e.dataset.row=o,e.dataset.col=l,r())}),s.addEventListener("mouseleave",()=>{e.removeAttribute("data-row"),e.removeAttribute("data-col"),r()}),s.addEventListener("click",()=>{const{row:i,col:o}=e.dataset;i&&o&&n.onSelect&&n.onSelect(Number(i),Number(o))}),e.appendChild(s),n.customBtn){const i=n.texts||{},o=document.createElement("div");o.classList.add(t.be("custom")),o.textContent=i.customBtnText||"Custom",o.addEventListener("click",async()=>{const l=await async function(a={}){const c=zt("creator"),u=document.createElement("div");u.classList.add(c.b());const f=document.createElement("div");f.classList.add(c.be("input"));const{item:d,input:p,errorTip:g}=sd(a.rowText||"Row",{type:"number",value:String(a.row||""),max:99}),{item:b,input:v,errorTip:E}=sd(a.colText||"Column",{type:"number",value:String(a.col||""),max:99});f.appendChild(d),f.appendChild(b),u.appendChild(f);const N=document.createElement("div");N.classList.add(c.be("control"));const S=Oo({type:"confirm",content:a.confirmText||"Confirm"}),_=Oo({type:"default",content:a.cancelText||"Cancel"});N.appendChild(S),N.appendChild(_),u.appendChild(N);const D=(tt=Number(p.value),lt=Number(v.value))=>{if(Number.isNaN(tt)||tt<=0)g(a.notPositiveNumberError||"Please enter a positive integer");else{if(!(Number.isNaN(lt)||lt<=0))return{row:tt,col:lt};E(a.notPositiveNumberError||"Please enter a positive integer")}},Q=tt=>{tt.key==="Escape"&&(close(),document.removeEventListener("keydown",Q))};return new Promise((tt,lt)=>{const{close:bt}=Hp({child:u,beforeClose:lt});p.focus();for(const ft of[p,v])ft.addEventListener("keydown",C=>{if(C.key==="Enter"){const $=D();$&&(tt($),bt())}});S.addEventListener("click",async()=>{const ft=D();ft&&(tt(ft),bt())}),document.addEventListener("keydown",Q),_.addEventListener("click",bt)})}(i);l&&n.onSelect&&n.onSelect(l.row,l.col)}),e.appendChild(o)}return e}const Mo=Math.min,Cs=Math.max,Ro=Math.round,oo=Math.floor,hn=n=>({x:n,y:n}),BE={left:"right",right:"left",bottom:"top",top:"bottom"},$E={start:"end",end:"start"};function rd(n,t,e){return Cs(n,Mo(t,e))}function wr(n,t){return typeof n=="function"?n(t):n}function is(n){return n.split("-")[0]}function qo(n){return n.split("-")[1]}function Qc(n){return n==="x"?"y":"x"}function Fp(n){return n==="y"?"height":"width"}function Ss(n){return["top","bottom"].includes(is(n))?"y":"x"}function Up(n){return Qc(Ss(n))}function wa(n){return n.replace(/start|end/g,t=>$E[t])}function lo(n){return n.replace(/left|right|bottom|top/g,t=>BE[t])}function ko(n){const{x:t,y:e,width:s,height:r}=n;return{width:s,height:r,top:e,left:t,right:t+s,bottom:e+r,x:t,y:e}}function id(n,t,e){let{reference:s,floating:r}=n;const i=Ss(t),o=Up(t),l=Fp(o),a=is(t),c=i==="y",u=s.x+s.width/2-r.width/2,f=s.y+s.height/2-r.height/2,d=s[l]/2-r[l]/2;let p;switch(a){case"top":p={x:u,y:s.y-r.height};break;case"bottom":p={x:u,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:f};break;case"left":p={x:s.x-r.width,y:f};break;default:p={x:s.x,y:s.y}}switch(qo(t)){case"start":p[o]-=d*(e&&c?-1:1);break;case"end":p[o]+=d*(e&&c?-1:1)}return p}async function zp(n,t){var e;t===void 0&&(t={});const{x:s,y:r,platform:i,rects:o,elements:l,strategy:a}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:p=0}=wr(t,n),g=function(D){return typeof D!="number"?function(Q){return{top:0,right:0,bottom:0,left:0,...Q}}(D):{top:D,right:D,bottom:D,left:D}}(p),b=l[d?f==="floating"?"reference":"floating":f],v=ko(await i.getClippingRect({element:(e=await(i.isElement==null?void 0:i.isElement(b)))==null||e?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:c,rootBoundary:u,strategy:a})),E=f==="floating"?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),S=await(i.isElement==null?void 0:i.isElement(N))&&await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1},_=ko(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:E,offsetParent:N,strategy:a}):E);return{top:(v.top-_.top+g.top)/S.y,bottom:(_.bottom-v.bottom+g.bottom)/S.y,left:(v.left-_.left+g.left)/S.x,right:(_.right-v.right+g.right)/S.x}}function ol(){return typeof window<"u"}function xr(n){return Wp(n)?(n.nodeName||"").toLowerCase():"#document"}function Ce(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function dn(n){var t;return(t=(Wp(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function Wp(n){return!!ol()&&(n instanceof Node||n instanceof Ce(n).Node)}function Ve(n){return!!ol()&&(n instanceof Element||n instanceof Ce(n).Element)}function mn(n){return!!ol()&&(n instanceof HTMLElement||n instanceof Ce(n).HTMLElement)}function od(n){return!(!ol()||typeof ShadowRoot>"u")&&(n instanceof ShadowRoot||n instanceof Ce(n).ShadowRoot)}function Ti(n){const{overflow:t,overflowX:e,overflowY:s,display:r}=Ke(n);return/auto|scroll|overlay|hidden|clip/.test(t+s+e)&&!["inline","contents"].includes(r)}function PE(n){return["table","td","th"].includes(xr(n))}function Bo(n){return[":popover-open",":modal"].some(t=>{try{return n.matches(t)}catch{return!1}})}function ac(n){const t=Jc(),e=Ve(n)?Ke(n):n;return["transform","translate","scale","rotate","perspective"].some(s=>!!e[s]&&e[s]!=="none")||!!e.containerType&&e.containerType!=="normal"||!t&&!!e.backdropFilter&&e.backdropFilter!=="none"||!t&&!!e.filter&&e.filter!=="none"||["transform","translate","scale","rotate","perspective","filter"].some(s=>(e.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(e.contain||"").includes(s))}function Jc(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function ar(n){return["html","body","#document"].includes(xr(n))}function Ke(n){return Ce(n).getComputedStyle(n)}function ll(n){return Ve(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ts(n){if(xr(n)==="html")return n;const t=n.assignedSlot||n.parentNode||od(n)&&n.host||dn(n);return od(t)?t.host:t}function Vp(n){const t=ts(n);return ar(t)?n.ownerDocument?n.ownerDocument.body:n.body:mn(t)&&Ti(t)?t:Vp(t)}function Ni(n,t,e){var s;t===void 0&&(t=[]),e===void 0&&(e=!0);const r=Vp(n),i=r===((s=n.ownerDocument)==null?void 0:s.body),o=Ce(r);if(i){const l=cc(o);return t.concat(o,o.visualViewport||[],Ti(r)?r:[],l&&e?Ni(l):[])}return t.concat(r,Ni(r,[],e))}function cc(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Kp(n){const t=Ke(n);let e=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const r=mn(n),i=r?n.offsetWidth:e,o=r?n.offsetHeight:s,l=Ro(e)!==i||Ro(s)!==o;return l&&(e=i,s=o),{width:e,height:s,$:l}}function tu(n){return Ve(n)?n:n.contextElement}function cr(n){const t=tu(n);if(!mn(t))return hn(1);const e=t.getBoundingClientRect(),{width:s,height:r,$:i}=Kp(t);let o=(i?Ro(e.width):e.width)/s,l=(i?Ro(e.height):e.height)/r;return o&&Number.isFinite(o)||(o=1),l&&Number.isFinite(l)||(l=1),{x:o,y:l}}const DE=hn(0);function Gp(n){const t=Ce(n);return Jc()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:DE}function Ls(n,t,e,s){t===void 0&&(t=!1),e===void 0&&(e=!1);const r=n.getBoundingClientRect(),i=tu(n);let o=hn(1);t&&(s?Ve(s)&&(o=cr(s)):o=cr(n));const l=function(d,p,g){return p===void 0&&(p=!1),!(!g||p&&g!==Ce(d))&&p}(i,e,s)?Gp(i):hn(0);let a=(r.left+l.x)/o.x,c=(r.top+l.y)/o.y,u=r.width/o.x,f=r.height/o.y;if(i){const d=Ce(i),p=s&&Ve(s)?Ce(s):s;let g=d,b=cc(g);for(;b&&s&&p!==g;){const v=cr(b),E=b.getBoundingClientRect(),N=Ke(b),S=E.left+(b.clientLeft+parseFloat(N.paddingLeft))*v.x,_=E.top+(b.clientTop+parseFloat(N.paddingTop))*v.y;a*=v.x,c*=v.y,u*=v.x,f*=v.y,a+=S,c+=_,g=Ce(b),b=cc(g)}}return ko({width:u,height:f,x:a,y:c})}function eu(n,t){const e=ll(n).scrollLeft;return t?t.left+e:Ls(dn(n)).left+e}function Xp(n,t,e){e===void 0&&(e=!1);const s=n.getBoundingClientRect();return{x:s.left+t.scrollLeft-(e?0:eu(n,s)),y:s.top+t.scrollTop}}function ld(n,t,e){let s;if(t==="viewport")s=function(r,i){const o=Ce(r),l=dn(r),a=o.visualViewport;let c=l.clientWidth,u=l.clientHeight,f=0,d=0;if(a){c=a.width,u=a.height;const p=Jc();(!p||p&&i==="fixed")&&(f=a.offsetLeft,d=a.offsetTop)}return{width:c,height:u,x:f,y:d}}(n,e);else if(t==="document")s=function(r){const i=dn(r),o=ll(r),l=r.ownerDocument.body,a=Cs(i.scrollWidth,i.clientWidth,l.scrollWidth,l.clientWidth),c=Cs(i.scrollHeight,i.clientHeight,l.scrollHeight,l.clientHeight);let u=-o.scrollLeft+eu(r);const f=-o.scrollTop;return Ke(l).direction==="rtl"&&(u+=Cs(i.clientWidth,l.clientWidth)-a),{width:a,height:c,x:u,y:f}}(dn(n));else if(Ve(t))s=function(r,i){const o=Ls(r,!0,i==="fixed"),l=o.top+r.clientTop,a=o.left+r.clientLeft,c=mn(r)?cr(r):hn(1);return{width:r.clientWidth*c.x,height:r.clientHeight*c.y,x:a*c.x,y:l*c.y}}(t,e);else{const r=Gp(n);s={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return ko(s)}function Yp(n,t){const e=ts(n);return!(e===t||!Ve(e)||ar(e))&&(Ke(e).position==="fixed"||Yp(e,t))}function jE(n,t,e){const s=mn(t),r=dn(t),i=e==="fixed",o=Ls(n,!0,i,t);let l={scrollLeft:0,scrollTop:0};const a=hn(0);if(s||!s&&!i)if((xr(t)!=="body"||Ti(r))&&(l=ll(t)),s){const u=Ls(t,!0,i,t);a.x=u.x+t.clientLeft,a.y=u.y+t.clientTop}else r&&(a.x=eu(r));const c=!r||s||i?hn(0):Xp(r,l);return{x:o.left+l.scrollLeft-a.x-c.x,y:o.top+l.scrollTop-a.y-c.y,width:o.width,height:o.height}}function xa(n){return Ke(n).position==="static"}function ad(n,t){if(!mn(n)||Ke(n).position==="fixed")return null;if(t)return t(n);let e=n.offsetParent;return dn(n)===e&&(e=e.ownerDocument.body),e}function cd(n,t){const e=Ce(n);if(Bo(n))return e;if(!mn(n)){let r=ts(n);for(;r&&!ar(r);){if(Ve(r)&&!xa(r))return r;r=ts(r)}return e}let s=ad(n,t);for(;s&&PE(s)&&xa(s);)s=ad(s,t);return s&&ar(s)&&xa(s)&&!ac(s)?e:s||function(r){let i=ts(r);for(;mn(i)&&!ar(i);){if(ac(i))return i;if(Bo(i))return null;i=ts(i)}return null}(n)||e}const HE={convertOffsetParentRelativeRectToViewportRelativeRect:function(n){let{elements:t,rect:e,offsetParent:s,strategy:r}=n;const i=r==="fixed",o=dn(s),l=!!t&&Bo(t.floating);if(s===o||l&&i)return e;let a={scrollLeft:0,scrollTop:0},c=hn(1);const u=hn(0),f=mn(s);if((f||!f&&!i)&&((xr(s)!=="body"||Ti(o))&&(a=ll(s)),mn(s))){const p=Ls(s);c=cr(s),u.x=p.x+s.clientLeft,u.y=p.y+s.clientTop}const d=!o||f||i?hn(0):Xp(o,a,!0);return{width:e.width*c.x,height:e.height*c.y,x:e.x*c.x-a.scrollLeft*c.x+u.x+d.x,y:e.y*c.y-a.scrollTop*c.y+u.y+d.y}},getDocumentElement:dn,getClippingRect:function(n){let{element:t,boundary:e,rootBoundary:s,strategy:r}=n;const i=[...e==="clippingAncestors"?Bo(t)?[]:function(a,c){const u=c.get(a);if(u)return u;let f=Ni(a,[],!1).filter(b=>Ve(b)&&xr(b)!=="body"),d=null;const p=Ke(a).position==="fixed";let g=p?ts(a):a;for(;Ve(g)&&!ar(g);){const b=Ke(g),v=ac(g);v||b.position!=="fixed"||(d=null),(p?!v&&!d:!v&&b.position==="static"&&d&&["absolute","fixed"].includes(d.position)||Ti(g)&&!v&&Yp(a,g))?f=f.filter(E=>E!==g):d=b,g=ts(g)}return c.set(a,f),f}(t,this._c):[].concat(e),s],o=i[0],l=i.reduce((a,c)=>{const u=ld(t,c,r);return a.top=Cs(u.top,a.top),a.right=Mo(u.right,a.right),a.bottom=Mo(u.bottom,a.bottom),a.left=Cs(u.left,a.left),a},ld(t,o,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:cd,getElementRects:async function(n){const t=this.getOffsetParent||cd,e=this.getDimensions,s=await e(n.floating);return{reference:jE(n.reference,await t(n.floating),n.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}},getClientRects:function(n){return Array.from(n.getClientRects())},getDimensions:function(n){const{width:t,height:e}=Kp(n);return{width:t,height:e}},getScale:cr,isElement:Ve,isRTL:function(n){return Ke(n).direction==="rtl"}};function ud(n,t){return n.x===t.x&&n.y===t.y&&n.width===t.width&&n.height===t.height}function Zp(n,t,e,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=s,c=tu(n),u=r||i?[...c?Ni(c):[],...Ni(t)]:[];u.forEach(v=>{r&&v.addEventListener("scroll",e,{passive:!0}),i&&v.addEventListener("resize",e)});const f=c&&l?function(v,E){let N,S=null;const _=dn(v);function D(){var Q;clearTimeout(N),(Q=S)==null||Q.disconnect(),S=null}return function Q(tt,lt){tt===void 0&&(tt=!1),lt===void 0&&(lt=1),D();const bt=v.getBoundingClientRect(),{left:ft,top:C,width:$,height:A}=bt;if(tt||E(),!$||!A)return;const F={rootMargin:-oo(C)+"px "+-oo(_.clientWidth-(ft+$))+"px "+-oo(_.clientHeight-(C+A))+"px "+-oo(ft)+"px",threshold:Cs(0,Mo(1,lt))||1};let P=!0;function O(q){const H=q[0].intersectionRatio;if(H!==lt){if(!P)return Q();H?Q(!1,H):N=setTimeout(()=>{Q(!1,1e-7)},1e3)}H!==1||ud(bt,v.getBoundingClientRect())||Q(),P=!1}try{S=new IntersectionObserver(O,{...F,root:_.ownerDocument})}catch{S=new IntersectionObserver(O,F)}S.observe(v)}(!0),D}(c,e):null;let d,p=-1,g=null;o&&(g=new ResizeObserver(v=>{let[E]=v;E&&E.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var N;(N=g)==null||N.observe(t)})),e()}),c&&!a&&g.observe(c),g.observe(t));let b=a?Ls(n):null;return a&&function v(){const E=Ls(n);b&&!ud(b,E)&&e(),b=E,d=requestAnimationFrame(v)}(),e(),()=>{var v;u.forEach(E=>{r&&E.removeEventListener("scroll",e),i&&E.removeEventListener("resize",e)}),f==null||f(),(v=g)==null||v.disconnect(),g=null,a&&cancelAnimationFrame(d)}}const Qp=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){var e,s;const{x:r,y:i,placement:o,middlewareData:l}=t,a=await async function(c,u){const{placement:f,platform:d,elements:p}=c,g=await(d.isRTL==null?void 0:d.isRTL(p.floating)),b=is(f),v=qo(f),E=Ss(f)==="y",N=["left","top"].includes(b)?-1:1,S=g&&E?-1:1,_=wr(u,c);let{mainAxis:D,crossAxis:Q,alignmentAxis:tt}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return v&&typeof tt=="number"&&(Q=v==="end"?-1*tt:tt),E?{x:Q*S,y:D*N}:{x:D*N,y:Q*S}}(t,n);return o===((e=l.offset)==null?void 0:e.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:r+a.x,y:i+a.y,data:{...a,placement:o}}}}},Jp=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(t){const{x:e,y:s,placement:r}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:E,y:N}=v;return{x:E,y:N}}},...a}=wr(n,t),c={x:e,y:s},u=await zp(t,a),f=Ss(is(r)),d=Qc(f);let p=c[d],g=c[f];if(i){const v=d==="y"?"bottom":"right";p=rd(p+u[d==="y"?"top":"left"],p,p-u[v])}if(o){const v=f==="y"?"bottom":"right";g=rd(g+u[f==="y"?"top":"left"],g,g-u[v])}const b=l.fn({...t,[d]:p,[f]:g});return{...b,data:{x:b.x-e,y:b.y-s,enabled:{[d]:i,[f]:o}}}}}},tg=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var e,s;const{placement:r,middlewareData:i,rects:o,initialPlacement:l,platform:a,elements:c}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:b=!0,...v}=wr(n,t);if((e=i.arrow)!=null&&e.alignmentOffset)return{};const E=is(r),N=Ss(l),S=is(l)===l,_=await(a.isRTL==null?void 0:a.isRTL(c.floating)),D=d||(S||!b?[lo(l)]:function(F){const P=lo(F);return[wa(F),P,wa(P)]}(l)),Q=g!=="none";!d&&Q&&D.push(...function(F,P,O,q){const H=qo(F);let j=function(V,nt,J){const gt=["left","right"],mt=["right","left"],at=["top","bottom"],xt=["bottom","top"];switch(V){case"top":case"bottom":return J?nt?mt:gt:nt?gt:mt;case"left":case"right":return nt?at:xt;default:return[]}}(is(F),O==="start",q);return H&&(j=j.map(V=>V+"-"+H),P&&(j=j.concat(j.map(wa)))),j}(l,b,g,_));const tt=[l,...D],lt=await zp(t,v),bt=[];let ft=((s=i.flip)==null?void 0:s.overflows)||[];if(u&&bt.push(lt[E]),f){const F=function(P,O,q){q===void 0&&(q=!1);const H=qo(P),j=Up(P),V=Fp(j);let nt=j==="x"?H===(q?"end":"start")?"right":"left":H==="start"?"bottom":"top";return O.reference[V]>O.floating[V]&&(nt=lo(nt)),[nt,lo(nt)]}(r,o,_);bt.push(lt[F[0]],lt[F[1]])}if(ft=[...ft,{placement:r,overflows:bt}],!bt.every(F=>F<=0)){var C,$;const F=(((C=i.flip)==null?void 0:C.index)||0)+1,P=tt[F];if(P)return{data:{index:F,overflows:ft},reset:{placement:P}};let O=($=ft.filter(q=>q.overflows[0]<=0).sort((q,H)=>q.overflows[1]-H.overflows[1])[0])==null?void 0:$.placement;if(!O)switch(p){case"bestFit":{var A;const q=(A=ft.filter(H=>{if(Q){const j=Ss(H.placement);return j===N||j==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(j=>j>0).reduce((j,V)=>j+V,0)]).sort((H,j)=>H[1]-j[1])[0])==null?void 0:A[0];q&&(O=q);break}case"initialPlacement":O=l}if(r!==O)return{reset:{placement:O}}}return{}}}},eg=function(n){return n===void 0&&(n={}),{options:n,fn(t){const{x:e,y:s,placement:r,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:a=!0,crossAxis:c=!0}=wr(n,t),u={x:e,y:s},f=Ss(r),d=Qc(f);let p=u[d],g=u[f];const b=wr(l,t),v=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(a){const S=d==="y"?"height":"width",_=i.reference[d]-i.floating[S]+v.mainAxis,D=i.reference[d]+i.reference[S]-v.mainAxis;p<_?p=_:p>D&&(p=D)}if(c){var E,N;const S=d==="y"?"width":"height",_=["top","left"].includes(is(r)),D=i.reference[f]-i.floating[S]+(_&&((E=o.offset)==null?void 0:E[f])||0)+(_?0:v.crossAxis),Q=i.reference[f]+i.reference[S]+(_?0:((N=o.offset)==null?void 0:N[f])||0)-(_?v.crossAxis:0);g<D?g=D:g>Q&&(g=Q)}return{[d]:p,[f]:g}}}},ng=(n,t,e)=>{const s=new Map,r={platform:HE,...e},i={...r.platform,_c:s};return(async(o,l,a)=>{const{placement:c="bottom",strategy:u="absolute",middleware:f=[],platform:d}=a,p=f.filter(Boolean),g=await(d.isRTL==null?void 0:d.isRTL(l));let b=await d.getElementRects({reference:o,floating:l,strategy:u}),{x:v,y:E}=id(b,c,g),N=c,S={},_=0;for(let D=0;D<p.length;D++){const{name:Q,fn:tt}=p[D],{x:lt,y:bt,data:ft,reset:C}=await tt({x:v,y:E,initialPlacement:c,placement:N,strategy:u,middlewareData:S,rects:b,platform:d,elements:{reference:o,floating:l}});v=lt??v,E=bt??E,S={...S,[Q]:{...S[Q],...ft}},C&&_<=50&&(_++,typeof C=="object"&&(C.placement&&(N=C.placement),C.rects&&(b=C.rects===!0?await d.getElementRects({reference:o,floating:l,strategy:u}):C.rects),{x:v,y:E}=id(b,N,g)),D=-1)}return{x:v,y:E,placement:N,strategy:u,middlewareData:S}})(n,t,{...r,platform:i})};let ao;function Ca(n,t={}){const{msg:e="",delay:s=150,content:r,direction:i="bottom",type:o="hover",container:l,onOpen:a,onClose:c,closed:u,onDestroy:f}=t,d=zt("tooltip");if(e||r){ao||(ao=document.createElement("div"),document.body.appendChild(ao));const p=l||ao,g=document.createElement("div");let b,v,E;g.classList.add(d.b(),"hidden","transparent"),r?g.appendChild(r):e&&(g.textContent=e);const N=()=>{E&&E(),ng(n,g,{placement:i,middleware:[tg(),Jp({limiter:eg()}),Qp(4)]}).then(({x:A,y:F})=>{Object.assign(g.style,{left:`${A}px`,top:`${F}px`})})},S=()=>{g.classList.add("hidden"),p.contains(g)&&p.removeChild(g),E&&E(),u&&u()},_=(A=!1)=>{v&&clearTimeout(v),b=setTimeout(()=>{if(a){const F=a(A);if(!A&&F)return}p.appendChild(g),g.removeEventListener("transitionend",S),g.classList.remove("hidden"),E=Zp(n,g,N),g.classList.remove("transparent")},s)},D=(A=!1)=>{b&&clearTimeout(b),v=setTimeout(()=>{if(c){const F=c(A);if(!A&&F)return}(function(F,P,O,q,H){F.addEventListener("transitionend",O,q),setTimeout(()=>{O()},P)})(g,150,S,{once:!0}),g.classList.add("transparent")},s)},Q=()=>{const A=P=>{P.stopPropagation(),D(!1)},F=P=>{P.stopPropagation(),_(),document.removeEventListener("click",A),document.addEventListener("click",A,{once:!0})};return{prepare:()=>{g.addEventListener("click",P=>P.stopPropagation()),n.addEventListener("click",F)},show:_,hide:(P=!1)=>{D(P),document.removeEventListener("click",A)},destroy:()=>{n.removeEventListener("click",F),document.removeEventListener("click",A)}}},tt={hover:()=>{const A=[n,g],F=D.bind(void 0,!1),P=_.bind(void 0,!1);return{prepare:()=>{for(const O of A)O.addEventListener("mouseenter",P),O.addEventListener("mouseleave",F)},show:_,hide:D,destroy:()=>{for(const O of A)O.removeEventListener("mouseenter",P),O.removeEventListener("mouseleave",F)}}},click:Q},{prepare:lt,show:bt,hide:ft,destroy:C}=tt[o]();return lt(),{show:bt,hide:ft,destroy:()=>{ft(!0),f&&f(),C(),E&&E(),g.remove()}}}return null}function FE(n,t,e=0,s=!0){const{x:r,y:i,x1:o,y1:l}=n,{x:a,y:c,x1:u,y1:f}=t;let d,p;return s?(d=o<a+e||r-e>u,p=l<c+e||i-e>f):(d=o<=a+e||r-e>=u,p=l<=c+e||i-e>=f),!(d||p)}function sg(n){let{left:t,top:e,width:s,height:r}=n;const{clientWidth:i,clientHeight:o}=document.documentElement;let l=!1,a=!1;return t+s>i?(t=i-s-8,l=!0):t<0&&(t=8,l=!0),e+r>o?(e=o-r-8,a=!0):e<0&&(e=8,a=!0),{left:t,top:e,leftLimited:l,topLimited:a}}function rg(n,t={}){const e=Symbol("ignoreFirstBind"),s=new Set,r=new ResizeObserver(a=>{t.ignoreFirstBind&&a.some(c=>{const u=c.target,f=u[e];return u[e]=!0,!f})||n(a)}),i=r.observe;r.observe=(a,c)=>{s.add(a),i.call(r,a,c)};const o=r.unobserve;r.unobserve=a=>{s.has(a)&&(s.delete(a),a[e]=void 0),o.call(r,a)};const l=r.disconnect;return r.disconnect=()=>{for(const a of s.values())a[e]=void 0;l.call(r)},r}function qn(n,t){n.addEventListener("scroll",t),this.scrollHandler.push([n,t])}function ur(){for(let n=0;n<this.scrollHandler.length;n++){const[t,e]=this.scrollHandler[n];t.removeEventListener("scroll",e)}this.scrollHandler=[]}function ig(n){const t={},e=n.trim().split(";");for(let s=0;s<e.length;s++){const r=e[s].trim();if(!r)continue;const i=r.indexOf(":");if(i===-1)continue;const o=r.slice(0,Math.max(0,i)).trim(),l=r.slice(Math.max(0,i+1)).trim();t[o]=l}return t}const _e=()=>Math.random().toString(36).slice(2);function $o(n,t){let e;return function(...s){e&&clearTimeout(e),e=setTimeout(()=>{n.apply(this,s)},t)}}const Ea=I.import("parchment"),hd=I.import("blots/container"),UE=I.import("blots/block"),zE=I.import("blots/block/embed"),In=class In extends hd{static create(t){const e=document.createElement(this.tagName);return this.className&&e.classList.add(this.className),e}insertAt(t,e,s){const[r]=this.children.find(t);if(!r){const i=this.scroll.create(this.statics.defaultChild.blotName||"block");this.appendChild(i)}super.insertAt(t,e,s)}optimize(t){if(this.children.length===0)if(this.statics.defaultChild!=null){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove();this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}enforceAllowedChildren(){this.children.forEach(t=>{this.statics.allowedChildren.some(e=>t instanceof e)||(t.statics.scope===Ea.Scope.BLOCK_BLOT?(t.parent instanceof In?(t.next!=null&&t.parent.splitAfter(t),t.prev!=null&&t.parent.splitAfter(t.prev)):(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev)),t.parent.unwrap()):t instanceof Ea.ParentBlot?t.unwrap():t.remove())})}};w(In,"tagName"),w(In,"blotName",M.container),w(In,"scope",Ea.Scope.BLOCK_BLOT),w(In,"allowedChildren",[UE,zE,hd]),w(In,"requiredContainer"),w(In,"defaultChild");let bn=In;const WE=I.import("parchment"),VE=I.import("blots/block");class uc extends VE{replaceWith(t,e){const s=typeof t=="string"?this.scroll.create(t,e):t;if(s instanceof WE.ParentBlot){if(s.statics.blotName===M.tableCellInner){const r=this.parent;if(r.statics.blotName===M.tableCellInner){if(r!=null&&r.insertBefore(s,this.prev?null:this.next),r.statics.blotName===M.tableCellInner){let i=this;for(;i;){const o=i.next;s.appendChild(i),i=o}}else s.appendChild(this);if(r&&r.length()===0){r.remove(),r.parent.statics.blotName===M.tableCell&&r.parent.length()===0&&r.parent.remove();const i=r.parent.parent;i.statics.blotName===M.tableRow&&i.children.length===0&&i.remove()}}else r!=null&&r.insertBefore(s,this.next),s.appendChild(this);return s}this.moveChildren(s)}return this.parent!=null&&(this.parent.insertBefore(s,this.next||void 0),this.remove()),this.attributes.copy(s),s}format(t,e){if(t!==M.tableCellInner||this.parent.statics.blotName!==t||e)super.format(t,e);else try{jt(this,M.tableCellInner).unwrap()}catch{console.error("unwrap TableCellInner error")}}}const es=n=>{return t=n,!Number.isNaN(t)&&Number(t)>0?n:1;var t},dd=I.import("blots/block"),KE=I.import("blots/block/embed");class Ht extends bn{static isAllowStyle(t){for(const e of this.allowStyle)if(t.startsWith(e))return!0;return!1}static create(t){const{tableId:e,rowId:s,colId:r,rowspan:i,colspan:o,style:l}=t,a=super.create();return a.dataset.tableId=e,a.dataset.rowId=s,a.dataset.colId=r,a.dataset.rowspan=String(es(i)),a.dataset.colspan=String(es(o)),l&&(a.dataset.style=l),a}static formats(t){const{tableId:e,rowId:s,colId:r,rowspan:i,colspan:o,style:l}=t.dataset,a={tableId:String(e),rowId:String(s),colId:String(r),rowspan:Number(es(i)),colspan:Number(es(o))};return l&&(a.style=l),a}constructor(t,e,s){super(t,e),e.setAttribute("contenteditable",String(t.isEnabled()))}setFormatValue(t,e,s=!1){if(s){if(!this.statics.isAllowStyle(t))return;this.parent&&this.parent.statics.blotName===M.tableCell&&this.parent.setFormatValue(t,e)}else{if(!this.statics.allowDataAttrs.has(t))return;const i=`data-${t}`;e?this.domNode.setAttribute(i,e):this.domNode.removeAttribute(i),this.parent&&this.parent.statics.blotName===M.tableCell&&this.parent.setFormatValue(t,e)}const r=this.descendants(dd,0);for(const i of r)i.cache={}}get tableId(){return this.domNode.dataset.tableId}get rowId(){return this.domNode.dataset.rowId}set rowId(t){this.setFormatValue("row-id",t)}get colId(){return this.domNode.dataset.colId}set colId(t){this.setFormatValue("col-id",t)}get rowspan(){return Number(this.domNode.dataset.rowspan)}set rowspan(t){this.setFormatValue("rowspan",t)}get colspan(){return Number(this.domNode.dataset.colspan)}set colspan(t){this.setFormatValue("colspan",t)}getColumnIndex(){return jt(this,M.tableMain).getColIds().indexOf(this.colId)}formatAt(t,e,s,r){if(this.children.length===0&&(this.appendChild(this.scroll.create(this.statics.defaultChild.blotName)),e+=1),super.formatAt(t,e,s,r),r&&r.style){const i=ig(r.style);for(const[o,l]of Object.entries(i))this.setFormatValue(o,l,!0)}}formats(){const t=this.statics.formats(this.domNode);return{[this.statics.blotName]:t}}checkMerge(){const{colId:t,rowId:e,colspan:s,rowspan:r}=this,i=this.next;return i!==null&&i.statics.blotName===this.statics.blotName&&i.rowId===e&&i.colId===t&&i.colspan===s&&i.rowspan===r}optimize(){const t=this.parent,e=this.statics.formats(this.domNode);if(this.prev&&this.prev instanceof KE){const s=this.scroll.create("block");this.appendChild(this.prev),this.appendChild(s)}if(t!==null&&t.statics.blotName!==M.tableCell&&(this.wrap(M.tableCell,e),this.children.length===0)){const s=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(s)}this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove()),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0&&this.remove()}insertBefore(t,e){if(t.statics.blotName===this.statics.blotName){const s=t,r=this.statics.formats(s.domNode),i=this.statics.formats(this.domNode);if(Object.entries(i).every(([o,l])=>l===r[o]))return this.parent.insertBefore(s,this.next);{const[o,l]=Ei(this,[M.tableRow,M.tableCell]);if(e){const a=e.offset();if(a+1<this.length()){const c=this.scroll.create(M.tableCellInner,i);this.children.forEachAt(a+1,this.length(),u=>{c.appendChild(u)}),o.insertBefore(c.wrap(M.tableCell,i),l.next),this.children.length===0&&(this.remove(),this.parent.children.length===0&&this.parent.remove())}}if(this.rowId!==s.rowId){if(e){const u=e.offset(o);o.split(u)}else if(l.next){const u=l.next.offset(o);o.split(u)}const a=this.scroll.create(M.tableRow,r),c=this.scroll.create(M.tableCell,r);return c.appendChild(s),a.appendChild(c),o.parent.insertBefore(a,o.next)}return o.insertBefore(s.wrap(M.tableCell,r),e?l:l.next)}}super.insertBefore(t,e)}}w(Ht,"blotName",M.tableCellInner),w(Ht,"tagName","div"),w(Ht,"className","ql-table-cell-inner"),w(Ht,"allowDataAttrs",new Set(["table-id","row-id","col-id","rowspan","colspan"])),w(Ht,"defaultChild",dd),w(Ht,"allowStyle",new Set(["background-color","border","height"]));const fd=I.import("parchment"),GE=I.import("blots/scroll");class XE extends GE{enable(t=!0){const e=I.import(`formats/${M.tableCellInner}`),s=this.domNode.querySelectorAll(`.${e.className}`);for(const o of Array.from(s))o.setAttribute("contenteditable",String(!!t));const r=I.import(`formats/${M.tableCaption}`),i=this.domNode.querySelectorAll(`.${r.className}`);for(const o of Array.from(i))o.setAttribute("contenteditable",String(!!t));super.enable(t)}createBlock(t,e){let s,r={};if(t[M.tableCellInner])s=M.tableCellInner;else for(const[l,a]of Object.entries(t))this.query(l,fd.Scope.BLOCK&fd.Scope.BLOT)!=null?s=l:r[l]=a;s===M.tableCellInner&&(r={...t},delete r[s]);const i=this.create(s||this.statics.defaultChild.blotName,s?t[s]:void 0);this.insertBefore(i,e||void 0);let o=i.length();i instanceof Ht&&o===0&&(o+=1);for(const[l,a]of Object.entries(r))i.formatAt(0,o,l,a);return i}}class Me extends bn{static create(t){const e=super.create();return e.dataset.tableId=t.tableId,e.dataset.rowId=t.rowId,e}get rowId(){return this.domNode.dataset.rowId}get tableId(){return this.domNode.dataset.tableId}setHeight(t){this.foreachCellInner(e=>{e.setFormatValue("height",t,!0)})}getCellByColId(t,e){const s=jt(this,M.tableMain).getColIds(),r=s.indexOf(t),i=this.children.iterator();let o=null;for(;o=i();){if(o.colId===t)return o;const l=s.indexOf(o.colId);if(l<r&&l+o.colspan>r)return o}return this[e]&&this[e].statics.blotName===M.tableRow?this[e].getCellByColId(t,e):null}insertCell(t,e){const s=[],r=this.children.iterator();let i,o=0;for(;(i=r())&&(o+=i.colspan,!(o>t));)if(i.rowspan!==1)for(let l=0;l<i.rowspan-1;l++)s[l]=(s[l]||0)+i.colspan;if(i&&o-i.colspan<t)i.getCellInner().colspan+=1,i.rowspan!==1&&(s.skipRowNum=i.rowspan-1);else{const l=this.scroll.create(M.tableCell,e),a=this.scroll.create(M.tableCellInner,e),c=this.scroll.create("block");c.appendChild(this.scroll.create("break")),a.appendChild(c),l.appendChild(a),this.insertBefore(l,i)}return s}getCellByColumIndex(t){const e=[];let s=null,r=0;if(t<0)return[s,r,e];const i=this.children.iterator();for(;s=i();){if(r+=s.colspan,s.rowspan!==1)for(let o=0;o<s.rowspan-1;o++)e[o]=(e[o]||0)+s.colspan;if(r>t)break}return[s,r,e]}removeCell(t){if(t<0)return[];const e=this.getCellByColumIndex(t),[s,r]=e,i=e[2];if(!s)return i;if(r-s.colspan<t||s.colspan>1){const[o]=s.descendants(Ht);if(s.colspan!==1&&t===r-s.colspan){const l=jt(this,M.tableMain).getColIds();o.colId=l[l.indexOf(o.colId)+1]}s.rowspan!==1&&(i.skipRowNum=s.rowspan-1),o.colspan-=1}else s.remove();return i}foreachCellInner(t){const e=this.children.iterator();let s,r=0;for(;s=e();){const[i]=s.descendants(Ht);if(t(i,r++))break}}checkMerge(){const t=this.next;return t!==null&&t.statics.blotName===this.statics.blotName&&t.rowId===this.rowId}optimize(t){const e=this.parent,{tableId:s}=this;e!==null&&e.statics.blotName!==M.tableBody&&this.wrap(M.tableBody,s),super.optimize(t)}}w(Me,"blotName",M.tableRow),w(Me,"tagName","tr"),w(Me,"className","ql-table-row");class ve extends bn{static create(t){const e=super.create();return e.dataset.tableId=t,e}get tableId(){return this.domNode.dataset.tableId}insertRow(t){const e=jt(this,M.tableMain);if(!e)return;const s=e.getColIds(),r=this.descendants(Me),i=new Set(s);let o=0;for(const u of r){if(o===t)break;u.foreachCellInner(f=>{if(o+f.rowspan>t&&(f.rowspan+=1,i.delete(f.colId),f.colspan!==1)){const d=s.indexOf(f.colId);for(let p=0;p<f.colspan-1;p++)i.delete(s[d+p+1])}}),o+=1}const l=e.tableId,a=_e(),c=this.scroll.create(M.tableRow,{tableId:l,rowId:a});for(const u of i){const f=this.scroll.create("break").wrap("block").wrap(M.tableCellInner,{tableId:l,rowId:a,colId:u,rowspan:1,colspan:1}).wrap(M.tableCell,{tableId:l,rowId:a,colId:u,rowspan:1,colspan:1});c.appendChild(f)}this.insertBefore(c,r[t]||null)}checkMerge(){const t=this.next;return t!==null&&t.statics.blotName===this.statics.blotName&&t.tableId===this.tableId}optimize(t){const e=this.parent;if(e!==null&&e.statics.blotName!==M.tableMain){const{tableId:s}=this;this.wrap(M.tableMain,{tableId:s})}super.optimize(t)}}w(ve,"blotName",M.tableBody),w(ve,"tagName","tbody");const YE=I.import("parchment"),ZE=I.import("blots/inline"),QE=I.import("blots/text");class ln extends uc{static create(t){const{tableId:e}=t,s=super.create();return s.dataset.tableId=e,t.side==="bottom"&&(s.style.captionSide="bottom"),s}static formats(t){const{tableId:e}=t.dataset;return{tableId:String(e),side:t.style.captionSide==="bottom"?"bottom":"top"}}constructor(t,e,s){super(t,e),e.setAttribute("contenteditable",String(t.isEnabled())),this.attachUI(this.createUI()),this.domNode.addEventListener("mouseenter",()=>{this.scroll.isEnabled()&&(this.uiNode.style.display="flex")}),this.domNode.addEventListener("mouseleave",()=>{this.scroll.isEnabled()&&(this.uiNode.style.display="none")})}createUI(){const t=document.createElement("i");return t.classList.add("ql-table-caption--switch"),t.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">\r
  <!-- Icon from Tabler Icons by Paweł Kuna - https://github.com/tabler/tabler-icons/blob/master/LICENSE -->\r
  <path\r
    fill="none"\r
    stroke="currentColor"\r
    stroke-linecap="round"\r
    stroke-linejoin="round"\r
    stroke-width="2"\r
    d="M7 3v18m3-15L7 3L4 6m16 12l-3 3l-3-3m3 3V3"\r
  />\r
</svg>\r
`,t.addEventListener("click",()=>{this.scroll.isEnabled()&&(this.side=this.side==="top"?"bottom":"top")}),t}get tableId(){return this.domNode.dataset.tableId}set side(t){this.domNode.style.captionSide=t==="bottom"?"bottom":"top"}get side(){return this.domNode.style.captionSide==="bottom"?"bottom":"top"}format(t,e){this.scroll.query(t,YE.Scope.BLOCK_BLOT)&&t!==this.statics.blotName||super.format(t,e)}checkMerge(){const t=this.next;return t!==null&&t.statics.blotName===this.statics.blotName&&t.tableId===this.tableId}optimize(t){const e=this.parent;if(e!==null&&e.statics.blotName!==M.tableMain){const{tableId:s}=this;this.wrap(M.tableMain,{tableId:s})}this.children.length===0?this.remove():(super.optimize(t),this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove()))}}w(ln,"blotName",M.tableCaption),w(ln,"tagName","caption"),w(ln,"className","ql-table-caption"),w(ln,"allowedChildren",[ZE,QE]);class Wt extends bn{static isAllowStyle(t){for(const e of this.allowStyle)if(t.startsWith(e))return!0;return!1}static create(t){const{tableId:e,rowId:s,colId:r,rowspan:i,colspan:o,style:l}=t,a=super.create();return a.dataset.tableId=e,a.dataset.rowId=s,a.dataset.colId=r,a.setAttribute("rowspan",String(es(i))),a.setAttribute("colspan",String(es(o))),l&&(a.style.cssText=l),a}static formats(t){const{tableId:e,rowId:s,colId:r}=t.dataset,i=Number(t.getAttribute("rowspan")),o=Number(t.getAttribute("colspan")),l={tableId:e,rowId:s,colId:r,rowspan:es(i),colspan:es(o)},a={};for(let u=0;u<t.style.length;u++){const f=t.style[u],d=t.style[f];this.isAllowStyle(String(f))&&!["initial","inherit"].includes(d)&&(a[f]=d)}const c=Object.entries(a);return c.length>0&&(l.style=c.map(([u,f])=>`${u}:${f}`).join(";")),l}setFormatValue(t,e){if(this.statics.allowAttrs.has(t)||this.statics.allowDataAttrs.has(t)){let s=t;this.statics.allowDataAttrs.has(t)&&(s=`data-${t}`),e?this.domNode.setAttribute(s,e):this.domNode.removeAttribute(s)}else this.statics.isAllowStyle(t)&&(Object.assign(this.domNode.style,{[t]:e}),t.startsWith("border")&&this.setStyleBoder(t,e));this.children.head&&this.children.head.statics.blotName===M.tableCellInner&&this.domNode.style.cssText&&(this.children.head.domNode.dataset.style=this.domNode.style.cssText)}setStyleBoder(t,e){const s=e||null;if(!(!["left","right","top","bottom"].some(o=>t.includes(o))&&t.startsWith("border-")))return;const r=this.getNearByCell("left").map(o=>o.descendant(Ht,0)[0]).filter(Boolean);for(const o of r)o.setFormatValue(t.replace("border-","border-right-"),s,!0);const i=this.getNearByCell("top").map(o=>o.descendant(Ht,0)[0]).filter(Boolean);for(const o of i)o.setFormatValue(t.replace("border-","border-bottom-"),s,!0)}getNearByCell(t){const e=[];try{const s=jt(this,M.tableMain);e.push(...s.getColIds())}catch(s){console.error(`Cell is not in table! ${s}`)}if(e.length===0)return[];if(t==="left"){const s=new Set;let r=this.parent;for(let i=0;i<this.rowspan&&r instanceof Me;i++){const o=r.children.iterator();let l=null;for(;l=o();){const a=e.indexOf(l.colId)+l.colspan;this.colId===e[a]&&s.add(l)}r=r.next}return Array.from(s)}if(t==="top"){if(!(this.parent instanceof Me&&this.parent.prev))return[];const s=new Set,r=this.getColumnIndex(),i=r+this.colspan,o=new Set(e.filter((c,u)=>u>=r&&u<i));let l=1,a=this.parent.prev;for(;a;){let c=!1;const u=a.children.iterator();let f=null,d=0;for(;f=u();)o.has(f.colId)&&f.rowspan>=l&&(s.add(f),o.delete(f.colId)),d+=f.colspan,f.rowspan>=l&&(c=!0);if(!c&&d===e.length)break;a=a.prev,l+=1}return Array.from(s)}return[]}get tableId(){return this.domNode.dataset.tableId}get rowId(){return this.domNode.dataset.rowId}get colId(){return this.domNode.dataset.colId}get rowspan(){return Number(this.domNode.getAttribute("rowspan"))}get colspan(){return Number(this.domNode.getAttribute("colspan"))}getColumnIndex(){return jt(this,M.tableMain).getColIds().indexOf(this.colId)}getCellInner(){return this.children.head}checkMerge(){const{colId:t,rowId:e,colspan:s,rowspan:r}=this,i=this.next;return i!==null&&i.statics.blotName===this.statics.blotName&&i.rowId===e&&i.colId===t&&i.colspan===s&&i.rowspan===r}optimize(t){const e=this.parent,{tableId:s,rowId:r}=this;e!==null&&e.statics.blotName!==M.tableRow&&this.wrap(M.tableRow,{tableId:s,rowId:r}),super.optimize(t)}}w(Wt,"blotName",M.tableCell),w(Wt,"tagName","td"),w(Wt,"className","ql-table-cell"),w(Wt,"allowDataAttrs",new Set(["table-id","row-id","col-id"])),w(Wt,"allowAttrs",new Set(["rowspan","colspan"])),w(Wt,"allowStyle",new Set(["background-color","border","height"]));const JE=I.import("blots/block/embed");class ns extends JE{static validWidth(t,e){let s=Number.parseFloat(String(t));return Number.isNaN(s)&&(s=Bt[e?"colMinWidthPre":"colMinWidthPx"]),`${s}${e?"%":"px"}`}static create(t){const{width:e,tableId:s,colId:r,full:i,align:o}=t,l=super.create();return l.setAttribute("width",this.validWidth(e,!!i)),i&&(l.dataset.full=String(i)),o&&o!=="left"&&(l.dataset.align=o),l.dataset.tableId=s,l.dataset.colId=r,l}static value(t){const{tableId:e,colId:s}=t.dataset,r=t.getAttribute("width")||String(Bt.colDefaultWidth),i=t.dataset.align,o=Object.hasOwn(t.dataset,"full"),l={tableId:String(e),colId:String(s),full:o,width:Number.parseFloat(r)};return i&&(l.align=i),l}get width(){let t=this.domNode.getAttribute("width");if(!t){if(t=this.domNode.getBoundingClientRect().width,this.full){const e=this.domNode.closest("table");return e?t/100*e.getBoundingClientRect().width:Bt[this.full?"colMinWidthPre":"colMinWidthPx"]}return t}return Number.parseFloat(String(t))}set width(t){let e=Number.parseFloat(String(t));Number.isNaN(e)&&(e=Bt[this.full?"colMinWidthPre":"colMinWidthPx"]),this.domNode.setAttribute("width",this.statics.validWidth(e,!!this.full))}get tableId(){return this.domNode.dataset.tableId}get colId(){return this.domNode.dataset.colId}get full(){return Object.hasOwn(this.domNode.dataset,"full")}set full(t){t?this.domNode.dataset.full=String(!0):this.domNode.removeAttribute("data-full")}get align(){return this.domNode.dataset.align||""}set align(t){t==="right"||t==="center"?this.domNode.dataset.align=t:this.domNode.removeAttribute("data-align")}checkMerge(){const t=this.next,{tableId:e,colId:s}=this;return t!==null&&t.statics.blotName===this.statics.blotName&&t.tableId===e&&t.colId===s}optimize(t){const e=this.parent;if(e!=null&&e.statics.blotName!==M.tableColgroup){const s=this.statics.value(this.domNode);this.wrap(M.tableColgroup,s)}jt(this,M.tableColgroup).align=this.align,this.next!=null&&this.checkMerge()&&this.next.remove(),super.optimize(t);try{const s=jt(this,M.tableColgroup);let r=!0;s.children.forEach(i=>{r&&(r=i.full)}),s.full=r}catch{}}insertAt(t,e,s){if(s!=null)return void super.insertAt(t,e,s);const r=e.split(`
`),i=r.pop(),o=r.map(p=>{const g=this.scroll.create("block");return g.insertAt(0,p),g}),l=this.split(t),[a,c]=Ei(this,[M.tableColgroup,M.tableMain]),u=a.next;if(l){const p=l.offset(a);a.split(p)}let f=c.parent.parent,d=c.parent.next;if(u){const p=u.descendants(Ht);if(p.length>0){const g=p[0],b=Ht.formats(g.domNode),v=this.scroll.create("block"),E=v.wrap(M.tableCellInner,b).wrap(M.tableCell,b).wrap(M.tableRow,b).wrap(M.tableBody,b.tableId);a.parent.insertBefore(E,a.next),f=v,d=v.next}}for(const p of o)f.insertBefore(p,d);i&&f.insertBefore(this.scroll.create("text",i),d)}}w(ns,"blotName",M.tableCol),w(ns,"tagName","col");class Jt extends bn{static create(t){const e=super.create(),{tableId:s,full:r,align:i}=t;return e.dataset.tableId=s,i==="right"||i==="center"?e.dataset.align=i:e.removeAttribute("date-align"),r&&(e.dataset.full=String(r)),e.setAttribute("cellpadding","0"),e.setAttribute("cellspacing","0"),e}constructor(t,e,s){super(t,e),this.updateAlign()}colWidthFillTable(){if(this.full)return void Object.assign(this.domNode.style,{width:null});const t=this.getCols();if(!t)return;const e=t.reduce((s,r)=>r.width+s,0);return e===0||Number.isNaN(e)?void 0:(this.domNode.style.width=`${e}px`,e)}get tableId(){return this.domNode.dataset.tableId}get full(){return Object.hasOwn(this.domNode.dataset,"full")}set full(t){t?this.domNode.dataset.full=String(!0):this.domNode.removeAttribute("data-full"),this.colWidthFillTable()}get align(){return this.domNode.dataset.align||""}set align(t){t==="right"||t==="center"?this.domNode.dataset.align=t:this.domNode.removeAttribute("data-align"),this.updateAlign()}setFull(){if(this.full)return;const t=this.getCols();if(t.length===0)return;const e=Math.floor(this.domNode.getBoundingClientRect().width);for(const s of t){const r=s.width/e*100;s.full=!0,s.width=r}}cancelFull(){if(!this.full)return;const t=this.getCols();if(t.length===0)return;const e=Math.floor(this.domNode.getBoundingClientRect().width);for(const s of t)s.full=!1,s.width=Math.max(s.width/100*e,Bt.colMinWidthPx)}updateAlign(){const t={marginLeft:null,marginRight:null};switch(this.align){case"center":t.marginLeft="auto",t.marginRight="auto";break;case"":case"left":t.marginRight="auto";break;case"right":t.marginLeft="auto"}Object.assign(this.domNode.style,t)}getRows(){return this.descendants(Me)}getRowIds(){return this.getRows().map(t=>t.rowId)}getCols(){return this.descendants(ns)}getColIds(){return this.getCols().map(t=>t.colId)}checkMerge(){const t=this.next;return t!==null&&t.statics.blotName===this.statics.blotName&&t.domNode.dataset.tableId===this.tableId}optimize(t){const e=this.parent;e!==null&&e.statics.blotName!==M.tableWrapper&&this.wrap(M.tableWrapper,this.tableId),super.optimize(t)}}w(Jt,"blotName",M.tableMain),w(Jt,"tagName","table"),w(Jt,"className","ql-table");class _n extends bn{static create(t){const e=super.create();return e.dataset.tableId=t.tableId,t.full&&(e.dataset.full=String(t.full)),t.align&&t.align!=="left"&&(e.dataset.align=t.align),e.setAttribute("contenteditable","false"),e}get tableId(){return this.domNode.dataset.tableId}get full(){return Object.hasOwn(this.domNode.dataset,"full")}set full(t){t?this.domNode.dataset.full=String(!0):this.domNode.removeAttribute("data-full"),this.parent&&this.parent instanceof Jt&&(this.parent.full=t)}get align(){return this.domNode.dataset.align||""}set align(t){t==="right"||t==="center"?this.domNode.dataset.align=t:this.domNode.removeAttribute("data-align")}findCol(t){const e=this.children.iterator();let s,r=0;for(;(s=e())&&r!==t;)r++;return s}insertColByIndex(t,e){const s=this.parent;if(!(s instanceof Jt))throw new TypeError("TableColgroupFormat should be child of TableFormat");const r=this.findCol(t),i=this.scroll.create(M.tableCol,e);if(s.full){const o=this.children.iterator();let l;for(;l=o();)if(l.width-i.width>=Bt.colMinWidthPre){l.width-=i.width;break}}this.insertBefore(i,r)}removeColByIndex(t){const e=this.parent;if(!(e instanceof Jt))throw new TypeError("TableColgroupFormat should be child of TableMainFormat");const s=this.findCol(t);s&&(e.full&&(s.next?s.next.width+=s.width:s.prev&&(s.prev.width+=s.width)),s.remove(),e.colWidthFillTable())}checkMerge(){const t=this.next,e=this.parent;return e instanceof Jt&&!e.full&&e.colWidthFillTable(),t!==null&&t.statics.blotName===this.statics.blotName&&t.tableId===this.tableId}optimize(t){const e=this.parent,{tableId:s,full:r,align:i}=this;e!=null&&e.statics.blotName!==M.tableMain&&this.wrap(M.tableMain,{tableId:s,full:r,align:i}),jt(this,M.tableMain).align=i,super.optimize(t)}}w(_n,"blotName",M.tableColgroup),w(_n,"tagName","colgroup");const pd=I.import("parchment");class On extends bn{constructor(e,s,r){super(e,s);w(this,"scroll");w(this,"insertLineAround",()=>{this.prev&&this.prev instanceof pd.BlockBlot||this.parent.insertBefore(this.scroll.create("block"),this),this.next&&this.next instanceof pd.BlockBlot||this.parent.insertBefore(this.scroll.create("block"),this.next)});this.scroll=e,this.scroll.emitter.on(I.events.TEXT_CHANGE,this.insertLineAround)}static create(e){const s=super.create();return s.dataset.tableId=e,s.addEventListener("dragstart",r=>{r.preventDefault(),r.stopPropagation()},!0),s.addEventListener("drop",r=>{r.preventDefault()}),s.addEventListener("dragover",r=>{r.preventDefault(),r.dataTransfer.dropEffect="none"}),s.setAttribute("contenteditable","false"),s}get tableId(){return this.domNode.dataset.tableId}checkMerge(){const e=this.next;return e!==null&&e.statics.blotName===this.statics.blotName&&e.tableId===this.tableId}deleteAt(e,s){super.deleteAt(e,s);const r=this.descendants(ve),i=this.descendants(_n);r.length!==0&&i.length!==0||this.remove()}remove(){super.remove(),this.scroll.emitter.off(I.events.TEXT_CHANGE,this.insertLineAround)}}w(On,"blotName",M.tableWrapper),w(On,"tagName","div"),w(On,"className","ql-table-wrapper");class tT{constructor(t,e,s){w(this,"tableModule");w(this,"table");w(this,"quill");w(this,"tableBlot");w(this,"tableWrapperBlot");w(this,"alignBox");w(this,"cleanup");w(this,"bem",zt("align"));w(this,"resizeObserver",rg(()=>this.update(),{ignoreFirstBind:!0}));w(this,"updateWhenTextChange",()=>{this.update()});this.tableModule=t,this.table=e,this.quill=s,this.tableBlot=I.find(e),this.tableWrapperBlot=this.tableBlot.parent,this.alignBox=this.buildTool(),this.resizeObserver.observe(this.table),this.quill.on(I.events.TEXT_CHANGE,this.updateWhenTextChange),this.show()}buildTool(){const t=this.tableModule.addContainer(this.bem.b()),e=I.import("ui/icons"),s={left:e.align[""],center:e.align.center,right:e.align.right};for(const[r,i]of Object.entries(s)){const o=document.createElement("span");o.dataset.align=r,o.classList.add(this.bem.be("item")),o.innerHTML=`<i class="icon">${i}</i>`,o.addEventListener("click",()=>{const l=o.dataset.align;l&&(this.setTableAlign(this.tableBlot,l),this.quill.once(I.events.SCROLL_OPTIMIZE,()=>{this.tableModule.tableSelection&&this.tableModule.tableSelection.hide(),this.tableModule.tableResize&&this.tableModule.tableResize.update(),this.tableModule.tableResizeScale&&this.tableModule.tableResizeScale.update(),this.tableModule.tableScrollbar&&this.tableModule.tableScrollbar.update()}))}),t.appendChild(o)}return this.cleanup||(this.cleanup=Zp(this.tableWrapperBlot.domNode,t,()=>this.update())),t}setTableAlign(t,e){const s=t.getCols();for(const r of s)r.align=e}show(){this.alignBox&&(this.alignBox.classList.add(this.bem.bm("active")),this.update())}hide(){this.alignBox&&(this.alignBox.classList.remove(this.bem.bm("active")),this.cleanup&&(this.cleanup(),this.cleanup=void 0))}update(){this.alignBox&&(this.tableBlot.full||this.tableBlot.domNode.offsetWidth>=this.quill.root.offsetWidth?this.hide():ng(this.tableWrapperBlot.domNode,this.alignBox,{placement:"top",middleware:[tg(),Jp({limiter:eg()}),Qp(16)]}).then(({x:t,y:e})=>{Object.assign(this.alignBox.style,{left:`${t}px`,top:`${e}px`})}))}destroy(){this.hide(),this.resizeObserver.disconnect(),this.quill.off(I.events.TEXT_CHANGE,this.updateWhenTextChange),this.alignBox&&(this.alignBox.remove(),this.alignBox=void 0)}}const Hr=I.import("delta"),eT=I.import("modules/clipboard");function nT(n){let t=Number.parseFloat(n.getAttribute("width")||String(Bt.colDefaultWidth));if(Number.isNaN(t)){const e=n.style.width;t=e?Number.parseFloat(e):n.offsetWidth}return t}class sT extends eT{constructor(e,s){super(e,s);w(this,"quill");w(this,"tableId",_e());w(this,"rowId",_e());w(this,"colIds",[]);w(this,"rowspanCount",[]);w(this,"cellCount",0);w(this,"colCount",0);this.quill=e,this.addMatcher("table",this.matchTable.bind(this)),this.addMatcher("colgroup",this.matchColgroup.bind(this)),this.addMatcher("col",this.matchCol.bind(this)),this.addMatcher("tr",this.matchTr.bind(this)),this.addMatcher("td",this.matchTd.bind(this)),this.addMatcher("th",this.matchTd.bind(this)),this.addMatcher("caption",this.matchCaption.bind(this)),this.addMatcher(Node.ELEMENT_NODE,this.matchTdAttributor.bind(this))}matchTable(e,s){if(s.ops.length===0)return s;const r=[],i=[];let o=-1;for(let a=0;a<s.ops.length;a++){const{attributes:c,insert:u}=s.ops[a],{table:f,[M.tableCell]:d,...p}=c||{},g=ya(u)&&u[M.tableCol];g?i.push({insert:u}):r.push({attributes:p,insert:u}),p!=null&&p[M.tableCellInner]||g||(o=a)}const l=function(a,c){const u=new Array(c).fill(Bt.colDefaultWidth),f=Array.from(a.querySelectorAll("tr"));for(const d of f){const p=Array.from(d.querySelectorAll("td"));for(const[g,b]of p.entries()){if(!(g<c))break;{const v=nT(b);u[g]=v||u[g]}}}return u}(e,this.colIds.length).reduce((a,c,u)=>(i[u]?a.push(i[u]):a.push({insert:{[M.tableCol]:{tableId:this.tableId,colId:this.colIds[u],width:c,full:!1}}}),a),[]);return r.splice(o+1,0,...l),this.tableId=_e(),this.colIds=[],this.rowspanCount=[],this.cellCount=0,this.colCount=0,new Hr(r)}matchColgroup(e,s){const r=[];for(let i=0;i<s.ops.length;i++){const o=s.ops[i];o&&ya(o.insert)&&o.insert[M.tableCol]&&r.push(o)}return new Hr(r)}matchCol(e){this.colIds[this.colCount]=_e();const s=new Hr().insert({[M.tableCol]:Object.assign(ns.value(e),{tableId:this.tableId,colId:this.colIds[this.colCount]})});return this.colCount+=1,s}matchTr(e,s){this.rowId=_e(),this.cellCount=0;for(const[r,i]of this.rowspanCount.entries())i.rowspan>0&&(i.rowspan-=1),i.rowspan<=0&&(this.rowspanCount[r]={rowspan:0,colspan:0});return s}matchTd(e,s){const r=e,i=Wt.formats(r);if(!this.colIds[this.cellCount]||!this.rowspanCount[this.cellCount])for(let u=this.cellCount;u>=0;u--)this.colIds[u]||(this.colIds[u]=_e()),this.rowspanCount[u]||(this.rowspanCount[u]={rowspan:0,colspan:0});const{colspan:o}=this.rowspanCount[this.cellCount];this.cellCount+=o,i.rowspan>1&&(this.rowspanCount[this.cellCount]={rowspan:i.rowspan,colspan:i.colspan});const l=this.colIds[this.cellCount];this.cellCount+=i.colspan;const a=Object.assign(i,{tableId:this.tableId,rowId:this.rowId,colId:l});r.style.border==="none"&&(a.style=a.style.replaceAll(/border-(top|right|bottom|left)-style:none;?/g,""));const c=[];for(const u of s.ops){const{attributes:f={},...d}=u,{[M.tableCell]:p,...g}=f;c.push({...d,attributes:{...g,[M.tableCellInner]:a}})}return(c.length<=0||!ri(c[c.length-1].insert)||!c[c.length-1].insert.endsWith(`
`))&&c.push({insert:`
`,attributes:{[M.tableCellInner]:a}}),new Hr(c)}matchTdAttributor(e,s){if(e.tagName.toLocaleLowerCase()==="td"){const r=[];for(const i of s.ops){const{attributes:o,...l}=i,a=o==null?void 0:o[M.tableCellInner];if(o&&a&&a.style){const{background:c,...u}=o,f=document.createElement("div");f.style.background=c;const d=document.createElement("div");if(d.style.cssText=a.style,f.style.background===d.style.backgroundColor){r.push({...l,attributes:{...u}});continue}}r.push(i)}return new Hr(r)}return s}convert({html:e,text:s},r={}){const i=super.convert({html:e,text:s},r);if(r[M.tableCellInner])for(const o of i.ops)ya(o.insert)&&o.insert[M.tableCol]?o.insert="":(o.attributes||(o.attributes={}),o.attributes[M.tableCellInner]=r[M.tableCellInner]);return i}matchCaption(e,s){for(let r=0;r<s.ops.length;r++){const i=s.ops[r],{attributes:o}=i;o&&o[M.tableCaption]&&(o[M.tableCaption].tableId=this.tableId,i.attributes=o)}return s}}const og="color-selector",be={Break:{name:"break"},InsertTop:{name:"InsertTop",icon:`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
  <path
    fill="currentColor"
    d="M4 3h14a2 2 0 0 1 2 2v7.08a6 6 0 0 0-4.32.92H12v4h1.08c-.11.68-.11 1.35 0 2H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2m0 4v4h6V7zm8 0v4h6V7zm-8 6v4h6v-4zm17.94 4.5h-2v4h-2v-4h-2l3-3z"
  />
</svg>
`,tip:"Insert row above",handle:(n,t)=>{n.appendRow(t,!1),n.hideTableTools()}},InsertRight:{name:"InsertRight",icon:`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
  <path
    fill="currentColor"
    d="M4 3h14a2 2 0 0 1 2 2v7.08a6 6 0 0 0-4.32.92H12v4h1.08c-.11.68-.11 1.35 0 2H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2m0 4v4h6V7zm8 0v4h6V7zm-8 6v4h6v-4zm15.44 8v-2h-4v-2h4v-2l3 3z"
  />
</svg>
`,tip:"Insert column right",handle:(n,t)=>{n.appendCol(t,!0),n.hideTableTools()}},InsertBottom:{name:"InsertBottom",icon:`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
  <path
    fill="currentColor"
    d="M4 3h14a2 2 0 0 1 2 2v7.08a6 6 0 0 0-4.32.92H12v4h1.08c-.11.68-.11 1.35 0 2H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2m0 4v4h6V7zm8 0v4h6V7zm-8 6v4h6v-4zm11.94 5.5h2v-4h2v4h2l-3 3z"
  />
</svg>
`,tip:"Insert row below",handle:(n,t)=>{n.appendRow(t,!0),n.hideTableTools()}},InsertLeft:{name:"InsertLeft",icon:`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
  <path
    fill="currentColor"
    d="M4 3h14a2 2 0 0 1 2 2v7.08a6 6 0 0 0-4.32.92H12v4h1.08c-.11.68-.11 1.35 0 2H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2m0 4v4h6V7zm8 0v4h6V7zm-8 6v4h6v-4zm14.44 2v2h4v2h-4v2l-3-3z"
  />
</svg>
`,tip:"Insert column Left",handle:(n,t)=>{n.appendCol(t,!1),n.hideTableTools()}},MergeCell:{name:"MergeCell",icon:`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
  <path
    fill="currentColor"
    d="M5 10H3V4h8v2H5zm14 8h-6v2h8v-6h-2zM5 18v-4H3v6h8v-2zM21 4h-8v2h6v4h2zM8 13v2l3-3l-3-3v2H3v2zm8-2V9l-3 3l3 3v-2h5v-2z"
  />
</svg>
`,tip:"Merge Cell",handle:(n,t)=>{n.mergeCells(t),n.hideTableTools()}},SplitCell:{name:"SplitCell",icon:`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
  <path
    fill="currentColor"
    d="M19 14h2v6H3v-6h2v4h14zM3 4v6h2V6h14v4h2V4zm8 7v2H8v2l-3-3l3-3v2zm5 0V9l3 3l-3 3v-2h-3v-2z"
  />
</svg>
`,tip:"Split Cell",handle:(n,t)=>{n.splitCell(t),n.hideTableTools()}},DeleteRow:{name:"DeleteRow",icon:`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
  <path
    fill="currentColor"
    d="M9.41 13L12 15.59L14.59 13L16 14.41L13.41 17L16 19.59L14.59 21L12 18.41L9.41 21L8 19.59L10.59 17L8 14.41zM22 9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2zM4 9h4V6H4zm6 0h4V6h-4zm6 0h4V6h-4z"
  />
</svg>
`,tip:"Delete Row",handle:(n,t)=>{n.removeRow(t),n.hideTableTools()}},DeleteColumn:{name:"DeleteColumn",icon:`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
  <path
    fill="currentColor"
    d="M4 2h7a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m0 8v4h7v-4zm0 6v4h7v-4zM4 4v4h7V4zm13.59 8L15 9.41L16.41 8L19 10.59L21.59 8L23 9.41L20.41 12L23 14.59L21.59 16L19 13.41L16.41 16L15 14.59z"
  />
</svg>
`,tip:"Delete Column",handle:(n,t)=>{n.removeCol(t),n.hideTableTools()}},DeleteTable:{name:"DeleteTable",icon:`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
  <path
    fill="currentColor"
    d="m15.46 15.88l1.42-1.42L19 16.59l2.12-2.13l1.42 1.42L20.41 18l2.13 2.12l-1.42 1.42L19 19.41l-2.12 2.13l-1.42-1.42L17.59 18zM4 3h14a2 2 0 0 1 2 2v7.08a6 6 0 0 0-4.32.92H12v4h1.08c-.11.68-.11 1.35 0 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m0 4v4h6V7zm8 0v4h6V7zm-8 6v4h6v-4z"
  />
</svg>
`,tip:"Delete table",handle:(n,t)=>{n.deleteTable(t)}},BackgroundColor:{name:"BackgroundColor",icon:`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
  <path
    fill="none"
    stroke="currentColor"
    stroke-linecap="round"
    stroke-linejoin="round"
    stroke-width="2"
    d="m4 8l4-4m6 0L4 14m0 6L20 4m0 6L10 20m10-4l-4 4"
  />
</svg>
`,isColorChoose:!0,tip:"Set background color",key:"background-color",handle:(n,t,e)=>{n.setCellAttrs(t,"background-color",e,!0)}},BorderColor:{name:"BorderColor",icon:`<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24">
  <path
    fill="none"
    stroke="currentColor"
    stroke-linecap="round"
    stroke-linejoin="round"
    stroke-width="1.5"
    d="m12.01 16l-.01.011M12.01 12l-.01.011M12.01 8l-.01.011M8.01 12l-.01.011M16.01 12l-.01.011M21 3.6v16.8a.6.6 0 0 1-.6.6H3.6a.6.6 0 0 1-.6-.6V3.6a.6.6 0 0 1 .6-.6h16.8a.6.6 0 0 1 .6.6"
  />
</svg>
`,isColorChoose:!0,tip:"Set border color",key:"border-color",handle:(n,t,e)=>{n.setCellAttrs(t,"border-color",e,!0)}}},Us=zt("color-map"),ue={selectWrapper:Us.b(),used:Us.bm("used"),item:Us.be("item"),btn:Us.be("btn"),map:Us.be("content"),mapRow:Us.be("content-row")};class rT{constructor(t,e,s){w(this,"tableModule");w(this,"quill");w(this,"usedColors",new Set);w(this,"options");w(this,"menu",null);w(this,"isMenuDisplay",!1);w(this,"isColorPicking",!1);w(this,"updateUsedColor");w(this,"tooltipItem",[]);w(this,"activeTooltip",null);w(this,"bem",zt("menu"));w(this,"colorItemClass",`color-${_e()}`);w(this,"colorChooseTooltipOption",{direction:"top"});w(this,"updateWhenTextChange",()=>{this.isMenuDisplay&&this.update()});this.tableModule=t,this.quill=e,this.options=this.resolveOptions(s);try{const r=localStorage.getItem(this.options.localstorageKey)||"[]";let i=JSON.parse(r);RE(i)||(i=[]),i.slice(-10).map(o=>this.usedColors.add(o))}catch{}this.updateUsedColor=$o(r=>{if(!r)return;if(this.usedColors.add(r),this.usedColors.size>10){const o=Array.from(this.usedColors).slice(-10);this.usedColors.clear(),o.map(l=>this.usedColors.add(l))}localStorage.setItem(this.options.localstorageKey,JSON.stringify(Array.from(this.usedColors)));const i=Array.from(document.querySelectorAll(`.${this.colorItemClass}.${ue.used}`));for(const o of i){const l=document.createElement("div");l.classList.add(ue.item),l.style.backgroundColor=String(r),Array.from(o.querySelectorAll(`.${ue.item}[style*="background-color: ${l.style.backgroundColor}"]`)).length<=0&&o.appendChild(l);const a=Array.from(o.querySelectorAll(`.${ue.item}`)).slice(0,-10);for(const c of a)c.remove()}},1e3),this.quill.on(I.events.TEXT_CHANGE,this.updateWhenTextChange)}resolveOptions(t){return Object.assign({tipText:!0,tools:[be.InsertTop,be.InsertRight,be.InsertBottom,be.InsertLeft,be.Break,be.MergeCell,be.SplitCell,be.Break,be.DeleteRow,be.DeleteColumn,be.DeleteTable,be.Break,be.BackgroundColor,be.BorderColor],localstorageKey:"__table-bg-used-color",defaultColorMap:IE},t)}buildTools(){const t=document.createElement("div");t.classList.add(this.bem.b()),Object.assign(t.style,{display:"flex"});for(const e of this.options.tools){const{name:s,icon:r,handle:i,isColorChoose:o,key:l,tip:a=""}=e,c=document.createElement("span");if(c.classList.add(this.bem.be("item")),s==="break")c.classList.add(this.bem.is("break"));else{const u=document.createElement("i");if(u.classList.add("icon"),lc(r)?u.appendChild(r(this.tableModule)):u.innerHTML=r,c.appendChild(u),o&&l){const d=this.createColorChoose(c,{name:s,icon:r,handle:i,isColorChoose:o,key:l,tip:a});this.tooltipItem.push(d),c.classList.add(og)}else lc(i)&&c.addEventListener("click",d=>{this.quill.focus(),i(this.tableModule,this.getSelectedTds(),d)},!1);const f=this.tableModule.options.texts[s]||a;this.options.tipText&&f&&a&&this.createTipText(c,f)}t.appendChild(c)}return t}createColorChoose(t,{handle:e,key:s}){const r=document.createElement("div");if(r.classList.add(ue.selectWrapper),this.options.defaultColorMap.length>0){const g=document.createElement("div");g.classList.add(ue.map);for(const b of this.options.defaultColorMap){const v=document.createElement("div");v.classList.add(ue.mapRow);for(const E of b){const N=document.createElement("div");N.classList.add(ue.item),N.style.backgroundColor=E,v.appendChild(N)}g.appendChild(v)}r.appendChild(g)}const i=document.createElement("div");i.classList.add(ue.mapRow),Object.assign(i.style,{marginTop:"4px"});const o=document.createElement("div");o.classList.add(ue.btn,"transparent"),o.textContent=this.tableModule.options.texts.transparent,o.addEventListener("click",()=>{e(this.tableModule,this.getSelectedTds(),"transparent")});const l=document.createElement("div");l.classList.add(ue.btn,"clear"),l.textContent=this.tableModule.options.texts.clear,l.addEventListener("click",()=>{e(this.tableModule,this.getSelectedTds(),null)});const a=document.createElement("div");a.classList.add(ue.btn,"custom"),a.textContent=this.tableModule.options.texts.custom;const c=qE({onChange:g=>{e(this.tableModule,this.getSelectedTds(),g),this.updateUsedColor(g)}}),{hide:u,destroy:f}=Ca(a,{direction:"right",type:"click",content:c,container:a});i.appendChild(o),i.appendChild(l),i.appendChild(a),r.appendChild(i);const d=document.createElement("div");d.classList.add(ue.used,this.colorItemClass);for(const g of this.usedColors){const b=document.createElement("div");b.classList.add(ue.item),b.style.backgroundColor=g,d.appendChild(b)}r.appendChild(d),r.addEventListener("click",g=>{g.stopPropagation(),u();const b=g.target,v=b.style.backgroundColor,E=this.getSelectedTds();if(b&&v&&E.length>0){if(this.tableModule.setCellAttrs(E,s,v,!0),!b.closest(`.${ue.item}`))return;this.updateUsedColor(v)}});const p=Ca(t,{type:"click",content:r,onOpen:()=>(this.isMenuDisplay&&this.tableModule.tableSelection&&this.tableModule.tableSelection.hideDisplay(),this.setActiveTooltip(p),!1),onClose:()=>(this.isMenuDisplay&&this.tableModule.tableSelection&&(this.tableModule.tableSelection.updateWithSelectedTds(),this.tableModule.tableSelection.showDisplay()),r.contains(c)&&u(),this.activeTooltip===p&&(this.activeTooltip=null),!1),onDestroy:()=>{f(),this.activeTooltip===p&&(this.activeTooltip=null)},...this.colorChooseTooltipOption});return p.isColorPick=!0,p}setActiveTooltip(t){this.activeTooltip&&this.activeTooltip!==t&&this.activeTooltip.hide(!0),this.activeTooltip=t}getSelectedTds(){var t;return((t=this.tableModule.tableSelection)==null?void 0:t.selectedTds)||[]}createTipText(t,e){const s=Ca(t,{msg:e});s&&this.tooltipItem.push(s)}show(){this.menu&&this.tableModule.tableSelection&&this.tableModule.tableSelection.boundary&&(Object.assign(this.menu.style,{display:"flex"}),this.isMenuDisplay=!0,this.update())}update(){}hide(){this.menu&&Object.assign(this.menu.style,{display:"none"});for(const t of this.tooltipItem)t.hide(!0);this.isMenuDisplay=!1}destroy(){this.quill.off(I.events.TEXT_CHANGE,this.updateWhenTextChange),this.activeTooltip=null;for(const t of this.tooltipItem)t.destroy();this.menu&&(this.hide(),this.menu.remove(),this.menu=null)}}class iT extends rT{constructor(e,s,r){super(e,s,r);w(this,"tableModule");w(this,"quill");w(this,"colorChooseTooltipOption",{direction:"right"});w(this,"listenContextmenu",e=>{var r,i;e.preventDefault();const s=e.composedPath();!s||s.length<=0||(s.find(o=>o.tagName&&o.tagName.toUpperCase()==="TABLE"&&o.classList.contains("ql-table"))&&((i=(r=this.tableModule.tableSelection)==null?void 0:r.selectedTds)!=null&&i.length)?(this.menu||(this.menu=this.buildTools()),Object.assign(this.menu.style,{display:"flex"}),this.isMenuDisplay=!0,this.update({x:e.clientX,y:e.clientY}),document.addEventListener("click",()=>{this.hide()},{once:!0})):this.hide())});this.tableModule=e,this.quill=s,this.quill.root.addEventListener("contextmenu",this.listenContextmenu)}buildTools(){const e=super.buildTools();e.classList.add(this.bem.is("contextmenu"));const s=e.getElementsByClassName(og);for(const r of Array.from(s))r.addEventListener("click",i=>i.stopPropagation());return document.body.appendChild(e),e}createTipText(e,s){const r=document.createElement("span");r.textContent=s,e.appendChild(r)}show(){}update(e){if(!(this.isMenuDisplay&&this.menu&&this.tableModule.tableSelection&&this.tableModule.tableSelection.isDisplaySelection)||!e)return;super.update();const s={display:"flex",left:0,top:0},{x:r,y:i}=e;s.left=r,s.top=i,Object.assign(this.menu.style,{...s,left:`${s.left+window.scrollX}px`,top:`${s.top+window.scrollY}px`});const o=this.menu.getBoundingClientRect(),{left:l,top:a}=sg(o);Object.assign(this.menu.style,{left:`${l+window.scrollX}px`,top:`${a+window.scrollY}px`})}destroy(){this.quill.root.removeEventListener("contextmenu",this.listenContextmenu),super.destroy()}}const Ai=n=>!n.full&&n.align==="right";class oT{constructor(t,e){w(this,"tableModule");w(this,"quill");w(this,"colIndex",-1);w(this,"tableMain");w(this,"dragging",!1);w(this,"dragColBreak",null);w(this,"handleColMouseUpFunc",this.handleColMouseUp.bind(this));w(this,"handleColMouseMoveFunc",this.handleColMouseMove.bind(this));w(this,"handleColMouseDownFunc",this.handleColMouseDown.bind(this));w(this,"rowIndex",-1);w(this,"dragRowBreak",null);w(this,"handleRowMouseUpFunc",this.handleRowMouseUp.bind(this));w(this,"handleRowMouseMoveFunc",this.handleRowMouseMove.bind(this));w(this,"handleRowMouseDownFunc",this.handleRowMouseDown.bind(this));w(this,"dragBEM",zt("drag-line"));this.tableModule=t,this.quill=e}findCurrentColIndex(t){return-1}colWidthChange(t,e,s){}async createConfirmDialog({message:t,confirm:e,cancel:s}){return new Promise(r=>{const i=document.createElement("div");Object.assign(i.style,{padding:"8px 12px",fontSize:"14px",lineHeight:"1.5"});const o=document.createElement("p");o.textContent=t;const l=document.createElement("div");Object.assign(l.style,{display:"flex",justifyContent:"flex-end",gap:"6px"});const a=Oo({content:s}),c=Oo({type:"confirm",content:e});l.appendChild(a),l.appendChild(c),i.appendChild(o),i.appendChild(l);const{close:u}=Hp({child:i});a.addEventListener("click",()=>{r(!1),u()}),c.addEventListener("click",()=>{r(!0),u()})})}async handleColMouseUp(){if(!this.dragColBreak||!this.tableMain||this.colIndex===-1)return;const t=this.tableMain.getCols(),e=Number.parseInt(this.dragColBreak.dataset.w||"0");let s=this.tableMain.full,r=!1;const i=[];if(s){let o=e/this.tableMain.domNode.getBoundingClientRect().width*100;const l=t[this.colIndex].width;if(o<l){if(o=Math.max(Bt.colMinWidthPre,o),t[this.colIndex+1]||t[this.colIndex-1]){const a=t[this.colIndex+1]?this.colIndex+1:this.colIndex-1;i.push({index:a,width:t[a].width+l-o})}else o=100;r=!0,i.push({index:this.colIndex,width:o})}else if(t[this.colIndex+1]){const a=l+t[this.colIndex+1].width;o=Math.min(a-Bt.colMinWidthPre,o),r=!0,i.push({index:this.colIndex,width:o},{index:this.colIndex+1,width:a-o})}}else this.tableMain.domNode.style.width=`${Number.parseFloat(this.tableMain.domNode.style.width)-t[this.colIndex].domNode.getBoundingClientRect().width+e}px`,r=!0,i.push({index:this.colIndex,width:e});if(document.body.removeChild(this.dragColBreak),this.dragColBreak=null,document.removeEventListener("mouseup",this.handleColMouseUpFunc),document.removeEventListener("mousemove",this.handleColMouseMoveFunc),this.dragging=!1,r){const o=this.tableMain.domNode.getBoundingClientRect().width;if(s){let l=0;const a=new Set(i.map(({index:c,width:u})=>(l+=u,c)));for(const[c,u]of t.entries())a.has(c)||(l+=u.width);if(l>100){if(!await this.createConfirmDialog({message:this.tableModule.options.texts.perWidthInsufficient,confirm:this.tableModule.options.texts.confirmText,cancel:this.tableModule.options.texts.cancelText}))return;this.tableMain.cancelFull(),s=!1;for(const[c,u]of i.entries()){const{width:f,index:d}=u;i[c]={index:d,width:f/100*o}}}}for(const{index:l,width:a}of i)t[l].width=`${Math.round(a)}${s?"%":"px"}`,this.colWidthChange(l,{px:Math.round(a/100*o),pre:Math.round(a)},s)}this.quill.emitter.emit(_o.AFTER_TABLE_RESIZE)}handleColMouseMove(t){if(t.preventDefault(),!this.dragColBreak||!this.tableMain||this.colIndex===-1)return;const e=this.tableMain.getCols(),s=e[this.colIndex].domNode.getBoundingClientRect(),r=this.tableMain.domNode.getBoundingClientRect();let i=t.clientX;if(this.tableMain.full){const l=Bt.colMinWidthPre/100*r.width;let a=r.right;i>s.right&&e[this.colIndex+1]&&(a=Math.max(e[this.colIndex+1].domNode.getBoundingClientRect().right-l,s.left+l));const c=s.x+l;i=Math.min(Math.max(i,c),a)}else Ai(this.tableMain)?s.right-i<Bt.colMinWidthPx&&(i=s.right-Bt.colMinWidthPx):i-s.x<Bt.colMinWidthPx&&(i=s.x+Bt.colMinWidthPx);let o=i-s.x;return Ai(this.tableMain)&&(o=s.right-i),this.dragColBreak.style.left=`${i}px`,this.dragColBreak.dataset.w=String(o),{left:i,width:o}}handleColMouseDown(t){if(t.button!==0||(t.preventDefault(),!this.tableMain))return;const[e]=ws(this.tableMain,ve);if(!e)return;const s=this.tableMain.getCols(),r=e.domNode.getBoundingClientRect();if(this.colIndex=this.findCurrentColIndex(t),this.colIndex===-1)return;const i=s[this.colIndex].width,o=this.tableMain.full?i/100*r.width:i;document.addEventListener("mouseup",this.handleColMouseUpFunc),document.addEventListener("mousemove",this.handleColMouseMoveFunc),this.dragging=!0;const l=document.createElement("div");l.classList.add(this.dragBEM.b()),l.classList.add(this.dragBEM.is("col")),l.dataset.w=String(o);const a={top:r.y,left:t.clientX,height:r.height};Object.assign(l.style,{top:`${a.top}px`,left:`${a.left}px`,height:`${a.height}px`});const c=document.body;return c.appendChild(l),this.dragColBreak&&c.removeChild(this.dragColBreak),this.dragColBreak=l,a}findCurrentRowIndex(t){return-1}rowHeightChange(t,e){}handleRowMouseUp(){if(!this.tableMain||!this.dragRowBreak||this.rowIndex===-1)return;const t=Number.parseInt(this.dragRowBreak.dataset.h||"0");this.tableMain.getRows()[this.rowIndex].setHeight(`${t}px`),this.rowHeightChange(this.rowIndex,t),document.body.removeChild(this.dragRowBreak),this.dragRowBreak=null,document.removeEventListener("mouseup",this.handleRowMouseUpFunc),document.removeEventListener("mousemove",this.handleRowMouseMoveFunc),this.dragging=!1,this.quill.emitter.emit(_o.AFTER_TABLE_RESIZE)}handleRowMouseMove(t){if(!this.tableMain||!this.dragRowBreak||this.rowIndex===-1)return;t.preventDefault();const e=this.tableMain.getRows()[this.rowIndex].domNode.getBoundingClientRect();let s=t.clientY;return s-e.y<Bt.rowMinHeightPx&&(s=e.y+Bt.rowMinHeightPx),this.dragRowBreak.style.top=`${s}px`,this.dragRowBreak.dataset.h=String(s-e.y),{top:s,height:s-e.y}}handleRowMouseDown(t){if(t.button!==0||(t.preventDefault(),!this.tableMain)||(this.rowIndex=this.findCurrentRowIndex(t),this.rowIndex===-1))return;this.dragging=!0,document.addEventListener("mouseup",this.handleRowMouseUpFunc),document.addEventListener("mousemove",this.handleRowMouseMoveFunc);const e=this.tableMain.getRows()[this.rowIndex].domNode.getBoundingClientRect().height,s=this.tableMain.domNode.getBoundingClientRect(),r=document.createElement("div");r.classList.add(this.dragBEM.b()),r.classList.add(this.dragBEM.is("row")),r.dataset.h=String(e);const i={top:t.clientY,left:s.x,width:s.width};Object.assign(r.style,{top:`${i.top}px`,left:`${i.left}px`,width:`${i.width}px`});const o=document.body;return o.appendChild(r),this.dragRowBreak&&o.removeChild(this.dragRowBreak),this.dragRowBreak=r,i}update(){}destroy(){}}class lT extends oT{constructor(e,s,r){super(e,r);w(this,"tableModule");w(this,"table");w(this,"root");w(this,"tableMain");w(this,"tableWrapper");w(this,"resizeObserver");w(this,"tableCols",[]);w(this,"tableRows",[]);w(this,"rowHeadWrapper",null);w(this,"colHeadWrapper",null);w(this,"corner",null);w(this,"scrollHandler",[]);w(this,"lastHeaderSelect",null);w(this,"size",12);w(this,"bem",zt("resize-box"));w(this,"updateWhenTextChange",()=>{this.update()});w(this,"handleColMouseDownFunc",(function(e){const s=this.handleColMouseDown(e);if(s&&this.dragColBreak){const[r]=ws(this.tableMain,ln),i=r&&r.side==="top"?0:this.size;Object.assign(this.dragColBreak.style,{top:s.top-i+"px",left:`${s.left}px`,height:`${s.height+this.size}px`})}return s}).bind(this));w(this,"handleRowMouseDownFunc",(function(e){const s=this.handleRowMouseDown(e);return s&&this.dragRowBreak&&Object.assign(this.dragRowBreak.style,{top:`${s.top}px`,left:s.left-this.size+"px",width:`${s.width+this.size}px`}),s}).bind(this));this.tableModule=e,this.table=s,this.tableMain=I.find(this.table),this.tableMain&&(this.tableWrapper=this.tableMain.parent,this.tableWrapper&&(this.root=this.tableModule.addContainer(this.bem.b()),this.resizeObserver=new ResizeObserver(()=>{this.show()}),this.resizeObserver.observe(this.table),this.quill.on(I.events.TEXT_CHANGE,this.updateWhenTextChange)))}handleResizerHeader(e,s,r){const{clientX:i,clientY:o}=r,l=this.table.getBoundingClientRect();if(this.tableModule.tableSelection){const a=this.tableModule.tableSelection;r.shiftKey||(this.lastHeaderSelect=null);const c=[{x:e?l.left:i,y:e?o:l.top},{x:e?l.right:i,y:e?o:l.bottom}];if(this.lastHeaderSelect){let u,f;if(this.lastHeaderSelect.isX){const d=Array.from(this.root.getElementsByClassName(this.bem.be("row-header")))[this.lastHeaderSelect.index].getBoundingClientRect();u=Math.min(d.left,l.left),f=d.top+d.height/2}else{const d=Array.from(this.root.getElementsByClassName(this.bem.be("col-header")))[this.lastHeaderSelect.index].getBoundingClientRect();u=d.left+d.width/2,f=Math.min(d.top,l.top)}this.lastHeaderSelect.isX!==e?(c[1]={x:Math.max(c[0].x,u),y:Math.max(c[0].y,f)},c[0]={x:Math.min(c[0].x,u),y:Math.min(c[0].y,f)}):e?(c[0].y=Math.min(c[0].y,f),c[1].y=Math.max(c[1].y,f)):(c[0].x=Math.min(c[0].x,u),c[1].x=Math.max(c[1].x,u))}else this.lastHeaderSelect={isX:e,index:s};a.table=this.table,a.selectedTds=a.computeSelectedTds(...c),a.show()}}findCurrentColIndex(e){return Array.from(this.root.getElementsByClassName(this.bem.be("col-separator"))).indexOf(e.target)}colWidthChange(e,s,r){Array.from(this.root.getElementsByClassName(this.bem.be("col-header")))[e].style.width=r?`${s.pre}%`:`${s.px}px`}bindColEvents(){const e=Array.from(this.root.getElementsByClassName(this.bem.be("col-header"))),s=Array.from(this.root.getElementsByClassName(this.bem.be("col-separator")));qn.call(this,this.tableWrapper.domNode,()=>{this.colHeadWrapper.scrollLeft=this.tableWrapper.domNode.scrollLeft});for(const[r,i]of e.entries())i.addEventListener("click",this.handleResizerHeader.bind(this,!1,r));for(const r of s)r.addEventListener("mousedown",this.handleColMouseDownFunc),r.addEventListener("dragstart",i=>i.preventDefault())}findCurrentRowIndex(e){return Array.from(this.root.getElementsByClassName(this.bem.be("row-separator"))).indexOf(e.target)}rowHeightChange(e,s){Array.from(this.root.getElementsByClassName(this.bem.be("row-header")))[e].style.height=`${s}px`}bindRowEvents(){const e=Array.from(this.root.getElementsByClassName(this.bem.be("row-header"))),s=Array.from(this.root.getElementsByClassName(this.bem.be("row-separator")));qn.call(this,this.tableWrapper.domNode,()=>{this.rowHeadWrapper.scrollTop=this.tableWrapper.domNode.scrollTop});for(const[r,i]of e.entries())i.addEventListener("click",this.handleResizerHeader.bind(this,!0,r));for(const r of s)r.addEventListener("mousedown",this.handleRowMouseDownFunc),r.addEventListener("dragstart",i=>i.preventDefault())}update(){const[e]=ws(this.tableMain,ve);if(!e)return;const s=this.tableWrapper.domNode.getBoundingClientRect(),r=e.domNode.getBoundingClientRect(),i=this.quill.root.getBoundingClientRect();Object.assign(this.root.style,{top:Math.max(r.y,s.y)-i.y+"px",left:Math.max(r.x,s.x)-i.x+"px"});let o=-1*this.size,l=-1*this.size;Ai(this.tableMain)?(this.root.classList.add(this.bem.is("align-right")),o=Math.min(s.width,r.width),l=Math.min(s.width,r.width)):this.root.classList.remove(this.bem.is("align-right"));const[a]=ws(this.tableMain,ln),c=!a||!(a&&a.side==="top");c?this.root.classList.remove(this.bem.is("caption-bottom")):this.root.classList.add(this.bem.is("caption-bottom")),this.corner&&Object.assign(this.corner.style,{transform:`translateY(${-1*this.size}px) translateX(${o}px)`,top:`${c?0:r.height+this.size}px`}),this.rowHeadWrapper&&Object.assign(this.rowHeadWrapper.style,{transform:`translateX(${l}px)`}),this.colHeadWrapper&&Object.assign(this.colHeadWrapper.style,{top:`${c?0:r.height+this.size}px`})}show(){this.tableCols=this.tableMain.getCols(),this.tableRows=this.tableMain.getRows(),this.root.innerHTML="";const[e]=ws(this.tableMain,ve);if(!e)return;const s=e.domNode.getBoundingClientRect(),r=this.tableWrapper.domNode.getBoundingClientRect();if(this.tableCols.length>0&&this.tableRows.length>0&&(this.corner=document.createElement("div"),this.corner.classList.add(this.bem.be("corner")),Object.assign(this.corner.style,{width:`${this.size}px`,height:`${this.size}px`}),this.corner.addEventListener("click",()=>{if(this.tableModule.tableSelection){const i=this.tableMain.descendants(Ht),o=this.tableModule.tableSelection;o.selectedTds=i,o.show(),o.updateWithSelectedTds()}}),this.root.appendChild(this.corner)),this.tableCols.length>0){let i="";for(const[,a]of this.tableCols.entries()){const c=a.domNode.getBoundingClientRect().width;i+=`<div class="${this.bem.be("col-header")}" style="width: ${c}px">
          <div class="${this.bem.be("col-separator")}" style="height: ${s.height+this.size-3}px"></div>
        </div>`}const o=document.createElement("div");o.classList.add(this.bem.be("col"));const l=document.createElement("div");l.classList.add(this.bem.be("col-wrapper")),Object.assign(o.style,{transform:`translateY(-${this.size}px)`,maxWidth:`${r.width}px`,height:`${this.size}px`}),Object.assign(l.style,{width:`${s.width}px`}),l.innerHTML=i,o.appendChild(l),this.root.appendChild(o),o.scrollLeft=this.tableWrapper.domNode.scrollLeft,this.colHeadWrapper=o,this.bindColEvents()}if(this.tableRows.length>0){let i="";for(const[,a]of this.tableRows.entries()){const c=`${a.domNode.getBoundingClientRect().height}px`;i+=`<div class="${this.bem.be("row-header")}" style="height: ${Number.parseFloat(c)}px">
          <div class="${this.bem.be("row-separator")}" style="width: ${s.width+this.size-3}px"></div>
        </div>`}const o=document.createElement("div");o.classList.add(this.bem.be("row"));const l=document.createElement("div");l.classList.add(this.bem.be("row-wrapper")),Object.assign(o.style,{transform:`translateX(-${this.size}px)`,width:`${this.size}px`,maxHeight:`${r.height}px`}),Object.assign(l.style,{height:`${s.height}px`}),l.innerHTML=i,o.appendChild(l),this.root.appendChild(o),o.scrollTop=this.tableWrapper.domNode.scrollTop,this.rowHeadWrapper=o,this.bindRowEvents()}this.update(),qn.call(this,this.quill.root,()=>{this.update()})}hide(){this.root.classList.add(this.bem.is("hidden"))}destroy(){this.hide(),ur.call(this),this.resizeObserver.disconnect(),this.quill.off(I.events.TEXT_CHANGE,this.updateWhenTextChange);for(const[e,s]of this.scrollHandler)e.removeEventListener("scroll",s);this.root.remove()}}class aT{constructor(t,e,s,r){w(this,"tableModule");w(this,"table");w(this,"quill");w(this,"scrollHandler",[]);w(this,"tableMainBlot",null);w(this,"tableWrapperBlot",null);w(this,"bem",zt("scale"));w(this,"startX",0);w(this,"startY",0);w(this,"offset",6);w(this,"options");w(this,"root");w(this,"block");w(this,"resizeobserver",new ResizeObserver(()=>this.update()));w(this,"updateWhenTextChange",()=>{this.update()});this.tableModule=t,this.table=e,this.quill=s,this.options=this.resolveOptions(r),this.tableMainBlot=I.find(e),this.tableMainBlot&&!this.tableMainBlot.full&&(this.tableWrapperBlot=this.tableMainBlot.parent,this.buildResizer(),this.show()),this.quill.on(I.events.TEXT_CHANGE,this.updateWhenTextChange)}resolveOptions(t){return Object.assign({blockSize:12},t)}buildResizer(){if(!this.tableMainBlot||!this.tableWrapperBlot)return;this.root=this.tableModule.addContainer(this.bem.b()),this.root.classList.add(this.bem.is("hidden")),this.block=document.createElement("div"),this.block.classList.add(this.bem.be("block")),Object.assign(this.block.style,{width:`${this.options.blockSize}px`,height:`${this.options.blockSize}px`}),this.root.appendChild(this.block);let t=[],e=[];const s=i=>{if(!this.tableMainBlot)return;const o=Ai(this.tableMainBlot)?-1:1,l=(i.clientX-this.startX)*o,a=i.clientY-this.startY,c=Math.floor(l/t.length),u=Math.floor(a/e.length);for(const{blot:f,width:d}of t)f.width=Math.max(d+c,Bt.colMinWidthPx);for(const{blot:f,height:d}of e)f.setHeight(`${Math.max(d+u,Bt.rowMinHeightPx)}px`)},r=()=>{t=[],e=[],document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",r)};this.block.addEventListener("mousedown",i=>{this.tableMainBlot&&!this.isTableOutofEditor()&&(this.startX=i.clientX,this.startY=i.clientY,t=this.tableMainBlot.getCols().map(o=>({blot:o,width:Math.floor(o.width)})),e=this.tableMainBlot.getRows().map(o=>({blot:o,height:Math.floor(o.domNode.getBoundingClientRect().height)})),document.addEventListener("mousemove",s),document.addEventListener("mouseup",r))}),this.block.addEventListener("dragstart",i=>i.preventDefault()),this.resizeobserver.observe(this.tableMainBlot.domNode),qn.call(this,this.quill.root,()=>this.update()),qn.call(this,this.tableWrapperBlot.domNode,()=>this.update())}isTableOutofEditor(){if(!this.tableMainBlot||!this.tableWrapperBlot||this.tableMainBlot.full)return!1;const t=this.tableMainBlot.domNode.getBoundingClientRect(),e=this.tableWrapperBlot.domNode.getBoundingClientRect();if(t.width>e.width){for(const s of this.tableMainBlot.getCols())s.width=Math.floor(s.width/t.width*e.width);return this.tableMainBlot.colWidthFillTable(),!0}return!1}update(){if(!(this.block&&this.root&&this.tableMainBlot&&this.tableWrapperBlot))return;if(this.tableMainBlot.full)return void this.hide();const[t]=ws(this.tableMainBlot,ve);if(!t)return;const e=t.domNode.getBoundingClientRect(),s=this.tableWrapperBlot.domNode.getBoundingClientRect(),r=this.quill.root.getBoundingClientRect(),{scrollTop:i,scrollLeft:o}=this.tableWrapperBlot.domNode,l=2*this.options.blockSize+this.offset,a=Math.min(e.width,s.width)+l,c=Math.min(e.height,s.height)+l;Object.assign(this.root.style,{width:`${a}px`,height:`${c}px`,left:Math.max(e.x,s.x)-r.x-this.options.blockSize+"px",top:Math.max(e.y,s.y)-r.y-this.options.blockSize+"px"});const u={left:e.width+l-o+"px",top:c-i+"px"};Ai(this.tableMainBlot)?(this.root.classList.add(this.bem.is("align-right")),u.left=`${this.options.blockSize+-1*o}px`):this.root.classList.remove(this.bem.is("align-right")),Object.assign(this.block.style,u)}show(){this.root&&(this.root.classList.remove(this.bem.is("hidden")),this.update())}hide(){this.root&&this.root.classList.add(this.bem.is("hidden"))}destroy(){this.hide(),this.quill.off(I.events.TEXT_CHANGE,this.updateWhenTextChange),this.root&&this.root.remove(),ur.call(this)}}class gd{constructor(t,e,s,r){w(this,"quill");w(this,"isVertical");w(this,"table");w(this,"scrollbarContainer");w(this,"minSize",20);w(this,"gap",4);w(this,"move",0);w(this,"cursorDown",!1);w(this,"cursorLeave",!1);w(this,"ratioY",1);w(this,"ratioX",1);w(this,"sizeWidth","");w(this,"sizeHeight","");w(this,"size","");w(this,"thumbState",{X:0,Y:0});w(this,"ob");w(this,"container");w(this,"scrollbar");w(this,"thumb",document.createElement("div"));w(this,"scrollHandler",[]);w(this,"propertyMap");w(this,"bem",zt("scrollbar"));w(this,"tableMainBlot");w(this,"showScrollbar",$o(()=>{this.cursorLeave=!1,this.scrollbar.removeEventListener("transitionend",this.hideScrollbarTransitionend),this.scrollbar.style.display=this.size?"block":"none",requestAnimationFrame(()=>{this.scrollbar.classList.remove(this.bem.is("transparent"))})},200));w(this,"hideScrollbar",$o(()=>{this.cursorLeave=!0,this.cursorDown||(this.scrollbar.removeEventListener("transitionend",this.hideScrollbarTransitionend),this.scrollbar.addEventListener("transitionend",this.hideScrollbarTransitionend,{once:!0}),this.scrollbar.classList.add(this.bem.is("transparent")))},200));w(this,"hideScrollbarTransitionend",()=>{this.scrollbar.style.display=this.cursorDown&&this.size?"block":"none"});this.quill=t,this.isVertical=e,this.table=s,this.scrollbarContainer=r,this.tableMainBlot=I.find(this.table),this.container=s.parentElement,this.propertyMap=this.isVertical?{size:"height",offset:"offsetHeight",scrollDirection:"scrollTop",scrollSize:"scrollHeight",axis:"Y",direction:"top",client:"clientY"}:{size:"width",offset:"offsetWidth",scrollDirection:"scrollLeft",scrollSize:"scrollWidth",axis:"X",direction:"left",client:"clientX"},this.calculateSize(),this.ob=new ResizeObserver(()=>{this.update()}),this.ob.observe(s),this.scrollbar=this.createScrollbar(),this.setScrollbarPosition(),qn.call(this,this.quill.root,()=>this.setScrollbarPosition()),this.showScrollbar()}update(){this.calculateSize(),this.setScrollbarPosition()}setScrollbarPosition(){const[t]=ws(this.tableMainBlot,ve);if(!t)return;const{scrollLeft:e,scrollTop:s}=this.quill.root,{offsetLeft:r,offsetTop:i}=this.container,{offsetLeft:o,offsetTop:l}=t.domNode,{width:a,height:c}=this.container.getBoundingClientRect(),{width:u,height:f}=t.domNode.getBoundingClientRect();let d=r+o,p=i+l;this.isVertical?d+=Math.min(a,u):p+=Math.min(c,f),this.tableMainBlot&&this.tableMainBlot.align!=="left"&&(d+=this.table.offsetLeft-r),Object.assign(this.scrollbar.style,{[this.propertyMap.size]:`${this.isVertical?Math.min(c,f):a}px`,transform:`translate(${d-e}px, ${p-s}px)`}),this.containerScrollHandler(this.container)}calculateSize(){const t=this.container.offsetHeight-this.gap,e=this.container.offsetWidth-this.gap,s=t**2/this.container.scrollHeight,r=e**2/this.container.scrollWidth,i=Math.max(s,this.minSize),o=Math.max(r,this.minSize);this.ratioY=s/(t-s)/(i/(t-i)),this.ratioX=r/(e-r)/(o/(e-o)),this.sizeWidth=o+this.gap<e?`${o}px`:"",this.sizeHeight=i+this.gap<t?`${i}px`:"",this.size=this.isVertical?this.sizeHeight:this.sizeWidth}createScrollbar(){const t=document.createElement("div");t.classList.add(this.bem.b()),t.classList.add(this.isVertical?this.bem.is("vertical"):this.bem.is("horizontal"),this.bem.is("transparent")),Object.assign(t.style,{display:"none"}),this.thumb.classList.add(this.bem.be("thumb"));let e=null;const s=l=>{if(this.cursorDown===!1)return;const a=this.thumbState[this.propertyMap.axis];if(!a)return;const c=this.scrollbar[this.propertyMap.offset]**2/this.container[this.propertyMap.scrollSize]/(this.isVertical?this.ratioY:this.ratioX)/this.thumb[this.propertyMap.offset],u=100*(-1*(this.scrollbar.getBoundingClientRect()[this.propertyMap.direction]-l[this.propertyMap.client])-(this.thumb[this.propertyMap.offset]-a))*c/this.scrollbar[this.propertyMap.offset];this.container[this.propertyMap.scrollDirection]=u*this.container[this.propertyMap.scrollSize]/100},r=()=>{this.thumbState[this.propertyMap.axis]=0,this.cursorDown=!1,document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",r),this.cursorLeave&&this.hideScrollbar(),document.onselectstart=e},i=l=>{l.stopImmediatePropagation(),this.cursorDown=!0,document.addEventListener("mousemove",s),document.addEventListener("mouseup",r),e=document.onselectstart,document.onselectstart=()=>!1};this.thumb.addEventListener("mousedown",l=>{var c;if(l.stopPropagation(),l.ctrlKey||[1,2].includes(l.button))return;(c=window.getSelection())==null||c.removeAllRanges(),i(l);const a=l.currentTarget;a&&(this.thumbState[this.propertyMap.axis]=a[this.propertyMap.offset]-(l[this.propertyMap.client]-a.getBoundingClientRect()[this.propertyMap.direction]))});const o=[this.table,t];for(const l of o)l.addEventListener("mouseenter",this.showScrollbar),l.addEventListener("mouseleave",this.hideScrollbar);return qn.call(this,this.container,()=>{this.containerScrollHandler(this.container)}),t.appendChild(this.thumb),t}containerScrollHandler(t){const e=t[this.propertyMap.offset]-this.gap;this.move=100*t[this.propertyMap.scrollDirection]/e*(this.isVertical?this.ratioY:this.ratioX),Object.assign(this.thumb.style,{[this.propertyMap.size]:this.size,transform:`translate${this.propertyMap.axis}(${this.move}%)`})}destroy(){this.ob.disconnect(),ur.call(this),this.table.removeEventListener("mouseenter",this.showScrollbar),this.table.removeEventListener("mouseleave",this.hideScrollbar)}}class cT{constructor(t,e,s){w(this,"tableModule");w(this,"table");w(this,"quill");w(this,"scrollbarContainer");w(this,"scrollbar");w(this,"bem",zt("scrollbar"));w(this,"updateWhenTextChange",()=>{this.update()});this.tableModule=t,this.table=e,this.quill=s,this.scrollbarContainer=this.tableModule.addContainer(this.bem.be("container")),this.scrollbar=[new gd(s,!0,e,this.scrollbarContainer),new gd(s,!1,e,this.scrollbarContainer)];for(const r of this.scrollbar)this.scrollbarContainer.appendChild(r.scrollbar);this.quill.on(I.events.TEXT_CHANGE,this.updateWhenTextChange)}hide(){for(const t of this.scrollbar)t.hideScrollbar()}show(){for(const t of this.scrollbar)t.showScrollbar()}update(){for(const t of this.scrollbar)t.calculateSize(),t.setScrollbarPosition()}destroy(){this.scrollbarContainer.remove(),this.quill.off(I.events.TEXT_CHANGE,this.updateWhenTextChange);for(const t of this.scrollbar)t.destroy()}}class uT{constructor(t,e,s={}){w(this,"tableModule");w(this,"quill");w(this,"options");w(this,"boundary",null);w(this,"startScrollX",0);w(this,"startScrollY",0);w(this,"selectedTableScrollX",0);w(this,"selectedTableScrollY",0);w(this,"selectedEditorScrollX",0);w(this,"selectedEditorScrollY",0);w(this,"selectedTds",[]);w(this,"cellSelectWrap");w(this,"cellSelect");w(this,"dragging",!1);w(this,"scrollHandler",[]);w(this,"tableMenu");w(this,"resizeObserver");w(this,"table");w(this,"isDisplaySelection",!1);w(this,"bem",zt("selection"));w(this,"lastSelection",{anchorNode:null,anchorOffset:0,focusNode:null,focusOffset:0});w(this,"updateAfterEvent",()=>{this.updateWithSelectedTds()});w(this,"quillSelectionChangeHandler",(t,e,s)=>{if(s!==I.sources.API&&t&&this.selectedTds.length>0){const r=this.quill.getFormat(t),[i]=this.quill.getLine(t.index),o=!!r[M.tableCellInner]&&!!i,l=this.selectedTds.some(a=>a.children.contains(i));if(o&&!l)try{const a=jt(i,M.tableCellInner);this.selectedTds=[a],this.updateWithSelectedTds()}catch{}else o&&l||this.hide()}});w(this,"selectionChangeHandler",()=>{const t=window.getSelection();if(!t)return;const{anchorNode:e,focusNode:s,anchorOffset:r,focusOffset:i}=t;if(!e||!s)return;const o=I.find(e),l=I.find(s);if(!o||!l||o.scroll!==this.quill.scroll||l.scroll!==this.quill.scroll)return;const a=Qh(o),c=Qh(l),u=a.has(M.tableColgroup),f=c.has(M.tableColgroup);if(u||f){let b=e,v=r,E=s,N=i;if(u){const S=a.get(M.tableWrapper).descendants(Ht);S.length>0&&(b=S[0].domNode,v=0)}if(f){const S=c.get(M.tableWrapper).descendants(Ht);S.length>0&&(E=S[0].domNode,N=0)}return void this.setSelectionData(t,{anchorNode:b,anchorOffset:v,focusNode:E,focusOffset:N})}const d=a.has(M.tableCellInner),p=c.has(M.tableCellInner);let g=d&&p;if(g){const b=a.get(M.tableCellInner),v=c.get(M.tableCellInner);g&&(g=b!==v)}if(d&&p&&g||!d&&p||!p&&d)return this.setSelectionData(t,this.lastSelection),void(this.selectedTds.length>0&&this.hide());this.lastSelection={anchorNode:e,anchorOffset:r,focusNode:s,focusOffset:i}});w(this,"mouseDownHandler",t=>{const{button:e,target:s,clientX:r,clientY:i}=t,o=s.closest(".ql-table"),l=s.closest("tbody");if(e!==0||!o||!l)return;this.setSelectionTable(o);const a=o.dataset.tableId,c={x:r,y:i};this.selectedTds=this.computeSelectedTds(c,c),this.dragging=!0,this.show();const u=d=>{this.tableMenu&&this.tableMenu.hide(),this.tableModule.tableResize&&this.tableModule.tableResize.hide();const{button:p,target:g,clientX:b,clientY:v}=d,E=g.closest("tbody");if(p!==0||!E||E.dataset.tableId!==a)return;const N={x:b,y:v};this.selectedTds=this.computeSelectedTds(c,N),this.selectedTds.length>1&&this.quill.blur(),this.update()},f=()=>{document.body.removeEventListener("mousemove",u,!1),document.body.removeEventListener("mouseup",f,!1),this.dragging=!1,this.tableMenu&&this.selectedTds.length>0&&this.tableMenu.show()};document.body.addEventListener("mousemove",u,!1),document.body.addEventListener("mouseup",f,!1)});w(this,"removeCell",t=>{if(!(this.quill.getSelection()||t.key!=="Backspace"&&t.key!=="Delete")){for(const e of this.selectedTds)e.deleteAt(0,e.length()-1);if(this.table){const e=I.find(this.table),s=e.descendants(Ht);this.selectedTds.length===s.length&&e.remove()}}});this.tableModule=t,this.quill=e,this.options=this.resolveOptions(s),this.cellSelectWrap=t.addContainer(this.bem.b()),this.cellSelect=this.helpLinesInitial(),this.resizeObserver=rg(()=>this.updateAfterEvent(),{ignoreFirstBind:!0}),this.resizeObserver.observe(this.quill.root),this.quill.root.addEventListener("mousedown",this.mouseDownHandler,{passive:!1}),document.addEventListener("selectionchange",this.selectionChangeHandler,{passive:!1}),this.quill.on(_o.AFTER_TABLE_RESIZE,this.updateAfterEvent),this.quill.on(I.events.SELECTION_CHANGE,this.quillSelectionChangeHandler),this.quill.on(I.events.TEXT_CHANGE,this.updateAfterEvent),this.options.tableMenu&&(this.tableMenu=new this.options.tableMenu(t,e,this.options.tableMenuOptions)),this.hide()}getFirstTextNode(t){for(const e of Array.from(t.childNodes))if(e.nodeType===Node.TEXT_NODE)return e;return t}getLastTextNode(t){for(let e=t.childNodes.length-1;e>=0;e--){const s=t.childNodes[e];if(s.nodeType===Node.TEXT_NODE)return s}return t}getNodeTailOffset(t){const e=document.createRange();return e.selectNodeContents(t),e.collapse(!1),e.startOffset}setSelectionData(t,e){const{anchorNode:s,anchorOffset:r,focusNode:i,focusOffset:o}=e;if(!s||!i)return;const l=document.createRange(),a=this.selectionDirectionUp(e);a?(l.setStart(s,r),l.setEnd(s,r)):(l.setStart(s,r),l.setEnd(i,o)),t.removeAllRanges(),t.addRange(l),a&&t.extend(i,o)}selectionDirectionUp(t){const{anchorNode:e,anchorOffset:s,focusNode:r,focusOffset:i}=t;if(!e||!r)return!1;if(e===r)return s>i;const o=e.compareDocumentPosition(r);return o&Node.DOCUMENT_POSITION_CONTAINS||o&Node.DOCUMENT_POSITION_CONTAINED_BY?!!(o&Node.DOCUMENT_POSITION_FOLLOWING):!!(o&Node.DOCUMENT_POSITION_PRECEDING)}findWrapSelection(t){let e=null,s=0,r=null,i=0;for(const{node:o,offset:l}of t)o&&(e&&!this.selectionDirectionUp({anchorNode:e,anchorOffset:s,focusNode:o,focusOffset:l})||(e=o,s=l),r&&!this.selectionDirectionUp({anchorNode:o,anchorOffset:l,focusNode:r,focusOffset:i})||(r=o,i=l));return{startNode:e,startOffset:s,endNode:r,endOffset:i}}resolveOptions(t){return Object.assign({selectColor:"#0589f340",tableMenuOptions:{}},t)}helpLinesInitial(){this.cellSelectWrap.style.setProperty("--select-color",this.options.selectColor);const t=document.createElement("div");return t.classList.add(this.bem.be("line")),this.cellSelectWrap.appendChild(t),t}computeSelectedTds(t,e){if(!this.table)return[];const s=I.find(this.table);if(!s)return[];const r=s.descendants(ve)[0];if(!r)return[];const i=new Set(r.descendants(Wt).map((v,E)=>(v.index=E,v))),{x:o,y:l}=this.getTableViewScroll(),{x:a,y:c}=this.getQuillViewScroll();this.selectedTableScrollX=o,this.selectedTableScrollY=l,this.selectedEditorScrollX=a,this.selectedEditorScrollY=c;const u=r.domNode.getBoundingClientRect(),f=t.x-o+this.startScrollX,d=t.y-l+this.startScrollY;let p={x:Math.max(u.left,Math.min(e.x,f)),y:Math.max(u.top,Math.min(e.y,d)),x1:Math.min(u.right,Math.max(e.x,f)),y1:Math.min(u.bottom,Math.max(e.y,d))};const g=new Set;let b=!0;for(;b;){b=!1;for(const v of i){v.__rect||(v.__rect=v.domNode.getBoundingClientRect());const{x:E,y:N,right:S,bottom:_}=v.__rect;if(FE({x:Math.floor(p.x),y:Math.floor(p.y),x1:Math.floor(p.x1),y1:Math.floor(p.y1)},{x:Math.floor(E),y:Math.floor(N),x1:Math.floor(S),y1:Math.floor(_)},0,g.size===0)){g.add(v),i.delete(v),p={x:Math.min(p.x,E),y:Math.min(p.y,N),x1:Math.max(p.x1,S),y1:Math.max(p.y1,_)},b=!0;break}}}for(const v of[...g,...i])delete v.__rect;return this.boundary=function(v,E){const N=E.getBoundingClientRect();return{x:v.x-N.x-E.scrollLeft,y:v.y-N.y-E.scrollTop,x1:v.x-N.x-E.scrollLeft+v.width,y1:v.y-N.y-E.scrollTop+v.height,width:v.width,height:v.height}}({...p,width:p.x1-p.x,height:p.y1-p.y},this.quill.root),Array.from(g).sort((v,E)=>v.index-E.index).map(v=>(delete v.index,v.getCellInner()))}updateWithSelectedTds(){if(this.selectedTds.length<=0)return;const t={x:1/0,y:1/0},e={x:-1/0,y:-1/0};for(const s of this.selectedTds){const r=s.domNode.getBoundingClientRect();t.x=Math.min(t.x,r.left),t.y=Math.min(t.y,r.top),e.x=Math.max(e.x,r.right),e.y=Math.max(e.y,r.bottom)}this.selectedTds=this.computeSelectedTds(t,e),this.selectedTds.length>0?this.update():this.hide()}update(){if(this.selectedTds.length===0||!this.boundary||!this.table)return;const{x:t,y:e}=this.getQuillViewScroll(),{x:s,y:r}=this.getTableViewScroll(),i=this.table.parentElement.getBoundingClientRect(),o=this.quill.root.getBoundingClientRect(),l=i.x-o.x,a=i.y-o.y;this.startScrollX=s,this.startScrollY=r,Object.assign(this.cellSelect.style,{left:2*this.selectedEditorScrollX-t+this.boundary.x+this.selectedTableScrollX-s-l+"px",top:2*this.selectedEditorScrollY-e+this.boundary.y+this.selectedTableScrollY-r-a+"px",width:`${this.boundary.width}px`,height:`${this.boundary.height}px`}),Object.assign(this.cellSelectWrap.style,{left:`${l}px`,top:`${a}px`,width:`${i.width}px`,height:`${i.height}px`}),!this.dragging&&this.tableMenu&&this.tableMenu.update()}getQuillViewScroll(){return{x:this.quill.root.scrollLeft,y:this.quill.root.scrollTop}}getTableViewScroll(){return this.table?{x:this.table.parentElement.scrollLeft,y:this.table.parentElement.scrollTop}:{x:0,y:0}}setSelectionTable(t){this.table!==t&&(this.table=t)}showDisplay(){Object.assign(this.cellSelectWrap.style,{display:"block"}),this.isDisplaySelection=!0,this.table&&this.resizeObserver.observe(this.table)}show(){this.table&&(ur.call(this),this.update(),this.showDisplay(),document.addEventListener("keydown",this.removeCell),qn.call(this,this.quill.root,()=>{this.update()}),qn.call(this,this.table.parentElement,()=>{this.update()}))}hideDisplay(){Object.assign(this.cellSelectWrap.style,{display:"none"}),this.isDisplaySelection=!1,this.table&&this.resizeObserver.unobserve(this.table)}hide(){ur.call(this),document.removeEventListener("keydown",this.removeCell),this.hideDisplay(),this.boundary=null,this.selectedTds=[],this.setSelectionTable(void 0),this.tableMenu&&this.tableMenu.hide()}destroy(){this.resizeObserver.disconnect(),this.hide(),this.cellSelectWrap.remove(),this.tableMenu&&this.tableMenu.destroy(),ur.call(this),this.quill.root.removeEventListener("mousedown",this.mouseDownHandler),document.removeEventListener("selectionchange",this.selectionChangeHandler),this.quill.off(I.events.SELECTION_CHANGE,this.quillSelectionChangeHandler),this.quill.off(I.events.TEXT_CHANGE,this.updateAfterEvent),this.quill.on(_o.AFTER_TABLE_RESIZE,this.updateAfterEvent)}}const hT=I.import("parchment"),Wn=I.import("delta"),dT=I.import("blots/break"),fT=I.import("ui/icons");function pT(n,{tableId:t,rowId:e,colId:s}){const r={tableId:t,rowId:e,colId:s,colspan:1,rowspan:1},i=n.create(M.tableCell,r),o=n.create(M.tableCellInner,r),l=n.create("block");return l.appendChild(n.create("break")),o.appendChild(l),i.appendChild(o),i}function gT(n,t){return kE({onSelect:(e,s)=>{n.insertTable(e,s),t&&t.close()},customBtn:n.options.customBtn,texts:n.options.texts})}function md(n){return{bindInHead:!1,key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:[M.tableCellInner],handler(t,e){let s,r,i,o;try{[s,r,i,o]=Ei(e.line,[M.tableWrapper,M.tableMain,M.tableRow,M.tableCell])}catch{return!0}const l=r.getColIds(),a=n?"prev":"next",c=n?"tail":"head",u=s.descendants(ln,0)[0];let f;if(u){const p=window.getComputedStyle(u.domNode);f=a==="next"&&p.captionSide==="bottom"?u:a==="next"?s.next:u}else f=s[a];if(e.line[a]||!f)return!0;const d=i[a];if(d){const p=l.indexOf(o.colId),g=d.getCellByColId(l[p],a);if(!g)return!0;let b=g.children[c];b.children&&(b=b.children[c]);const v=b.offset(this.quill.scroll)+Math.min(e.offset,b.length()-1);this.quill.setSelection(v,0,I.sources.USER)}else{const p=f.offset(this.quill.scroll)+(n?f.length()-1:0);this.quill.setSelection(p,0,I.sources.USER)}return!1}}}const Js=class Js{constructor(t,e){w(this,"quill");w(this,"options");w(this,"toolBox");w(this,"fixTableByLisenter",$o(this.balanceTables,100));w(this,"selector");w(this,"table");w(this,"tableSelection");w(this,"tableResize");w(this,"tableScrollbar");w(this,"tableAlign");w(this,"tableResizeScale");this.quill=t,this.options=this.resolveOptions(e||{});const s=zt("toolbox");if(this.toolBox=this.quill.addContainer(s.b()),!this.options.scrollbar){const o=zt("scrollbar");this.quill.container.classList.add(o.bm("origin"))}this.options.selection&&(this.tableSelection=new this.options.selection(this,this.quill,this.options.selectionOptions));const r=this.quill.getModule("toolbar");if(r&&this.quill.theme.pickers){const[,o]=(r.controls||[]).find(([l])=>l===this.statics.toolName)||[];if(o&&o.tagName.toLocaleLowerCase()==="select"){const l=this.quill.theme.pickers.find(a=>a.select===o);l&&(l.label.innerHTML=this.options.icon,this.buildCustomSelect(this.options.customSelect,l),l.label.addEventListener("mousedown",()=>{if(!this.selector||!l)return;const a=this.selector.getBoundingClientRect(),{leftLimited:c}=sg(a);if(c){const u=l.label.getBoundingClientRect();Object.assign(l.options.style,{transform:`translateX(calc(-100% + ${u.width}px))`})}else Object.assign(l.options.style,{transform:void 0})}))}}const i=this.quill.getModule("keyboard");for(const o of Object.values(Js.keyboradHandler))o.bindInHead?i.bindings[o.key].unshift(o):i.addBinding(o.key,o);this.quill.root.addEventListener("click",o=>{const l=o.composedPath();if(!l||l.length<=0)return;const a=l.find(c=>c.tagName&&c.tagName.toUpperCase()==="TABLE"&&c.classList.contains("ql-table"));if(a){if(this.table===a)return this.tableSelection&&this.tableSelection.show(),this.tableAlign&&this.tableAlign.update(),this.tableResize&&this.tableResize.update(),void(this.tableScrollbar&&this.tableScrollbar.update());this.table&&this.hideTableTools(),this.showTableTools(a)}else this.table&&this.hideTableTools()},!1),this.quillHack(),this.listenBalanceCells()}static register(){On.allowedChildren=[Jt],Jt.allowedChildren=[ve,_n,ln],Jt.requiredContainer=On,ln.requiredContainer=Jt,_n.allowedChildren=[ns],_n.requiredContainer=Jt,ve.allowedChildren=[Me],ve.requiredContainer=Jt,Me.allowedChildren=[Wt],Wt.requiredContainer=ve,Wt.allowedChildren=[Ht,dT],Wt.requiredContainer=Me,Ht.requiredContainer=Wt;const t=["header","list","blockquote","code-block"].reduce((e,s)=>{const r=`formats/${s}`,i=I.import(r);return e[r]=class extends function(o,l){const a=class extends o{constructor(...c){super(...c)}};for(const c of l)ME(a.prototype,c.prototype);return a}(i,[uc]){static register(){}},e},{});I.register({"blots/scroll":XE,"blots/block":uc,...t,[`blots/${M.container}`]:bn,[`formats/${M.tableCell}`]:Wt,[`formats/${M.tableCellInner}`]:Ht,[`formats/${M.tableRow}`]:Me,[`formats/${M.tableBody}`]:ve,[`formats/${M.tableCol}`]:ns,[`formats/${M.tableColgroup}`]:_n,[`formats/${M.tableCaption}`]:ln,[`formats/${M.tableMain}`]:Jt,[`formats/${M.tableWrapper}`]:On,"modules/clipboard":sT},!0)}get statics(){return this.constructor}addContainer(t){if(ri(t)){const e=document.createElement("div");for(const s of t.split(" "))e.classList.add(s);return this.toolBox.appendChild(e),e}return this.toolBox.appendChild(t),t}resolveOptions(t){return Object.assign({customBtn:!1,texts:this.resolveTexts(t.texts||{}),full:!1,fullSwitch:!0,icon:fT.table,selectionOptions:{},alignOptions:{},scrollbarOptions:{},resizeOptions:{},resizeScaleOptions:{}},t)}resolveTexts(t){return Object.assign({fullCheckboxText:"Insert full width table",customBtnText:"Custom",confirmText:"Confirm",cancelText:"Cancel",rowText:"Row",colText:"Column",notPositiveNumberError:"Please enter a positive integer",custom:"Custom",clear:"Clear",transparent:"Transparent",perWidthInsufficient:"The percentage width is insufficient. To complete the operation, the table needs to be converted to a fixed width. Do you want to continue?",CopyCell:"Copy cell",CutCell:"Cut cell",InsertTop:"Insert row above",InsertRight:"Insert column right",InsertBottom:"Insert row below",InsertLeft:"Insert column Left",MergeCell:"Merge Cell",SplitCell:"Split Cell",DeleteRow:"Delete Row",DeleteColumn:"Delete Column",DeleteTable:"Delete table",BackgroundColor:"Set background color",BorderColor:"Set border color"},t)}quillHack(){var r;const t=this.quill.getSemanticHTML;this.quill.getSemanticHTML=(i=0,o)=>{const l=t.call(this.quill,i,o),a=I.import(`formats/${M.tableWrapper}`),c=new DOMParser().parseFromString(l,"text/html");for(const u of Array.from(c.querySelectorAll(`.${a.className} caption[contenteditable], .${a.className} td > [contenteditable]`)))u.removeAttribute("contenteditable");return c.body.innerHTML};const e=this.quill.format;this.quill.format=function(i,o,l=I.sources.API){if(!(this.scroll.query(i).prototype instanceof hT.EmbedBlot)){const a=this.getModule(va.moduleName),c=this.getSelection();if(c&&c.length>0&&this.getFormat(c)[M.tableCellInner])return e.call(this,i,o,l);if(a&&a.tableSelection&&a.tableSelection.selectedTds.length>0){const u=a.tableSelection.selectedTds;let f=!1;const d=[];for(const v of u){const E=v.offset(this.scroll),N=v.length();d.push({index:E,length:N}),this.getFormat(E,N)[i]!==o&&(f=!0)}const p=!!f&&o,g=new Wn;for(const[v,{index:E,length:N}]of d.entries()){const S=v===0?0:d[v-1].index+d[v-1].length;g.retain(E-S).retain(N,{[i]:p})}const b=this.updateContents(g,l);return this.blur(),b}}return e.call(this,i,o,l)};const s=this.quill.theme.modules.toolbar;if(s){const i=(r=s.handlers)==null?void 0:r.clean;if(i){const o=(l,a,c=()=>"")=>{const u=this.quill.getText(l,a),[f,d]=this.quill.getLine(l+a);let p=0,g=new Wn;f!=null&&(p=f.length()-d,g=f.delta().slice(d,d+p-1).insert(`
`));const b=this.quill.getContents(l,a+p),v=b.diff(new Wn().insert(u).concat(g));let E=0;const N=v.ops.map(S=>{const{attributes:_,...D}=S;if(S.insert?E-=ri(S.insert)?S.insert.length:1:S.retain?E+=typeof S.retain=="number"?S.retain:1:S.delete&&(E+=S.delete),_){const{[M.tableCellInner]:Q,...tt}=_;if(c){const lt=b.slice(E-1,E).ops[0];if(lt&&lt.attributes&&lt.attributes[M.tableCellInner]){const bt=lt.attributes[M.tableCellInner],{style:ft,...C}=bt,$=c(ft);return $?{...D,attributes:{...tt,[M.tableCellInner]:{style:$,...C}}}:{...D,attributes:{...tt,[M.tableCellInner]:C}}}}return{...D,attributes:{...tt}}}return S});return new Wn(N)};s.handlers.clean=function(l){const a=this.quill.getModule(va.moduleName),c=this.quill.getSelection();if(c&&c.length>0&&this.quill.getFormat(c)[M.tableCellInner]){const u=o(c.index,c.length,!1),f=new Wn().retain(c.index).concat(u);return void this.quill.updateContents(f,I.sources.USER)}if(a&&a.tableSelection&&a.tableSelection.selectedTds.length>0&&a.tableSelection.table){const u=I.find(a.tableSelection.table);if(!u)return void console.warn("TableMainFormat not found");const f=a.tableSelection.selectedTds,d=new Set,p=[];for(const N of f)if(N.parent instanceof Wt){for(const S of N.parent.getNearByCell("top"))d.has(S)||(d.add(S),p.push({td:S,cleanBorder:"bottom"}));for(const S of N.parent.getNearByCell("left"))d.has(S)||(d.add(S),p.push({td:S,cleanBorder:"right"}));d.add(N.parent),p.push({td:N.parent,cleanBorder:!0})}const g=u.descendants(Wt),b=new Map(g.map((N,S)=>[N,S]));p.sort((N,S)=>b.get(N.td)-b.get(S.td));let v=new Wn,E=0;for(const{td:N,cleanBorder:S}of p){const _=N.getCellInner().offset(this.quill.scroll),D=N.getCellInner().length(),Q=o(_,D-1,lt=>{if(!lt||S===!0)return"";const bt=ig(lt);return C=Object.keys(bt).filter($=>!$.startsWith(`border-${S}`)).reduce(($,A)=>($[A]=bt[A],$),{}),Object.entries(C).map(([$,A])=>`${$}: ${A};`).join(" ");var C}),tt=new Wn().retain(_-E).concat(Q);v=v.concat(tt),E=_+D}return this.quill.updateContents(v,I.sources.USER),void(f.length>1&&this.quill.blur())}return i.call(this,l)}}}}showTableTools(t){var e;t&&(this.table=t,(e=this.tableSelection)==null||e.show(),this.options.align&&(this.tableAlign=new this.options.align(this,t,this.quill,this.options.alignOptions)),this.options.scrollbar&&(this.tableScrollbar=new this.options.scrollbar(this,t,this.quill,this.options.scrollbarOptions)),this.options.resize&&(this.tableResize=new this.options.resize(this,t,this.quill,this.options.resizeOptions)),this.options.resizeScale&&(this.tableResizeScale=new this.options.resizeScale(this,t,this.quill,this.options.resizeScaleOptions)))}hideTableTools(){var t;(t=this.tableSelection)==null||t.hide(),this.tableScrollbar&&(this.tableScrollbar.destroy(),this.tableScrollbar=void 0),this.tableAlign&&(this.tableAlign.destroy(),this.tableAlign=void 0),this.tableResize&&(this.tableResize.destroy(),this.tableResize=void 0),this.tableResizeScale&&this.tableResizeScale.destroy(),this.table=void 0}async buildCustomSelect(t,e){if(!t||!lc(t))return;const s=document.createElement("div");if(s.classList.add("ql-custom-select"),this.selector=await t(this,e),s.appendChild(this.selector),this.options.fullSwitch){const r=zt("creator"),i=document.createElement("label");i.classList.add(r.be("checkbox"));const o=document.createElement("input");o.type="checkbox",o.checked=this.options.full,o.addEventListener("change",()=>{this.options.full=o.checked});const l=document.createElement("span");l.textContent=this.options.texts.fullCheckboxText,i.appendChild(o),i.appendChild(l),s.appendChild(i)}e.options.innerHTML="",e.options.appendChild(s)}setCellAttrs(t,e,s,r=!1){if(t.length!==0)for(const i of t)i.setFormatValue(e,s,r)}getTextByCell(t){let e="";for(const s of t){const r=s.offset(this.quill.scroll),i=s.length();for(const o of this.quill.getContents(r,i).ops)ri(o.insert)&&(e+=o.insert)}return e}getHTMLByCell(t,e=!1){if(t.length===0)return"";let s=null;try{for(const b of t){const v=jt(b,M.tableMain);if(s||(s=v),v!==s)return console.error("tableMain is not same"),""}}catch{return console.error("tds must be in same tableMain"),""}if(!s)return"";const r=this.quill.getIndex(s),i=s.length(),o=this.quill.getSemanticHTML(r,i),l=new DOMParser().parseFromString(o,"text/html"),a=[],c=new Set,u=new Set;for(const b of t)c.add(b.colId),u.add(`${b.rowId}-${b.colId}`);for(const b of Array.from(l.querySelectorAll("col")))c.has(b.dataset.colId)?a.push(b.getAttribute("width")):b.remove();let f=0,d=null;for(const b of Array.from(l.querySelectorAll("td")))if(u.has(`${b.dataset.rowId}-${b.dataset.colId}`))d!==b.dataset.rowId&&(f+=1,d=b.dataset.rowId);else{const v=b.parentElement;b.remove(),v&&v.children.length<=0&&v.remove()}const p=Array.from(l.querySelectorAll("col")),g=p.map(b=>ns.value(b));if(s.full){const b=g.reduce((v,E)=>E.width+v,0);for(const[v,E]of g.entries())E.width=Math.round(E.width/b*100),p[v].setAttribute("width",`${E.width}%`)}else{let b=0;for(const v of g)b+=v.width;l.querySelector("table").style.width=`${b}px`}if(e)if(f===s.getRows().length)this.removeCol(t);else for(const b of t)b.domNode.innerHTML="<p><br></p>";return l.body.innerHTML}insertTable(t,e){if(t>=30||e>=30)throw new Error("Both rows and columns must be less than 30.");this.quill.focus();const s=this.quill.getSelection();if(s==null)return;const[r]=this.quill.getLeaf(s.index);if(!r)return;if(Dp(r))throw new Error(`Not supported ${r.statics.blotName} insert into table.`);const i=this.calculateTableCellBorderWidth(),o=getComputedStyle(this.quill.root),l=Number.parseInt(o.paddingLeft),a=Number.parseInt(o.paddingRight),c=Number.parseInt(o.width)-l-a-i,u=_e(),f=new Array(e).fill(0).map(()=>_e()),d=this.options.full?`${Math.max(1/e*100,Bt.colMinWidthPre)}%`:`${Math.max(Math.floor(c/e),Bt.colMinWidthPx)}px`,p=[{retain:s.index},{insert:`
`}];for(let g=0;g<e;g++)p.push({insert:{[M.tableCol]:{width:d,tableId:u,colId:f[g],full:this.options.full}}});for(let g=0;g<t;g++){const b=_e();for(let v=0;v<e;v++)p.push({insert:`
`,attributes:{[M.tableCellInner]:{tableId:u,rowId:b,colId:f[v],rowspan:1,colspan:1}}})}this.quill.updateContents(new Wn(p),I.sources.USER),this.quill.setSelection(s.index+e+e*t+1,I.sources.SILENT),this.quill.focus()}calculateTableCellBorderWidth(){const t=`
      <table class="${Jt.className}">
        <tbody>
          <tr>
            <td class="${Wt.className}"></td>
          </tr>
        </tbody>
      </table>
    `,e=document.createElement("div");e.className=On.className,e.innerHTML=t,e.style.position="absolute",e.style.left="-9999px",e.style.top="-9999px",e.style.visibility="hidden",this.quill.root.appendChild(e);const s=window.getComputedStyle(e.querySelector("td")),r=Number.parseFloat(s.borderWidth)||0;return this.quill.root.removeChild(e),r}fixUnusuaDeletelTable(t){const e=t.getRows(),s=t.getColIds();if(e.length===0)return t.remove();if(s.length===0)return;const r=new Array(e.length).fill(0).map(()=>new Array(s.length).fill(!1)),i=t.tableId;for(const[o,l]of e.entries()){let a=0,c=0;const u=r[o],f=l.descendants(Wt);for(;c<s.length;){if(u[c]){c+=1;continue}const d=f[a];if(d&&d.colId===s[c]){o+d.rowspan-1>=e.length&&(d.getCellInner().rowspan=e.length-o);const{colspan:p,rowspan:g}=d;if(p>1)for(let b=1;b<p;b++)u[c+b]=!0;if(g>1)for(let b=o+1;b<o+g;b++)for(let v=0;v<p;v++)r[b][c+v]=!0;a+=1}else l.insertBefore(pT(this.quill.scroll,{tableId:i,colId:s[c],rowId:l.rowId}),d);c+=1}if(a<f.length)for(let d=a;d<f.length;d++)f[d].remove()}}balanceTables(){for(const t of this.quill.scroll.descendants(Jt))this.fixUnusuaDeletelTable(t)}listenBalanceCells(){this.quill.on(I.events.SCROLL_OPTIMIZE,t=>{t.some(e=>!!["TD","TR","TBODY","TABLE"].includes(e.target.tagName)&&(this.fixTableByLisenter(),!0))})}deleteTable(t){if(t.length===0)return;const e=jt(t[0],M.tableMain);e&&e.remove(),this.hideTableTools()}appendRow(t,e){if(t.length<=0)return;const s=t[e?t.length-1:0],[r,i,o]=Ei(s,[M.tableMain,M.tableBody,M.tableRow]),l=r.getRows().indexOf(o)+(e?s.rowspan:0);i.insertRow(l)}appendCol(t,e){if(t.length<=0)return;const[s]=t.reduce((d,p)=>{const g=p.getColumnIndex();return(!e&&g<=d[1]||e&&g>=d[1])&&(d=[p,g]),d},[t[0],t[0].getColumnIndex()]),r=s.getColumnIndex()+(e?s.colspan:0),i=jt(s,M.tableMain),o=i.tableId,l=_e(),[a]=i.descendants(_n);a&&a.insertColByIndex(r,{tableId:o,colId:l,width:i.full?6:160,full:i.full});const c=i.getRows(),u=[];let f=0;for(const d of Object.values(c)){const p=u.shift()||0;if(f>0){f-=1;continue}const g=d.insertCell(r-p,{tableId:o,rowId:d.rowId,colId:l,rowspan:1,colspan:1});g.skipRowNum&&(f+=g.skipRowNum);for(const[b,v]of g.entries())u[b]=(u[b]||0)+v}}fixTableByRemove(t){const e=t.getRows(),s=t.getCols(),r=s.reduce((a,c)=>(a[c.colId]=0,a),{}),i=[...e].reverse(),o=[];for(const[a,c]of i.entries()){const u=e.length-a-1;c.children.length<=0?o.push(u):c.foreachCellInner(f=>{const d=o.reduce((p,g)=>f.rowspan+u>g?p+1:p,0);f.rowspan-=d,r[f.colId]+=1})}let l=0;for(const a of Object.values(r))if(a===0){const c=[];let u=0;for(const f of Object.values(e)){const d=c.shift()||0;let p=[];u>0?(p=f.getCellByColumIndex(l-d)[2],u-=1):(p=f.removeCell(l-d),p.skipRowNum&&(u+=p.skipRowNum));for(const[g,b]of p.entries())c[g]=(c[g]||0)+b}}else l+=1;for(const a of s)r[a.colId]===0&&(a.prev?a.prev.width+=a.width:a.next&&(a.next.width+=a.width),a.remove())}removeRow(t){if(t.length<=0)return;const e=jt(t[0],M.tableMain),s=e.getRows();let r=s.length,i=-1;for(const l of t){const a=jt(l,M.tableRow),c=s.indexOf(a);c<r&&(r=c),c+l.rowspan>i&&(i=c+l.rowspan)}const o={};for(let l=r;l<Math.min(s.length,i);l++)s[l].foreachCellInner(a=>{a.rowspan+l>i&&(o[a.colId]={rowspan:a.rowspan+l-i,colspan:a.colspan,colIndex:a.getColumnIndex()}),a.parent.remove()});if(s[i]){const l=s[i],a=e.tableId;for(const[c,{colIndex:u,colspan:f,rowspan:d}]of Object.entries(o))l.insertCell(u,{tableId:a,rowId:l.rowId,colId:c,colspan:f,rowspan:d})}this.fixTableByRemove(e)}removeCol(t){if(t.length<=0)return;const e=t[0],s=jt(e,M.tableMain),r={};for(const c of t)r[c.rowId]||(r[c.rowId]=0),r[c.rowId]+=c.colspan;const i=Math.max(...Object.values(r)),o=e.getColumnIndex(),l=s.descendants(Me);for(let c=0;c<i;c++){const u=[];let f=0;for(const d of Object.values(l)){const p=u.shift()||0;if(f>0){f-=1;continue}const g=d.removeCell(o-p);g.skipRowNum&&(f+=g.skipRowNum);for(const[b,v]of g.entries())u[b]=(u[b]||0)+v}}const[a]=s.descendants(_n);if(a)for(let c=0;c<i;c++)a.removeColByIndex(o);this.fixTableByRemove(s)}mergeCells(t){if(t.length<=1)return;const e=t.reduce((l,a,c)=>{const u=a.colId;l[0][u]||(l[0][u]=0),l[0][u]+=a.rowspan;const f=a.rowId;return l[1][f]||(l[1][f]=0),l[1][f]+=a.colspan,c!==0&&(a.moveChildren(l[2]),a.parent.remove()),l},[{},{},t[0]]),s=Math.max(...Object.values(e[0])),r=Math.max(...Object.values(e[1])),i=e[2];i.colspan=r,i.rowspan=s;const o=jt(i,M.tableMain);this.fixTableByRemove(o)}splitCell(t){if(t.length!==1)return;const e=t[0];if(e.colspan===1&&e.rowspan===1)return;const[s,r]=Ei(e,[M.tableMain,M.tableRow]),i=s.tableId,o=e.getColumnIndex(),l=s.getColIds().slice(o,o+e.colspan).reverse();let a=r,c=e.rowspan;for(e.colspan=1,e.rowspan=1;a&&c>0;){for(const u of l)a===r&&u===e.colId||a.insertCell(o+(a===r?1:0),{tableId:i,rowId:a.rowId,colId:u,rowspan:1,colspan:1});c-=1,a=a.next}}};w(Js,"moduleName",va.moduleName),w(Js,"toolName",M.tableWrapper),w(Js,"keyboradHandler",{"forbid remove table by backspace":{bindInHead:!0,key:"Backspace",collapsed:!0,offset:0,handler(t,e){const s=this.quill.getLine(t.index)[0];return s.prev instanceof On?(s.prev.remove(),!1):!(e.format[M.tableCellInner]&&s.offset(jt(s,M.tableCellInner))===0)}},"forbid remove table by delete":{bindInHead:!0,key:"Delete",collapsed:!0,handler(t,e){const s=this.quill.getLine(t.index),r=s[0],i=s[1];return!((r.next instanceof On||r.next instanceof ns)&&i===r.length()-1||e.format[M.tableCellInner]&&r===jt(r,M.tableCellInner).children.tail&&i===r.length()-1)}},"table up":md(!0),"table down":md(!1),"table caption break":{bindInHead:!0,key:"Enter",shiftKey:null,format:[M.tableCaption],handler:(t,e)=>!1}});let ii=Js;const mT=Wo({__name:"vue-quill-table",setup(n){console.log(ii.moduleName),I.register({[`modules/${ii.moduleName}`]:ii},!0);const e={debug:"info",modules:{toolbar:[[{"table-up":[]}],["clean"]],table:!0,"table-up":{scrollbar:cT,align:tT,resize:lT,resizeScale:aT,customSelect:gT,selection:uT,selectionOptions:{tableMenu:iT}}},placeholder:"Compose an epic...",theme:"snow"};return Sc(()=>{const s=new I("#quill-editor",e);console.log(s)}),(s,r)=>(Xo(),Yo(Se,null,[r[0]||(r[0]=hr("div",null,"QuillTable",-1)),r[1]||(r[1]=hr("div",{id:"quill-editor"},null,-1))],64))}}),bT={};function vT(n,t){return Xo(),Yo("div",null,"TinyMCE")}const yT=vf(bT,[["render",vT]]),wT=[{path:"/",component:yT},{path:"/quill",component:LE},{path:"/quill-table",component:mT}],xT=P1({history:f1(),routes:wT});_b(kb).use(xT).mount("#app")});export default CT();
